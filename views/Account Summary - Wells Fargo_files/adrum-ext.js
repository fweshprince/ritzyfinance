!function(){new function(){var e=window.ADRUM;if(e&&e.q&&!0!==window["adrum-disable"]){!function(e){!function(t){t.R=function(n){function r(e){return e.replace(/\s/g,"")===o}var i={a:[1,2,3,"str"]},o='{"a":[1,2,3,"str"]}';return"undefined"!=typeof JSON&&JSON&&t.isFunction(JSON.stringify)&&r(JSON.stringify(i))?JSON.stringify(n):"undefined"!=typeof Object&&Object&&t.isFunction(Object.toJSON)&&r(Object.toJSON(i))?Object.toJSON(n):(e.error("M76"),null)},t.Pa=function(t,n,r){var i=t,o=r;"xhr"===r&&(i=document.createElement("div"),t.appendChild(i),o="xhr_"+t.getElementsByTagName("div").length),t=document.createElement("p"),t.innerHTML="Script loaded from "+e.conf.adrumExtUrl+". Metrics collected are:",i.appendChild(t),t=document.createElement("table"),t.id="ADRUM_"+o;var a,o=document.createElement("tbody");for(a in n){r=document.createElement("tr");var s=document.createElement("td");s.innerHTML=a,s.className="name";var u=document.createElement("td");u.innerHTML=String(n[a]),u.className="value",r.appendChild(s),r.appendChild(u),o.appendChild(r)}t.appendChild(o),i.appendChild(t)},t.Jf=function(){function e(n,r){try{if("object"!=typeof n)return String(n);if(0<=t.qa(r,n))return"Already visited";r.push(n);var i;if(t.isArray(n)){for(var o="[ ",a=0;a<n.length;a++)0!=a&&(o+=", "),o+=e(n[a],r);i=o+" ]"}else{var s,o="{ ",a=!0;for(s in n)a?a=!1:o+=", ",o+=e(s,r)+" => "+e(n[s],r);i=o+" }"}return i}catch(e){return"dumpObject failed: "+e}}return function(t){return e(t,[])}}(),t.qa=t.isFunction(Array.prototype.indexOf)?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0;n<e.length;n++)if(e[n]==t)return n;return-1},t.compareWindows=function(e,t){return e==t},t.Va=function(e,n,r,i,o){if(!t.isDefined(n))return n;if(t.isArray(n)){e=[];for(var a=0,s=n.length;a<s;a++)e[a]=t.Va(a,n[a],r,i,o);return e}if(t.isFunction(n))return n;if(t.isObject(n)){e={};for(a in n)t.hasOwnPropertyDefined(n,a)&&(e[r(a)]=o&&o(a)?n[a]:t.Va(a,n[a],r,i,o));return e}return i(e,n)},t.Qg=function(e){var n,r=[];for(n in e)t.hasOwnPropertyDefined(e,n)&&r.push([n,e[n]]);return r},t.Dh=function(){try{localStorage.setItem("try","try");var e=localStorage.getItem("try");return localStorage.removeItem("try"),"try"===e}catch(e){return!1}},t.Ch=function(){try{var e=t.R({v:1});return 1===JSON.parse(e).v}catch(e){return!1}},t.Eh=function(){return t.isFunction(window.postMessage)},t.zf=function(e,t){var n=document.createElement("div");return n.innerHTML='<iframe id="'+t+'" src='+e+' width="0" height="0" tabindex="-1" title="empty" style="display: none;"></iframe>',document.body.appendChild(n),document.getElementById(t)},t.uh=function(e,n){t.isDefined(n)&&(e.parentPageName=n)},t.Xa=function(e){return t.isNumber(e)&&isFinite(e)&&Math.floor(e)===e},t.oc=function(t){e.log(t),console&&console.log&&console.log(t)}}(e.utils||(e.utils={}))}(e||(e={})),function(e){!function(e){e.Id=function(e){return/^[0-9]+$/.test(e)?Number(e):null},e.Pc=function(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}}(e.utils||(e.utils={}))}(e||(e={})),function(e){!function(t){function n(t){var n=t.split("\r\n"),r=/^\s*ADRUM_(\d+): (.+)\s*$/i;t=[];for(var i=0;i<n.length;i++){var o=n[i];try{var a=r.exec(o);a&&t.push([Number(a[1]),a[2]])}catch(t){e.exception(t,"M79",o)}}for(Array.prototype.sort.call(t,function(e,t){return e[0]-t[0]}),a=[],n=0;n<t.length;n++)a.push(t[n][1]);return a}var r=e.utils.hasOwnPropertyDefined,i=null,o=null;t.Gc=function(){return o||(o=t.bd(t.fb(t.cookieMetadataChunks),t.fb(e.footerMetadataChunks))),o},t.getPageGUID=function(){var n=e.monitor.DOMEventsMonitor,r=e.utils.isObject(n.currentBasePage)&&e.utils.isFunction(n.currentBasePage.guid);if(!i){var o=t.Gc();i=o&&o.clientRequestGUID||(r?n.currentBasePage.guid():e.utils.generateGUID())}return i},t.jg=function(r){return r=n(r),e.log("M77",r),t.bd(t.fb(r))},t.bd=function(n,r){function i(t){for(var n=0;n<t.length;n++){var r=t[n];r!=o&&0>e.utils.qa(u,r)&&u.push(r)}}if(!n||0>=n.O.length)return null;r||(r=n);var o;if(!(0<r.O.length))return e.error("M78"),null;if(o=r.O[0],0>e.utils.qa(n.O,o))return null;var a=r.serverSnapshotType||n.serverSnapshotType,s=r.hasEntryPointErrors||n.hasEntryPointErrors,u=[];i(n.O),i(r.O);var c={clientRequestGUID:o,btGlobalAccountName:n.btGlobalAccountName};return 0<u.length&&(c.otherClientRequestGUIDs=u),0<t.ad(n.btTime,r.btTime).length&&(c.btTime=t.ad(n.btTime,r.btTime)),null!==a&&(c.serverSnapshotType=a),null!==s&&(c.hasEntryPointErrors=s),c},t.ad=function(e,t){for(var n=e.concat(t),i={},o={},a=0;a<n.length;a++){var s=n[a];s.id in i||(i[s.id]=-1),i[s.id]=Math.max(i[s.id],s.duration),s.id in o||(o[s.id]=-1),o[s.id]=Math.max(o[s.id],s.ert)}var u,n=[];for(u in i)r(i,u)&&n.push({id:u,duration:i[u],ert:o[u]});return n},t.fb=function(t){if(!e.utils.isArray(t))return null;for(var n=[],r=null,i=[],o=null,a=null,s=0;s<t.length;s++){var u=t[s];if("string"!=typeof u)return null;if(u=u.replace(/^"|"$/g,""),u=decodeURIComponent(u).split(",")[0].replace(/^\s+|\s+$/g,"").split(":"),2===u.length){var c=u[1];switch(u[0]){case"clientRequestGUID":case"g":n.push(c);break;case"btId":case"i":i.push({id:c,duration:-1,ert:-1});break;case"btDuration":case"d":if(0===i.length)return null;if(u=e.utils.Id(c),!e.utils.Pc(u)||-1>u)return null;i[i.length-1].duration=u;break;case"btERT":case"e":if(0===i.length)return null;if(u=e.utils.Id(c),!e.utils.Pc(u)||-1>u)return null;i[i.length-1].ert=u;break;case"serverSnapshotType":case"s":o=c;break;case"globalAccountName":case"n":r=c;break;case"hasEntryPointErrors":case"h":a=c}}}return 0===n.length?null:{O:n,btGlobalAccountName:r,btTime:i,serverSnapshotType:o,hasEntryPointErrors:a}},t.Fi=n}(e.correlation||(e.correlation={}))}(e||(e={})),function(e){var t=e.conf||(e.conf={});t.ai=3e3,t.Nd=e.isDebug,t.cf=1e3,t.Ee=2,t.De=5,t.ye=5,t.ze=20,t.Nb=5e3,t.M=512,t.ie=10,t.he=64,t.Oe=10,t.Ne=10,t.Je=300,t.Pb=2048,t.Y=2048,t.bi=760,t.Yc={eumAppKey:"ky",userPageName:"un",clientRequestGUID:"cg",otherClientRequestGUIDs:"og",baseGUID:"bg",parentGUID:"mg",parentPageUrl:"mu",parentPageType:"mt",parentLifecyclePhase:"pp",pageType:"pt",pageUrl:"pu",pageReferrer:"pr",pageTitle:"pl",pageName:"pn",httpHeaders:"hh",parameter:"pa",navOrXhrMetrics:"mn",cookieMetrics:"mc",resourceTimingInfo:"rt",userData:"ud",userDataLong:"udl",userDataDouble:"udd",userDataBoolean:"udb",userDataDate:"udt",errors:"er",ajaxError:"ae",xhrStatus:"xs",btTime:"bt",btGlobalAccountName:"btgan",serverSnapshotType:"ss",hasEntryPointErrors:"se",dataType:"dt",geoCountry:"gc",geoRegion:"gr",geoCity:"gt",localIP:"lp",ip:"ip",BEACONS:"B",ver:"vr",eom:"em",agentId:"ai",rootGUID:"rg",events:"es",guids:"gs",urlParts:"up",sequenceId:"si",eventType:"et",eventGUID:"eg",parentType:"at",serverMetadata:"sm",eventUrl:"eu",line:"ln",message:"dm",duration:"dn",id:"id",ert:"ert",parentUrl:"au",parentPageName:"an",geo:"ge",metrics:"mx",timestamp:"ts",country:"c",region:"r",city:"t",method:"md",clientId:"ci"}}(e||(e={})),function(e){e=e.beacons||(e.beacons={}),e.numBeaconsSent=0,e.beaconsSent=[]}(e||(e={})),function(e){!function(t){var n=function(){function n(){}return n.prototype.send=function(n,r){var i,o=(r?e.conf.beaconUrlHttps:e.conf.beaconUrlHttp)+e.conf.corsEndpointPath+"/"+e.conf.appKey+"/adrum";e.utils.isFunction(e.xhrConstructor)&&e.utils.isFunction(e.xhrOpen)?(i=new e.xhrConstructor,e.xhrOpen.call(i,"POST",o)):(i=new XMLHttpRequest,i.open("POST",o)),i.setRequestHeader("Content-type","text/plain");var a=e.utils.R(n);null!=a&&(e.utils.isFunction(e.xhrSend)?e.xhrSend.call(i,a):i.send(a),e.log("M80"+o+"\n"),e.log("<hr/>"),e.isDebug&&t.beaconsSent.push(n),t.numBeaconsSent+=1)},n}();t.de=n}(e.beacons||(e.beacons={}))}(e||(e={})),e||(e={}),function(e){var t=function(){function t(e,t,n){this.va=e,this.ug=t,this.ub=n}return t.prototype.Fc=function(){try{return t.Bc(this.ug.ADRUM)}catch(n){return e.error("M81"),t.Bc(e)}},t.Bc=function(e){return e.correlation.getPageGUID()},t}();e.ae=t}(e||(e={})),function(e){e.beacons||(e.beacons={})}(e||(e={})),function(e){!function(e){var t=function(){function t(){this.ra=[],this.Qa={}}return t.prototype.ua=function(t){if(!t)return"";if(e.hasOwnPropertyDefined(this.Qa,t))return this.Qa[t];var n=this.ra.length;return this.Qa[t]=n,this.ra[n]=t,n},t}();e.Mb=t}(e.utils||(e.utils={}))}(e||(e={})),function(e){!function(t){var n=e.utils.map,r=function(){function e(){}return e.yh=function(e){e=(e||"").match(/([^:\/?#]+:\/\/)?([^?#]+)?(\?[^#]*)?(#[\s\S]*)?/);var t={};return e[1]&&(t.protocol=e[1].substring(0,e[1].length-3)),e[2]&&(t.path=e[2]),e[3]&&(t.lh=e[3]),e[4]&&(t.anchor=e[4]),t},e.Nf=function(t,r){var i=e.yh(t),o="";return i.protocol&&(o+=r.ua(i.protocol),o+="://"),i.path&&(o+=n(i.path.split("/"),r.ua,r).join("/")),o+=n([i.lh,i.anchor],function(e){return e?e[0]+r.ua(e.slice(1)):""},r).join("")},e.Lf=function(e,t){return""+t.ua(e)},e}();t.Db=r}(e.beacons||(e.beacons={}))}(e||(e={})),function(e){!function(t){!function(t){function n(){var t=null,n=null;try{t=localStorage[o]}catch(e){}if(t)try{t=n=JSON.parse(t),e.utils.isObject(t)&&e.utils.isNumber(t[u])&&-1<t[u]?i=n:e.error("M82")}catch(t){e.exception(t,"M83");try{delete localStorage[o]}catch(t){e.exception(t,"M84")}}}function r(){try{var t=e.channel,n=i[a]||i[s],r=t&&t.L&&t.L.I&&t.L.I.id||(e.utils.isString(n)?n:e.utils.generateGUID());i[a]=i[s]=r,localStorage[o]=e.utils.R(i)}catch(e){}}var i,o="ADRUM_CLIENTINFO",a="agentId",s="clientId",u="seqId";n(),i||(i={seqId:0}),r(),t.ag=function(){n();var e=i[u]++;return r(),e}}(t.lc||(t.lc={}))}(e.Bd||(e.Bd={}))}(e||(e={})),function(e){!function(t){var n=function(){function n(){this.T={sa:!1},this.od=/;jsessionid=[^/?]+/,t.mergeJSON(this.T,e.conf.userConf.T),t.isBoolean(this.T.sa)||t.isArray(this.T.sa)||(e.log("M85"),this.T.sa=!1)}return n.xh=function(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t},n.prototype.ig=function(e){var n,r,i="";return t.isString(e)?(n=e.indexOf("?")+1,0<n&&(r=e.indexOf("#"),0>r?i=e.substring(n):n<=r&&(i=e.substring(n,r))),i):""},n.prototype.Rf=function(e){var n,r,i,o="",a=this.T.sa,s={},u=0;if(!t.isString(e)||""===e)return"";if(!1===a)return e;if(n=this.ig(e),""===n)return e;if(t.isArray(a)){for(i=0;i<a.length;i++)s[a[i]]=!0;for(a=n+"&",i=0;i<a.length;i++)switch(a[i]){case"=":r=a.substring(u,i);break;case"&":case";":r=r||a.substring(u,i),i++,s[r]||(o+=a.substring(u,i)),u=i,r=null}o=o.substring(0,o.length-1)}return""==o&&(n="?"+n),e.replace(n,o)},n.prototype.K=function(e){if(null===e||void 0===e)return null;if(""===e)return"";var t=e.match(this.od),n=e;if(null!=t){var r=e.indexOf("?");(0>r||r>t.index)&&(n=e.replace(this.od,""))}return n=this.Rf(n)},n.prototype.vc=function(e){if(null===e||void 0===e)return null;var t=e.indexOf("?"),n=e.indexOf("#");return 0>t&&(t=Number.MAX_VALUE),0>n&&(n=Number.MAX_VALUE),e.substring(0,Math.min(t,n))},n.prototype.Zg=function(e){if(null===e||void 0===e)return null;var t=this.vc(e);return t+"?"+n.xh(e.substring(t.length))},n}();t.gi=n,t.A=new n}(e.utils||(e.utils={}))}(e||(e={})),function(e){e=e.U||(e.U={}),e.Q||(e.Q={})}(e||(e={})),function(e){e=e.U||(e.U={}),e.Q||(e.Q={})}(e||(e={})),function(e){!function(t){!function(t){var n=function(){function t(t,n,r){this.mh=0,this.ib=[],this.Jc=!1,this.og=r;var i=this;e.utils.addEventListener(window,"message",function(e){i.dh(e)}),this.mg=e.utils.zf(n,t)}return t.prototype.dh=function(t){var n;try{n=JSON.parse(t.data),e.utils.isDefined(n)&&!0===n.success?-1===n.id&&"iframe-ready"===n.data?(this.Jc=!0,this.og()):this.ib[n.id]&&this.ib[n.id](n.data):e.error("M86"+t.data+"]")}catch(t){e.exception(t,"M87")}},t.prototype.send=function(t,n,r,i){if(this.Jc){var o=this.mh++;this.ib[o]=i,this.mg.contentWindow.postMessage(e.utils.R({id:o,action:t,key:n,value:r}),"*")}},t.prototype.generateGUID=function(e,t){this.send("generateGUID",e,null,t)},t}();t.fe=n}(t.Q||(t.Q={}))}(e.U||(e.U={}))}(e||(e={})),function(e){!function(t){var n=function(){function t(){this.dc=new r(t.Xd),this.Ud=new r(t.Zd),this.Wh=new i(t.Yd)}return t.prototype.init=function(n){this.channel=n,e.utils.Dh()&&e.utils.Ch()?e.utils.Eh()&&t.Mg()?this.Nh():this.Od():t.cd=!0},t.prototype.Od=function(){var n=this.dc.load();t.Kg(n)||(n={ver:e.conf.agentVer,id:e.utils.generateGUID()},this.dc.save(n)),t.I=n},t.prototype.Nh=function(){var n=this.Ud.load();if(t.Lg(n))t.I=n;else{e.log("M88");var r=this;this.Wh.load(function(n){n&&(n={ver:e.conf.agentVer,id:n,ttl:(new Date).getTime()+t.je},r.Ud.save(n),t.I=n,e.log("M89"))}),r=this,e.utils.tryPeriodically(t.Ka,function(){return r.isReady()},function(){r.onReady()},function(){r.cb()})}},t.Mg=function(){return e.conf.userConf&&e.conf.userConf.xd&&e.conf.userConf.xd.enable},t.Kg=function(e){return e&&e.id&&0<e.id.length},t.Lg=function(e){return e&&e.id&&0<e.id.length&&0===e.id.indexOf("XD_")&&e.ttl>(new Date).getTime()},t.prototype.isReady=function(){return t.cd||e.utils.isDefined(t.I)},t.prototype.onReady=function(){this.channel.onResolverReady()},t.prototype.cb=function(){e.log("M90"),this.Od(),this.channel.onResolverReady()},t.Ka=function(e){return 10<e?-1:[1,50,100,500][e-1]||1e3},t.Xd="ADRUM_AGENT_INFO",t.Zd="ADRUM_XD_AGENT_INFO",t.Yd="ADRUM_XD_AGENT_ID",t.je=6048e5,t.cd=!1,t}();t.L=n;var r=function(){function t(e){this.cc=e}return t.prototype.load=function(){var t=null;try{var n=localStorage.getItem(this.cc);n&&(t=JSON.parse(n))}catch(t){e.exception(t,"M91")}return t},t.prototype.save=function(t){try{var n=e.utils.R(t);n&&localStorage.setItem(this.cc,n)}catch(t){e.exception(t,"M92")}},t}(),i=function(){function t(e){this.lf=e}return t.prototype.load=function(t){var n=this;try{var r=new e.U.Q.fe("cross-domain-store-server-iframe",e.conf.adrumXdUrl,function(){r.generateGUID(n.lf,t)})}catch(t){e.exception(t,"M93")}},t}()}(e.channel||(e.channel={}))}(e||(e={})),function(e){!function(t){var n=e.utils.isString,r=function(){function r(){}return r.prototype.$a=function(t,n,i){return t={ver:e.conf.agentVer,dataType:"R",rootGUID:i.Fc(),events:t},e.channel.L.I&&e.channel.L.I.id&&(t.agentId=e.channel.L.I.id),n&&(t.geo=n),r.hh(t)},r.hh=function(t){return e.isDebug||(t=r.vf(t)),t},r.vf=function(i){var o=new e.utils.Mb,a=new e.utils.Mb;return i=e.utils.Va(null,i,r.Ua,function(i,s){return n(s)&&s.length>e.conf.Pb&&(s=s.substr(0,e.conf.Pb)),r.Jg(i)&&(n(s)&&s.length>e.conf.M&&(s=3<e.conf.M?s.substr(0,e.conf.M-3):"",s+="..."),s=t.Db.Nf(s,o)),r.Bg(i)&&(s=t.Db.Lf(s,a)),s},r.Sg),i[r.Ua("guids")]=a.ra,i[r.Ua("urlParts")]=o.ra,i},r.Jg=function(e){return"eventUrl"==e||"parentUrl"==e||"pageReferrer"==e||"pageUrl"==e||"u"==e},r.Bg=function(e){return"eventGUID"==e||"parentGUID"==e||"rootGUID"==e||"clientRequestGUID"==e},r.Ua=function(t){if(e.conf.Nd)return t;var n=e.conf.Yc[t];return"undefined"==typeof n?t:n},r.Sg=function(e){return e=""+e,0===e.indexOf("userData")||"parameter"===e},r}();t.ce=r}(e.beacons||(e.beacons={}))}(e||(e={})),function(e){!function(t){var n=function(){function n(){}return n.prototype.send=function(e,t){for(var n=0;n<e.length;n++)this.sh(e[n],t)},n.prototype.sh=function(n,r){var i=(r?e.conf.beaconUrlHttps:e.conf.beaconUrlHttp)+e.conf.imageEndpointPath,o=document.createElement("img");try{o.src=i+n}catch(e){}e.isDebug&&t.beaconsSent.push(n),t.numBeaconsSent+=1},n}();t.ue=n}(e.beacons||(e.beacons={}))}(e||(e={})),function(e){!function(e){e.ga=function(e,t){return 3>=t?"...":(e.length>t&&(e=e.substring(0,t-3)+"..."),e)},e.Kd=function(e,t){return 3>=t?"...":(e.length>t&&(e=e.substring(0,(t-3)/2)+"..."+e.substring(e.length-(t-3)/2,e.length)),e)},e.Kh=function(t,n){return t.length<=n||(t=e.ga(t,n-1),t+=":"),t},e.Ih=function(t,n,r,i,o,a){return t=e.Kh(t,i),r=e.ga(r,o),t.length+n.length+r.length>a-3&&(n=e.ga(n,a-3-t.length-r.length)),0<r.length?t+"//"+n+":"+r:t+"//"+n},e.Jh=function(t,n,r){if(t=e.map(t,function(t){return e.Kd(t,n)}),t.length>r){var i=t[0];t=t.slice(t.length-r),t.unshift("..."),""==i&&t.unshift(i)}return t},e.Lh=function(t,n,r,i,o){i=e.Ih(t.protocol,t.hostname,t.port,i,o,n),r--,o=e.ga(t.search,n),r--;var a=e.ga(t.hash,n);r--,t=t.pathname.split("/");var s="";return 0<t.length&&(s=t.pop(),s=e.Kd(s,n),r--),t=e.Jh(t,n,r),0==t.length?i+s+o+a:i+t.join("/")+"/"+s+o+a}}(e.utils||(e.utils={}))}(e||(e={})),function(e){!function(e){var t=function(){function e(){}return e.Wa=function(){for(var t=0;t<e.Kb.length;t++)e.G[e.Kb[t]]=e.C.pe;for(t=0;t<e.Ib.length;t++)e.G[e.Ib[t]]=e.C.me;e.G.js=e.C.Xe,e.G.css=e.C.CSS,e.G.svg=e.C.Ze,e.G.html=e.C.Jb,e.G.htm=e.C.Jb},e.Ta=function(e){return e.duration?e.duration:e.responseEnd&&e.startTime?e.responseEnd-e.startTime:-1},e.Ec=function(t){var n;return(t=t.pathname)&&-1!=(n=t.lastIndexOf("."))?e.G[t.substring(n+1,t.length).toLowerCase()]||e.C.Sb:e.C.Sb},e.C={pe:"img",Xe:"script",CSS:"css",Ze:"svg",Jb:"html",me:"font",Sb:"other"},e.Kb="bmp gif jpeg jpg png webp".split(" "),e.Ib=["ttf","woff","otf","eot"],e.G={},e}();e.Z=t,t.Wa()}(e.events||(e.events={}))}(e||(e={})),function(e){!function(e){var t=function(){function e(t){function n(e){r.marks.push(0==t[e]?-1:Math.round(t[e]-r.ed))}this.marks=[];var r=this;this.ed=t.startTime,this.zg(t)?(this.yc=e.Eb,n("startTime"),n("fetchStart")):(this.yc=e.Ub,n("startTime"),n("redirectStart"),n("redirectEnd"),n("fetchStart"),n("domainLookupStart"),n("domainLookupEnd"),n("connectStart"),n("secureConnectionStart"),n("connectEnd"),n("requestStart"),n("responseStart")),n("responseEnd")}return e.bg=function(){var t={};return t[e.Ub]=e.We,t[e.Eb]=e.ee,t},e.prototype.zg=function(e){return this.F(e.redirectStart)&&this.F(e.redirectEnd)&&this.F(e.domainLookupStart)&&this.F(e.domainLookupEnd)&&this.F(e.connectStart)&&this.F(e.connectEnd)&&this.F(e.requestStart)&&this.F(e.responseStart)&&this.F(e.secureConnectionStart)},e.prototype.F=function(e){return!e||0===e},e.Ub=1,e.Eb=2,e.We="startTime redirectStart redirectEnd fetchStart dnsLookupStart dnsLookupEnd connectStart secureConnectionStart connectEnd requestStart responseStart responseEnd".split(" "),e.ee=["startTime","fetchStart","responseEnd"],e}();e.Tb=t}(e.events||(e.events={}))}(e||(e={})),function(e){!function(e){var t=function(){function e(){}return e.prototype.Ca=function(e,t){if(e)return e.slice(0,t)},e}();e.ne=t}(e.events||(e.events={}))}(e||(e={})),function(e){!function(e){var t=function(){function t(){}return t.prototype.Ca=function(t,n){if(t){if(t.length<=n)return t;for(var r=[],i=0;i<t.length;i++)r.push({jb:t[i],index:i});r.sort(function(t,n){return-(e.Z.Ta(t.jb)-e.Z.Ta(n.jb))}),r=r.slice(0,n),r.sort(function(e,t){return e.index-t.index});for(var o=[],i=0;i<r.length;i++)o.push(r[i].jb);return o}},t}();e.Xb=t}(e.events||(e.events={}))}(e||(e={})),function(e){!function(e){var t=function(){function t(){}return t.prototype.Ca=function(t,n){if(t){if(t.length<=n)return t;for(var r=1,i=Math.floor(Number.MAX_VALUE/4),o=t.length;r<i;){for(var a=t.length-1;0<=a;a--)if(e.Z.Ta(t[a])<r&&(t.splice(a,1),o--),o<=n)return t;r*=4}return(new e.Xb).Ca(t,n)}},t}();e.Ve=t}(e.events||(e.events={}))}(e||(e={})),function(e){!function(t){var n=e.utils.hasOwnPropertyDefined,r=function(){function r(n,o){this.version=2,this.resourceTimingInfo={},this.Mc={},this.Nc={},this.rd={},this.sd={},this.kb=[],this.hf=function(n,r){if(n&&r&&0<r.length){this.Gh=n;for(var o=new i,a=new i,s=0;s<r.length;s++){var u=r[s],c=e.utils.parseURI(e.utils.A.K(u.name)),f=u.initiatorType,l=t.Z.Ec(c),h=new t.Tb(u);this.kb.push({u:this.Mh(c),i:o.Ac(this.Nc,f),r:a.Ac(this.sd,l),f:h.yc,o:0===s&&u.isBase?1:Math.round(h.ed),m:h.marks,e:e.utils.isDefined(u.encodedBodySize)?u.encodedBodySize:-1,d:e.utils.isDefined(u.decodedBodySize)?u.decodedBodySize:-1,s:e.utils.isDefined(u.transferSize)?u.transferSize:-1,p:e.utils.isDefined(u.nextHopProtocol)?u.nextHopProtocol:""})}}};var a=r.Zf();this.sf(a,n),n=this.ph(a,n),this.hf(o||e.monitor.perfMonitor.navTiming&&e.monitor.perfMonitor.navTiming.navigationStart,n),this.clearResourceTimings()}return r.Wa=function(){var n=e.conf.userConf&&e.conf.userConf.resTiming&&e.conf.userConf.resTiming.sampler;r.oh=n&&"FirstN"==n?new t.ne:n&&"TopN"==n?new t.Xb:new t.Ve},r.prototype.Kc=function(e,t){e[t]=e[t]?e[t]+1:1},r.prototype.Mh=function(t){return e.utils.Lh(t,"number"==typeof e.conf.userConf.maxResUrlSegmentLength?e.conf.userConf.maxResUrlSegmentLength:e.conf.he,"number"==typeof e.conf.userConf.maxResUrlSegmentNumber?e.conf.userConf.maxResUrlSegmentNumber:e.conf.ie,e.conf.Oe,e.conf.Ne)},r.prototype.sf=function(e,t){if(e&&this.Lc(e),t&&0<t.length)for(var n=0;n<t.length;n++)this.Lc(t[n])},r.prototype.Lc=function(n){var r=e.utils.parseURI(e.utils.A.K(n.name)),r=t.Z.Ec(r);this.Kc(this.Mc,n.initiatorType),this.Kc(this.rd,r)},r.prototype.ph=function(t,n){if(n&&0<n.length){var i=e.conf.userConf&&e.conf.userConf.resTiming&&e.conf.userConf.resTiming.maxNum||e.conf.Je;t&&i--,n=r.oh.Ca(n,i),t&&n.unshift(t)}return n},r.prototype.build=function(){return 0==this.kb.length?null:{v:this.version,ic:this.Mc,it:this.Nc,rc:this.rd,rt:this.sd,f:t.Tb.bg(),t:this.Gh,r:this.kb}},r.Zf=function(){var t=e.monitor.perfMonitor.navTiming,r=null;if(t){var i,r={};for(i in t)n(t,i)&&(r[i]=t[i]);r.initiatorType="other",r.name=document.URL,r.navigationStart&&!r.startTime&&(r.startTime=r.navigationStart),r.isBase=!0}return r},r.prototype.clearResourceTimings=function(){var t=e.monitor.PerformanceMonitor.perf;e.conf.userConf&&e.conf.userConf.resTiming&&e.conf.userConf.resTiming.clearResTimingOnBeaconSend&&t&&e.utils.isFunction(t.clearResourceTimings)&&t.clearResourceTimings()},r}();t.ResourceTimingInfoBuilder=r;var i=function(){function e(){this.Tg=1}return e.prototype.Ac=function(e,t){return e[t]||(e[t]=this.Tg++),e[t]},e}();r.Wa()}(e.events||(e.events={}))}(e||(e={})),function(e){e.events||(e.events={})}(e||(e={})),function(e){!function(t){var n=function(){function n(){}return n.prototype.make=function(n,r){void 0===r&&(r={});var i={eventGUID:n.guid(),eventType:n.type(),eventUrl:e.utils.A.K(n.url()||document.URL),timestamp:e.utils.now()};n.type()!==e.EventType.PageView&&e.utils.mergeJSON(i,{parentGUID:n.parentGUID()||e.correlation.getPageGUID(),parentUrl:e.utils.A.K(n.parentUrl()||document.URL),parentType:n.parentType()||(e.utils.compareWindows(top,window)?e.EventType.PageView:e.EventType.IFRAME)});var o,a=e.EventType[n.type()],a=t.$.kg(a,e.conf.userConf,r,e.conf.Y);for(o in a)i[o]=a[o];return i},n}();t.ka=n}(e.events||(e.events={}))}(e||(e={})),function(e){!function(t){var n=e.utils.isNumber,r=e.utils.isString,i=e.utils.isObject,o=e.utils.oc,a=e.utils.Xa,s=e.utils.isBoolean,u=function(){function t(){}return t.bb=function(t,n){var r=!1;if(i(t)){var o=e.utils.R(t);(!o||o.length<=n)&&(r=!0)}return r},t.Bh=function(e,n,i){if(r(n)){if(!(n.length>i))return n;t.ya(e,i,n.length)}else t.Za(e,"string")},t.za=function(e,n){return function(r,o,a){if(i(o)){var s,u;for(u in o)e(o[u])?(s=s||{},s[u]=o[u]):t.Za(r,n,u);if(s){if(t.bb(s,a))return s;t.ya(r,a)}}else t.Za(r,"object")}},t.Za=function(e,t,n){o(e+" dropped because it was not a "+t+(n?", field name "+n:""))},t.ya=function(e,t,n){o("User event info field "+e+" dropped because it is too long"+(n?" ("+n+" exceeds "+t+")":""))},t.kg=function(n,r,o,a){if((n=r&&r.userEventInfo&&r.userEventInfo[n])&&(o=e.utils.isFunction(n)?n.call(null,o):n,i(o)))return t.Rh(o,a)},t.Rh=function(e,n){var r,i={};for(r in t.wc)if(r in e){var o=t.wc[r](r,e[r],n);o&&(i[r]=o)}return i},t.bh=t.za(r,"string"),t.ah=t.za(a,"integer"),t.dd=t.za(n,"number"),t.$g=t.za(s,"boolean"),t.wc={userPageName:t.Bh,userData:t.bh,userDataLong:t.ah,userDataDouble:t.dd,userDataBoolean:t.$g,userDataDate:t.dd},t}();t.$=u}(e.events||(e.events={}))}(e||(e={}));var t=this.ff||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};!function(e){!function(n){var r=e.utils.isDefined,i=function(i){function o(){i.apply(this,arguments)}return t(o,i),o.setPageName=function(e){o.Ph=e},o.addUserData=function(e,t){o.ha=o.ha||{},o.ha[e]=t},o.prototype.make=function(t){t=i.prototype.make.call(this,t||new n.PageView);var a=this.eg(),s=this.$f();e.conf.viz&&(a&&e.utils.Pa(document.getElementById(e.conf.viz),a,"navtime"),e.utils.Pa(document.getElementById(e.conf.viz),s,"cookie")),s.PLC=1,a&&(a.PLC=1),0<e.monitor.ErrorMonitor.errorsSent&&(s.EPM=1,a&&(a.EPM=1)),e.utils.mergeJSON(t,{eventGUID:e.correlation.getPageGUID(),eventType:e.utils.compareWindows(top,window)?e.EventType.PageView:e.EventType.IFRAME,cookieMetrics:s});var u=-1;return a&&a.timestamp?u=a.timestamp:s&&s.timestamp&&(u=s.timestamp),0<u&&e.utils.mergeJSON(t,{timestamp:u}),a&&(t.metrics=a),document.referrer&&null!==document.referrer&&0<document.referrer.length&&(t.pageReferrer=e.utils.A.K(document.referrer)),a=o.fg(),0<a.length&&(t.pageTitle=a),a=e.correlation.Gc(),null!==a&&(t.serverMetadata=a),a=e.monitor.perfMonitor.resTiming?new n.ResourceTimingInfoBuilder(e.monitor.perfMonitor.resTiming).build():null,null!==a&&(t.resourceTimingInfo=a),!r(t.userData)&&r(o.ha)&&(n.$.bb(o.ha,e.conf.Y)?t.userData=o.ha:n.$.ya("userData",e.conf.Y)),e.utils.isDefined(t.userPageName)||(t.userPageName=o.Ph),o.userPageName=t.userPageName,t},o.prototype.eg=function(){if(!e.monitor.perfMonitor.navTiming)return null;var t,r={},i=o.Cc(e.monitor.perfMonitor.navTiming,r,"NT"),a=n.metricSpec[e.EventType.PageView];for(t in a){var s=a[t];i.add(s.name,s.start,s.end)}return r.timestamp=e.monitor.perfMonitor.navTiming.navigationStart,r},o.prototype.$f=function(){var t={};return e.commands.marks&&(o.Cc(e.commands.marks,t,"CK").add("PLT","starttime","onload").add("FBT","starttime","firstbyte").add("FET","firstbyte","onload").add("DRT","firstbyte","onready").add("PRT","onready","onload").add("DOM","starttime","onready"),t.timestamp=e.commands.marks.starttime?e.commands.marks.starttime:e.commands.marks.firstbyte),t},o.fg=function(){var t,n=e.conf.userConf,n=n&&n.page;t=!(n&&"captureTitle"in n)||n.captureTitle;var r,i;return n&&(r="title"in n,i=n.title),r=t?r?e.utils.isFunction(i)?i():i:document.title:"",e.utils.isString(r)?r:(e.utils.oc("Ignoring wrong type of page title: "+typeof r),"")},o.gf=function(t,n,r,i,o,a){n=i[n],r=i[r],n&&r?o[t]=r-n:e.log("M94",a,t,n,r)},o.Cc=function(e,t,n){var r={add:function(i,a,s){return o.gf(i,a,s,e,t,n),r}};return r},o}(n.ka);n.H=i}(e.events||(e.events={}))}(e||(e={})),function(e){!function(t){!function(t){function n(t,o){var u,f=o[t],d=typeof f;p.push(t);var g=h[p.join(".")];if(e.utils.isFunction(g))u=g(f);else switch(d){case"string":u="number"==typeof g?c(f,i,g):i(f);break;case"number":u=s(f);break;case"object":if(f)if(e.utils.isArray(f))u=a(f,!1,!1);else{u=[];for(var v in f)l(f,v)&&(d=n(v,f))&&(r(t)&&"timestamp"==v||u.push({xa:v,v:d}));if(r(t)){for(f=0;f<u.length;f++)u[f]=u[f].xa+i(":")+u[f].v;u=i("{")+u.join(i(","))+i("}")}else{for(f=0;f<u.length;f++)v=u[f],d=v.xa,e.conf.Nd||((g=e.conf.Yc[v.xa])?d=g:e.error("M95",v.xa)),u[f]=d+"="+v.v;u=u.join("&")}}else u=null}return p.pop(),u}function r(e){return"navOrXhrMetrics"==e||"cookieMetrics"==e}function i(e){return"undefined"==typeof e||null===e||0===e.length?null:encodeURIComponent(e)}function o(e){return encodeURIComponent(encodeURIComponent(e))}function a(e,t,r){if(void 0===t&&(t=!1),void 0===r&&(r=!0),0===e.length)return null;var o=[];if(t)o=e;else for(t=0;t<e.length;t++)o.push(n(t,e));return i("[")+o.join(i(","))+i(r?">":"]")}function s(e){return e=Math.round(e),e<t.Rb&&(e=t.Rb),e>t.Ob&&(e=t.Ob),i(e)}function u(e,n){return(e>n||0>e)&&(e=t.Se),i(e)}function c(t,n,r,i){if(void 0===i&&(i=!0),"undefined"==typeof t||null===t||0===t.length)return null;var o=3<=r?"...":"";e.assert(r>=o.length);for(var a=!1,s=null;;){try{if(s=n(t),null===s)return null;if(s.length<=r)break}catch(e){}var u;a?u=t.length-1:(a=!0,u=r-=o.length);var c=i?0:Math.max(t.length-u,0);t=t.substr(c,u)}return a&&(s=i?s+o:o+s),s}function f(n,r,i){return 0==i?t.Ha:r<n?0:(r=t.Ha+(r-n)/i,e.assert(r>=t.Ha),e.log("M96",n,r),r)}var l=e.utils.hasOwnPropertyDefined;t.Se=-1,t.M=180,t.Le=50,t.Me=50,t.Ge=40,t.Ha=50,t.ve=50,t.Qb=128,t.Be=30,t.Ce=30,t.Ae=30,t.He=8,t.Rb=-99999,t.Ob=999999,t.we=2e3,t.Ke=2,t.xe=99999999;var h={".pageUrl":t.M,".parentPageUrl":t.M,".pageReferrer":t.M,".pageTitle":t.Le,".userPageName":t.Me,".geoCountry":t.Be,".geoRegion":t.Ce,".geoCity":t.Ae,".localIP":t.He,".otherClientRequestGUIDs":function(e){e=e||[];var n=e.slice(0,t.Ke);return a(n,!1,n.length<e.length)},".btTime":function(n){n=n||[];for(var r=n.slice(0,e.conf.ye),i=[],o=0;o<r.length;o++){var c=r[o];i.push(a([u(Number(c[0]),t.xe),s(c[1]),s(c[2])],!0,!1))}return a(i,!0,r.length<n.length)},".ajaxError":function(e){return a([o(e[0]),c(e[1],o,t.ve)],!0,!1)},".userData":function(e){e=e||[];for(var n=!1,r=0,i=[],s=0;s<e.length;s++){var u=e[s];if(i[s]=a([o(u[0]),o(u[1])],!0,!1),r+=i[s].length,r>t.Qb){n=!0;break}}for(;;){if(e=a(i,!0,n),null===e||e.length<=t.Qb)return e;i.pop(),n=!0}}},p=[];t.Kf=function(r,i){void 0===i&&(i=!0),p=[];var u=[];r.errors&&(u=r.errors,r.errors=null);var l=n("",{"":r});if(u&&0<u.length){for(var h=f(i?870:354,t.we-l.length,u.length),d=[],g=0;g<u.length;g++){var v=u[g],m=e.utils.A.vc(e.utils.A.K(v[0]));d.push(a([c(m,o,t.Ge,!1),e.utils.Xa(v[1])?s(v[1]):-1,c(v[2],o,h)],!0,!1))}u=a(d,!0,!1),l+="&errors="+u}return l},t.si=n,t.Mi=i,t.element=o,t.mi=a,t.oi=s,t.Ei=u,t.truncate=c,t.Ji=f}(t.Lb||(t.Lb={}))}(e.beacons||(e.beacons={}))}(e||(e={})),function(e){!function(t){var n=e.utils.hasOwnPropertyDefined,r=e.utils.qa,i=function(){function i(){}return i.prototype.$a=function(n,r,o){for(var a=[],s=[],u=null,c=[],f=0;f<n.length;f++){var l=n[f];if(l.eventType===e.EventType.Error){var h=l;s.push([l.eventUrl+"",e.utils.Xa(h.line)?h.line:void 0,h.message+""])}else l.eventType!==e.EventType.PageView&&l.eventType!==e.EventType.IFRAME||(u=l),c.push(l)}if(n=c,0<s.length)for(u&&(u.errors=s.splice(0,e.conf.Ee));0<s.length;)l=s.splice(0,e.conf.De),u=i.eh.make(),u.errors=l,u.isErrorEvent=!0,u.cookieMetrics=null,u.metrics=null,u.resourceTimingInfo=null,n.push(u);for(s=0;s<n.length;s++)l=n[s],e.log("M97"),l.resourceTimingInfo=null,i.Wf(l,r,o),u=i.transform(l),a.push(t.Lb.Kf(u,l.isErrorEvent));return a},i.Wf=function(t,n,r){t.ver=this.qe,t.rootGUID=r.Fc(),t.geo=n,t.dataType="R",t.eom=1,t.eumAppKey=e.conf.appKey,t.PLC=1},i.transform=function(e){var t={};return i.Sd("",{"":e},t),t},i.Sd=function(t,o,a){o=o[t];var s=i.Vc[t];if("metrics"===t||"cookieMetrics"===t)a[s]=o;else if("btTime"===t&&e.utils.isArray(o)&&0<o.length){t=[];for(var u=0;u<o.length;u++)t.push([o[u].id,o[u].duration,o[u].ert]);a[s]=t}else if("userData"===t&&e.utils.isObject(o))a[s]=e.utils.Qg(o);else if(!(t&&-1<r(["userDataLong","userDataDouble","userDataBoolean","userDataDate"],t)))if(e.utils.isObject(o))for(u in o)n(o,u)&&i.Sd(u,o,a);else i.Vc[t]&&("eventType"===t&&o>e.EventType.Ajax&&(o=e.utils.compareWindows(top,window)?e.EventType.PageView:e.EventType.IFRAME),a[s]=o)},i.eh=new e.events.H,i.qe=3,i.Vc={eumAppKey:"eumAppKey",userPageName:"userPageName",rootGUID:"baseGUID",parentGUID:"parentGUID",parentUrl:"parentPageUrl",parentType:"parentPageType",parentLifecyclePhase:"parentLifecyclePhase",eventType:"pageType",eventUrl:"pageUrl",pageReferrer:"pageReferrer",pageTitle:"pageTitle",metrics:"navOrXhrMetrics",xhrMetrics:"navOrXhrMetrics",resourceTimingInfo:"resourceTimingInfo",cookieMetrics:"cookieMetrics",userData:"userData",errors:"errors",ajaxError:"ajaxError",dataType:"dataType",country:"geoCountry",region:"geoRegion",city:"geoCity",localIP:"localIP",ver:"ver",eom:"eom",eventGUID:"clientRequestGUID",otherClientRequestGUIDs:"otherClientRequestGUIDs",btTime:"btTime",serverSnapshotType:"serverSnapshotType",hasEntryPointErrors:"hasEntryPointErrors"},i}();t.te=i}(e.beacons||(e.beacons={}))}(e||(e={})),function(e){!function(e){var t=function(){function e(){}return e.prototype.send=function(){},e}();e.le=t}(e.beacons||(e.beacons={}))}(e||(e={})),function(e){!function(e){var t=function(){function e(){}return e.prototype.$a=function(){return null},e}();e.ke=t}(e.beacons||(e.beacons={}))}(e||(e={})),function(e){var t=function(){function t(){}return t.nc=function(t,n){if(!t)return null;var r=t.ADRUM.lifecycle;if(!r||!r.getPhaseCallbackTime)return null;var i=n.getPhaseCallbackTime("AT_ONLOAD"),r=r.getPhaseCallbackTime("AT_ONLOAD"),o=null==r;
return null==i?(e.error("M98"),null):e.lifecycle.getPhaseID(o||i<=r?"AFTER_FIRST_BYTE":"AFTER_ONLOAD")},t}();e.Ue=t,e.cPLPI=t.nc}(e||(e={})),function(e){!function(t){var n=function(){function t(t){this.ready=!1,this.geoResolverUrl=t,e.utils.isString(t)&&0<e.utils.trim(t).length&&(this.geoResolverUrl=t+"/resolve.js")}return t.prototype.init=function(t){return this.channel=t,this.Na()&&(e.geo=this.tb(),this.mf()||this.Aa()&&!this.zc())?void this.channel.mb(e.geo.result):void(this.zc()?(this.Aa()&&(this.geoResolverUrl+="?ip="+encodeURIComponent(e.conf.userConf.geo.localIP)),this.Oh()):(this.ready=!0,this.channel.onResolverReady()))},t.prototype.Na=function(){return e.utils.isDefined(e.conf.userConf)&&e.utils.isDefined(e.conf.userConf.geo)},t.prototype.Aa=function(){return this.Na()&&e.utils.isDefined(e.conf.userConf.geo.localIP)&&!e.utils.isDefined(e.conf.userConf.geo.city)&&!e.utils.isDefined(e.conf.userConf.geo.region)&&!e.utils.isDefined(e.conf.userConf.geo.country)},t.prototype.tb=function(){return{failed:!1,result:{country:e.conf.userConf.geo.country,region:e.conf.userConf.geo.region,city:e.conf.userConf.geo.city,localIP:this.Mf(e.conf.userConf.geo.localIP)}}},t.prototype.mf=function(){return this.Na()&&e.utils.isDefined(e.conf.userConf.geo.localIP)&&e.utils.isDefined(e.conf.userConf.geo.city)&&e.utils.isDefined(e.conf.userConf.geo.region)&&e.utils.isDefined(e.conf.userConf.geo.country)},t.prototype.zc=function(){return e.utils.isString(this.geoResolverUrl)&&0<e.utils.trim(this.geoResolverUrl).length},t.prototype.Mf=function(e){if(null==e||0==e.length)return null;if(e=e.split("."),4!=e.length)return null;for(var t=[],n=0;n<e.length;n++){var r=parseInt(e[n]);if(isNaN(r)||0>r||255<r)return null;t.push(("0"+r.toString(16)).slice(-2))}return t.join("")},t.prototype.Oh=function(){e.geo={failed:!1,result:null},e.utils.loadScriptAsync(this.geoResolverUrl);var n=this;e.utils.tryPeriodically(t.Ka,function(){return n.isReady()},function(){n.onReady()},function(){n.cb()})},t.prototype.isReady=function(){return this.ready||(this.ready=e.geo&&(e.geo.failed||null!==e.geo.result))||e.log("M99"),this.ready},t.prototype.onReady=function(){e.geo.failed?(e.log("M100"),this.Aa()&&(e.geo=this.tb())):(e.assert("object"==typeof e.geo.result),e.log("M101",e.geo.result)),e.geo&&e.geo.result&&this.channel.mb(e.geo.result),this.channel.onResolverReady()},t.prototype.cb=function(){e.log("M102"),this.Aa()&&(e.geo=this.tb()),e.geo&&e.geo.result&&this.channel.mb(e.geo.result),this.ready=!0,this.channel.onResolverReady()},t.Ka=function(e){return 10<e?-1:[1,50,100,500][e-1]||1e3},t}();t.oe=n}(e.channel||(e.channel={}))}(e||(e={})),function(e){!function(t){var n=function(){function t(){this.ready=!1,this.channel=null}return t.prototype.init=function(n){this.channel=n,t.B=t.B||t.Yf(),this.ready=!t.B.va;var r=this;t.B.va?(e.log("M103"),t.B.va.ADRUM.command("listenForOkToSendChildFrameBeacons",function(){e.log("M104"),r.ready=!0,r.onReady()})):r.onReady()},t.prototype.isReady=function(){return this.isReady||e.log("M105"),this.ready},t.prototype.onReady=function(){this.channel.th(t.B),this.channel.onResolverReady()},t.Yf=function(){for(var n,r=window,i=t.Sc(r),o=window;o.parent&&!e.utils.compareWindows(o,o.parent);){o=o.parent,i=i||t.Sc(o);try{o.ADRUM&&(n=n||o,r=o)}catch(e){}}return new e.ae(n,r,i)},t.Sc=function(e){try{return 0==e.document.URL.indexOf("https:")}catch(e){}},t.B=null,t}();t.be=n}(e.channel||(e.channel={}))}(e||(e={})),function(e){!function(t){var n=function(){function n(n,r,i){this.events=[],this.N={},this.ta=NaN,this.J=[],this.Sa=!1,this.bufferMode=!e.conf.userConf||!e.conf.userConf.channel||"undefined"==typeof e.conf.userConf.channel.bufferMode||e.conf.userConf.channel.bufferMode,this.Da=-1,this.Hh=n,this.nf=r,this.J.push(new t.oe(i)),this.J.push(new t.be),this.J.push(new t.L)}return n.create=function(){var t,r;return n.yg()&&!e.conf.sendImageBeacon?(t=new e.beacons.de,r=new e.beacons.ce):n.Dg()?(t=new e.beacons.le,r=new e.beacons.ke):(t=new e.beacons.ue,r=new e.beacons.te),t=new n(t,r,e.conf.geoResolverUrl),t.init(),t},n.prototype.init=function(){for(var e=0;e<this.J.length;e++)this.J[e].init(this)},n.prototype.Uh=function(t){return(t.parentType===e.EventType.VPageView||t.parentType===e.EventType.NG_VIRTUAL_PAGE)&&null!==this.N[t.parentGUID]},n.prototype.kh=function(t){var n=t.parentGUID;if(!e.utils.isDefined(this.N[n])){this.N[n]=[];var r=this,i=t.eventGUID;setTimeout(function(){r.Oa(i)},1e4)}this.N[n].push(t)},n.prototype.report=function(t){t.sequenceId=e.Bd.lc.ag(),t.timestamp=t.timestamp||e.utils.now(),this.Uh(t)?this.kh(t):this.events.push(t),1==this.events.length&&(this.ta=e.utils.now());var r=t.parentGUID;r&&r!==e.correlation.getPageGUID()||this.Oa(t.eventGUID),n.Cg(t)&&(this.Sa=!0),this.rb()},n.prototype.Oa=function(e){var t=this.N[e];if(this.N[e]=null,t&&0!=t.length)for(this.events=this.events.concat(t),e=0;e<t.length;e++)this.Oa(t[e].eventGUID)},n.prototype.Fg=function(t){return t.eventType===e.EventType.PageView||t.eventType===e.EventType.IFRAME},n.prototype.of=function(){for(var t=0;t<this.events.length;t++){var n=this.events[t];if(this.Fg(n)){var r=this.B.va;r&&(n.parentLifecyclePhase=e.Ue.nc(r,e.lifecycle),n.parentGUID=r.ADRUM.correlation.getPageGUID(),n.parentUrl=e.utils.A.K(r.document.URL),e.utils.isDefined(r.ADRUM.events.H.userPageName)&&(n.parentPageName=r.ADRUM.events.H.userPageName),n.parentType=e.utils.compareWindows(top,r)?e.EventType.PageView:e.EventType.IFRAME)}}},n.prototype.rh=function(){if(0==this.events.length)e.log("M106");else{this.of();var t=this.ub(this.events,this.B),n=this.nf.$a(this.events,this.Xf,this.B);this.Hh.send(n,t),this.events=[],this.ta=Number.POSITIVE_INFINITY}},n.prototype.onResolverReady=function(){this.rb()},n.prototype.mb=function(e){this.Xf=e},n.prototype.th=function(e){this.B=e},n.prototype.addResolver=function(e){e.init(this),this.J.push(e)},n.prototype.nh=function(){for(var e=0;e<this.J.length;e++)if(!this.J[e].isReady())return!1;return!0},n.prototype.Uc=function(){return this.ta+e.conf.Nb>e.utils.now()},n.prototype.Hg=function(){return this.events.length<e.conf.ze},n.prototype.ub=function(t,n){if(n.ub||e.conf.userConf.useHTTPSAlways)return!0;for(var r=0;r<t.length;r++){var i=t[r];if(i.eventUrl&&0==i.eventUrl.indexOf("https:"))return!0}return!1},n.prototype.getEventsWithParentGUID=function(e){return this.N[e]||[]},n.prototype.rb=function(){if(this.nh())if(this.Th()){if(this.Uc()&&0<this.events.length&&0>this.Da){var t=this;this.Da=setTimeout(function(){t.rb()},e.conf.Nb+this.ta-e.utils.now())}}else clearTimeout(this.Da),this.Da=-1,this.Sa=!1,this.rh()},n.Cg=function(t){return t.eventType===e.EventType.PageView||t.eventType===e.EventType.IFRAME||t.eventType===e.EventType.VPageView},n.prototype.Th=function(){return this.bufferMode&&!this.Sa&&this.Hg()&&this.Uc()},n.yg=function(){var e="undefined"!=typeof JSON&&!(!JSON||!JSON.stringify);return window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest&&e},n.Dg=function(){return e.conf.userConf&&e.conf.userConf.beacon&&e.conf.userConf.beacon.neverSendImageBeacon},n}();t.Channel=n;var r=n.create();t.report=function(e){r.report(e)},t.addResolver=function(e){r.addResolver(e)},t.getEventsWithParentGUID=function(e){return r.getEventsWithParentGUID(e)}}(e.channel||(e.channel={}))}(e||(e={})),function(e){var t=function(){function t(){}return t.kd=function(){return window.attachEvent?e.utils.isFunction(window.addEventListener)?this.vb:this.Jd:this.Md},t.jd=function(n){var r=null;switch(t.kd()){case t.Md:r=n.parentPhase();break;case t.vb:r=e.lifecycle.findPhaseAtNominalTime(n.getSendTime());break;case t.Jd:r=null}return e.lifecycle.getPhaseID(r)},t.Md="uCT",t.vb="uNET",t.Jd="tIA",t}();e.oa=t}(e||(e={})),function(e){!function(n){var r=e.utils.hasOwnPropertyDefined,i=function(i){function o(){i.apply(this,arguments)}return t(o,i),o.prototype.make=function(t){var r=i.prototype.make.call(this,t,o.getContext(t)),a=t.url(),s=t.getSendTime(),u=t.getFirstByteTime(),c=t.getRespAvailTime(),f=t.getRespProcTime();return e.assert(null!==a&&null!==s&&null!==u&&null!==c&&null!==f,"missing some pieces of XHR data: url="+a+", send="+s+", fbt="+u+", rat="+c+", eut="+f+", parentPhase="+t.parentPhase()),null===a||null===s||null===u||null===c||null===f?null:(a=t.error(),s={PLC:1,FBT:u-s,DDT:c-u,DPT:f-c,PLT:f-s,ARE:a?1:0},u=t.url(),o.Ng(s,u)?(e.conf.viz&&e.utils.Pa(document.getElementById(e.conf.viz),s,"xhr"),e.utils.mergeJSON(r,{eventUrl:e.utils.A.K(u),parentType:t.parentType()||e.EventType.PageView,parentLifecyclePhase:t.parentPhaseId(),metrics:s,method:t.method(),timestamp:t.timestamp(),ajaxError:a&&[a.status,a.msg||""],xhrStatus:t.xhrStatus()}),(t=t.parameter())&&n.$.bb(t,e.conf.Y)?r.parameter=t:t&&n.$.ya("parameter",e.conf.Y),e.utils.uh(r,n.H.userPageName),r):null)},o.getContext=function(e){return{url:e.url()||"",method:e.method()||""}},o.Ng=function(t,n){for(var i in t)if(r(t,i)){var o=t[i];if(0>o)return e.error("XHR "+i+" ["+o+"] "+n),!1}return!0},o}(n.ka);n.Zb=i}(e.events||(e.events={}))}(e||(e={})),function(e){!function(n){var r=function(n){function r(){n.apply(this,arguments)}return t(r,n),r.prototype.make=function(t){var r=n.prototype.make.call(this,t);return r&&(t=t.allResponseHeaders()||"",(t=e.correlation.jg(t))&&null!==t&&null!==t.clientRequestGUID&&(r.eventGUID=t.clientRequestGUID),null!==t&&(r.serverMetadata=t)),r},r}(n.Zb);n.Wd=r}(e.events||(e.events={}))}(e||(e={})),function(e){!function(n){var r=function(r){function i(){r.apply(this,arguments)}return t(i,r),i.prototype.make=function(t){var i=r.prototype.make.call(this,t);return e.utils.mergeJSON(i,{message:t.msg()||"",timestamp:t.timestamp(),line:t.line(),stack:t.stack(),parentPageName:n.H.userPageName}),e.utils.isString(i.userPageName)||(i.userPageName=i.parentPageName),i},i}(n.ka);n.Te=r}(e.events||(e.events={}))}(e||(e={})),function(e){!function(e){!function(t){t.build=function(t){var n,r={},i=e.metricSpec[t.type()];for(n in i){var o=i[n];if(null!==o.name&&t.perf.getEntryByName(o.start)&&t.perf.getEntryByName(o.end)){t.perf.measure(o.name,o.start,o.end);var a=t.perf.getEntryByName(o.name);r[o.name]=a&&0<=a.duration&&a.duration||null}}for(n in r)r[n]=Math.round(r[n]);return r}}(e.Wb||(e.Wb={}))}(e.events||(e.events={}))}(e||(e={})),function(e){!function(e){var n=function(n){function r(){n.apply(this,arguments)}return t(r,n),r.prototype.make=function(t){var r=n.prototype.make.call(this,t),i=e.Wb.build(t);return i.PLC=1,r.metrics=i,r.timestamp=t.timestamp(),t=new e.ResourceTimingInfoBuilder(t.resTiming()).build(),null!==t&&(r.resourceTimingInfo=t),r},r}(e.ka);e.Yb=n}(e.events||(e.events={}))}(e||(e={})),function(e){!function(e){var n=function(e){function n(){e.apply(this,arguments)}return t(n,e),n.prototype.make=function(t){var n=e.prototype.make.call(this,t);return n&&(n.metrics.VDC=t.digestCount()||0),n},n}(e.Yb);e.Re=n}(e.events||(e.events={}))}(e||(e={})),function(e){var t=e.events||(e.events={});t.pd={},e=[{S:t.PageView,P:new t.H},{S:t.Ajax,P:new t.Zb},{S:t.AdrumAjax,P:new t.Wd},{S:t.Error,P:new t.Te},{S:t.VPageView,P:new t.Yb},{S:e.ng.NgVPageView,P:new t.Re}];for(var n=0;n<e.length;n++){var r=e[n];r.S.prototype._regId=n,t.pd[n]=r.P}}(e||(e={})),function(e){!function(t){t.reportEvent=function(t){var n=e.events.pd[t._regId];n?(n=n.make(t),e.utils.isDefined(n)&&(e.log("M108",e.EventType[t.type()]),e.channel.report(n))):e.log("M107"+e.EventType[e.eventType])}}(e.reporter||(e.reporter={}))}(e||(e={})),function(e){!function(t){var n=function(){function t(){this.ready=!1}return t.prototype.onReady=function(){this.ready=!0,this.channel.onResolverReady()},t.prototype.isReady=function(){return this.ready||e.log("M109"),this.ready},t.prototype.init=function(e){this.channel=e},t}();t.ef=n}(e.commands||(e.commands={}))}(e||(e={})),function(e){!function(t){var n=new t.ef;e.channel.addResolver(n),t.marks={},t.mark=function(n,r){e.log("M110",n,r),t.marks[n]=r},t.reportOnload=function(t){setTimeout(function(){e.log("M111"),e.reporter.reportEvent(t),n.onReady()},e.conf.cf)},t.reportEvent=function(){e.reporter.reportEvent.apply(e.reporter,arguments)},t.addResolver=function(t){e.channel.addResolver(t)},t.reportXhr=function(t){e.log("M112"),e.oa.kd()==e.oa.vb?(e.log("M113"),setTimeout(function(){t.parentPhaseId(e.oa.jd(t)),e.reporter.reportEvent(t)},0)):(t.parentPhaseId(e.oa.jd(t)),e.reporter.reportEvent(t))},t.listenForOkToSendChildFrameBeacons=function(t){e.log("M114");try{t()}catch(t){e.exception(t,"M115")}},t.reportPageError=function(t){var n=t.url();e.log("M116",t.msg(),n,t.line(),t.stack()),n&&0!==n.length||t.url("CROSSORIGIN"),e.reporter.reportEvent(t)},t.setPageName=function(t){e.events.H.setPageName(t)},t.addUserData=function(t,n){e.events.H.addUserData(t,n)},t.call=function(e){e()}}(e.commands||(e.commands={}))}(e||(e={})),function(e){!function(e){e.tc=function(t){return encodeURIComponent(e.A.Zg(t))}}(e.utils||(e.utils={}))}(e||(e={})),function(e){!function(t){var n=function(){function t(){}return t.prototype.setUp=function(){this.Rg(),e.utils.addEventListener(window,"pagehide",t.Bb),e.utils.addEventListener(window,"beforeunload",t.Bb),e.utils.addEventListener(window,"unload",t.Bb)},t.prototype.Rg=function(){(this.startTime=t.Uf()||t.Tf())&&e.commands.mark("starttime",this.startTime)},t.Uf=function(){var t;try{if(e.utils.isDefined(window.external)&&e.utils.isNumber(window.external.pageT))t=(new Date).getTime()-window.external.pageT;else if(e.utils.isDefined(window.Hc)&&e.utils.isFunction(window.Hc.pageT)){var n=window.Hc.pageT();e.utils.isNumber(n)&&(t=(new Date).getTime()-n)}else e.utils.isDefined(window.chrome)&&e.utils.isFunction(window.chrome.csi)&&(n=window.chrome.csi(),e.utils.isDefined(n)&&e.utils.isNumber(n.pageT)&&(t=(new Date).getTime()-n.pageT));t&&(t=Math.round(t),e.log("M117",t))}catch(t){e.exception(t,"M118")}return t},t.Tf=function(){var t=e.correlation.startTimeCookie;if(t){e.log("M119",t.startTime,t.startPage);var n=e.utils.tc(document.referrer);if(n===t.startPage){if(!isNaN(t.startTime))return t.startTime;e.log("M120",t.startTime)}else e.log("M121",n,t.startPage)}else e.log("M122")},t.Gf=function(t,n){var r=document.domain,i="https:"===document.location.protocol,o="ADRUM=s="+Number(new Date)+"&r="+e.utils.tc(document.location.href),a=o+";path=/";if(i&&(a+=";secure"),e.log("M123",o),!e.conf.useStrictDomainCookies){for(var i=t(),r=r.split("."),s="",u=r.length-1;0<=u;u--){s="."+r[u]+s,e.log("M124",s),n(a+";domain="+s);var c=t();if(c!=i&&0<=c.indexOf(o))return e.log("M125"),void e.log("M126")}e.log("M127")}e.log("M128"),n(a),e.log("M129")},t.Bb=function(){var e=!1;return function(){e||(e=!0,t.Gf(function(){return document.cookie},function(e){document.cookie=e}))}}(),t}();t.fi=n,t.Ah=new n}(e.monitor||(e.monitor={}))}(e||(e={})),function(e){e.log("M130"),e.monitor.Ah.setUp(),e.q.processQ(),e.initEXTDone=!0,e.log("M131")}(e||(e={}))}}}();
//# sourceMappingURL=adrum-ext.b4436be974de477658d4a93afb752165.js.map