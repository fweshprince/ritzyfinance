!function(e){"use strict";function t(e){var t="mwfMultiColumn",n="."+t,o={column1:".c60i",column2:".c60ii",column3:".c60iii",paddingBetweenColumn:20,min4Col:120,min3Col:170,min2Col:365},i=function(t){var n=e(t).offset()?e(t).offset():0,o=e(t).width(),i=e(t).height(),a=e(window).innerWidth(),r=e(window).innerHeight();return{left:n.left-e(window).scrollLeft(),top:n.top-e(window).scrollTop(),width:o,height:i,viewportWidth:a,viewportHeight:r}},a=function(t,n){var i=this;this.settings=e.extend({},o,n),this.element=e(t),this.$el=e(t),i.init()};return a.prototype={init:function(){var e=this;e._checkColumnCount(),e._bindEvents()},_checkColumnCount:function(){var e=this,t=e.$el.find(e.settings.column1).length,n=e.$el.find(e.settings.column2).length,o=e.$el.find(e.settings.column3).length;e.columnCount=Number(t)+2*Number(n)+3*Number(o),e._arrangeColumn()},_arrangeColumn:function(){var e,t,n,o=this,a=o.settings.paddingBetweenColumn*(o.$el.children().length-1),r=i(o.$el).width-a,s=Math.floor(r/o.columnCount);if(o.$el.children().length>1){e=o.$el.find(o.settings.column1),t=o.$el.find(o.settings.column2),n=o.$el.find(o.settings.column3);var l=o._setMinColWidth(s);e.width(Number(s)),t.width(Number(2*s)),n.width(Number(3*s)),o.$el.find(".multi-col-reset").removeClass("multi-col-reset"),l&&(e.addClass("multi-col-reset"),t.addClass("multi-col-reset"),n.addClass("multi-col-reset"))}},_setMinColWidth:function(e){var t,n=this;switch(n.columnCount){case 4:t=n.settings.min4Col>=e;break;case 3:t=n.settings.min3Col>=e;break;case 2:t=n.settings.min2Col>=e;break;default:t=n.settings.min4Col>=e}return t},_bindEvents:function(){var t=this;e(window).mwfBind("resize"+n+" orientationchange"+n,function(e){t._checkColumnCount()})},resetColumn:function(){var e=this;e.init()}},e.fn[t]=function(n){var o=[].slice.call(arguments,0),i=o.shift();return this.each(function(){var r=e.data(this,"plugin_"+t);r?i&&r[i].apply(r,o):e.data(this,"plugin_"+t,new a(this,n))})},a}return"function"==typeof define&&define.amd?void define("mwf-plugin-cms-multi-column",["jquery","mwf-plugin-event-mediator"],t):t(e.jQuery)}(this),function(e){"use strict";var t="mwfScrollTo",n={animationDuration:250,scrollTargetSelector:"top",scrollTarget:void 0,scrollOffset:void 0,scrollOnlyIfOutsideView:!0},o=function(e,o){var i=function(t,o){this.element=t,this.$element=e(t),this.settings=e.extend({},n,o),this.init()};i.prototype.init=function(){var e,t,n,o=this,i=o.settings,r=i.scrollTargetSelector,s=0;if("top"!==r&&(e=r?o.$element.find(r):o.settings.scrollTarget,e.length)){if(o.settings.scrollOnlyIfOutsideView&&a(o.$element,e[0]))return;t=e.height(),n=o.settings.scrollOffset||t+o.$element.offset().top,s=e.offset().top-n}o.$element.animate({scrollTop:s},o.settings.animationDuration)};var a=function(e,t){var n=t.getBoundingClientRect(),o=e.innerHeight();return n.top>=0&&n.bottom<=o};return e.fn[t]=function(e){return this.each(function(){new i(this,e)})},i};"function"==typeof define&&define.amd?define("mwf-plugin-scroll-to",["jquery","mwf-core-logger"],o):o(e.jQuery)}(this),function(e){"use strict";var t=function(e,t,n){var o=void 0,i="input:text, input[type=email], input[type=number], input[type=tel], input[type=password], textarea",a=".mwfCoreKeyboard",r=function(){e(document).mwfBind("click"+a,function(t){var n=e(document.activeElement);e(t.target).is(i)||n.is(i)&&(e(t.target).is("button")||e(n).blur())})},s=function(){e(document).mwfUnbind(a)};return mwfGlobals.mwfDocumentReady.done(function(){window.isTouchEnabled()&&(e(document).on("focusin"+a,i,function(){e(this).is("[readonly]")||(e("body").attr("data-keyboard-open",""),e(".masthead, .control-bar").css("position","absolute"),e("[data-hide-for-keyboard]").hide(),e("[data-show-for-keyboard]").show(),void 0===o&&(r(),e(window).trigger("resize"),o=e(this),o.get(0)===document.activeElement&&e(document).data("modalsResizing").done(function(){setTimeout(function(){e(document).trigger("mwfFillVertical"),e(document).trigger("mwfKeyboardOpened",[e(o)])},100)})))}),e(document).on("focusout"+a,i,function(){s(),setTimeout(function(){e(document.activeElement).is(i)||(e("body").removeAttr("data-keyboard-open"),e(window).trigger("resize"),e(".masthead, .control-bar").css("position","fixed"),e("[data-hide-for-keyboard]").show(),e("[data-show-for-keyboard]").hide(),o=void 0,setTimeout(function(){e(document).trigger("mwfKeyboardClosed"),e(document).trigger("mwfFillVertical")},100))},10)}),e(document).on("mwfCloseKeyboard",function(t){var n=e(document.activeElement);e(t.target).is(i)||e(n).blur()}),e(window).on("resize"+a,function(){var n=e(document.activeElement);n&&n.length>0&&!t.isElementInViewport(n)&&n.is(i)&&window.isTouchEnabled()&&window.setTimeout(function(){n[0].scrollIntoView()},100)}))}),e(document).on("mwfKeyboardOpened"+a,function(n,o){e("[data-modal-container]").filter(":visible").length&&e(window).trigger("resize"),setTimeout(function(){e(document).data("modalsResizing").done(function(){o&&o.length>0&&!t.isElementInViewport(o)&&o[0].scrollIntoView(!1)})},100)}),e(document).on("mwfKeyboardClosed"+a,function(){e("[data-modal-container]").filter(":visible").length&&(e(document).data("forceModalResize",!0),e(window).trigger("resize"))}),{which:function(e){var t={end:35===e.which,home:36===e.which,left:37===e.which,up:38===e.which,right:39===e.which,down:40===e.which,tab:9===e.which,enter:13===e.which,space:32===e.which,escape:27===e.which,delete:46===e.which,backspace:8===e.which,number:e.which>=48&&e.which<=57};return t.arrow=t.left||t.up||t.right||t.down,t},isKeyboardOpen:function(){return e(document.activeElement).is(i)&&window.isTouchEnabled()}}};return"function"==typeof define&&define.amd?void define("mwf-core-keyboard",["jquery","mwf-core-window","mwf-core-logger","mwf-plugin-scroll-to","mwf-core-touch","mwf-plugin-event-mediator"],t):t()}(this),function(e){"use strict";var t=function(){var e=1500,t=function(t,n){this.lastCall=0,this.throttledFunction=t,this.interval=n||e};return t.prototype.throttle=function(e,t){var n=Date.now();this.lastCall+this.interval<n&&(this.lastCall=n,this.throttledFunction.apply(e,t))},function(e,n){var o=new t(e,n);return function(){o.throttle(this,arguments)}}};return"function"==typeof define&&define.amd?void define("mwf-core-throttle",[],t):t()}(this),function(e){"use strict";var t={removeOnClose:!1},n="mwfScrollablePopup",o="."+n,i=function(e,i,a,r,s,l,d,u){var c=e.Deferred();c.resolve(),e(document).data("modalsResizing",c);var f=function(t,n){this.element=e(t),this.settings=e.extend({},this.getDefaultOptions(),n),this.settings.uniqueId=l.getUniqueId(),this.init()};return f.prototype=e.extend({},i.prototype),f.prototype.bindEvents=function(){var t=this;i.prototype.bindEvents.call(t),e(window).on("resize"+o+t.settings.uniqueId+" orientationchange"+o+t.settings.uniqueId,s(function(){var n,o=t.getModalStack(),i=e.Deferred(),a=!0===e(document).data("forceModalResize");e(document).data("modalsResizing",i),e(document).data("forceModalResize",!1),setTimeout(function(){for(n=0;n<o.length;n++)"function"==typeof o[n].resizeToViewport&&o[n].resizeToViewport(a);i.resolve()},500)},100))},f.prototype.unbindEvents=function(){var t=this,n=t.getModalWrapper();e(window).off(o+t.settings.uniqueId),n.off(o),i.prototype.unbindEvents.call(t)},f.prototype.resizeToViewport=function(){var t,n,o,i,a,s=this,l=s.getModalContainer(),u=d.getMaxViewportHeight(s.getModalWrapper()),c=s.getScrollableContainer(),f=0;return l.css({"max-height":"auto"}),c.css({height:"auto"}),r.isKeyboardOpen()?void c.css({"overflow-y":"visible"}):(c.css({"overflow-y":"auto"}),t=c.outerHeight(!0),s.getModalContainer().children().each(function(){o=+e(this).css("marginTop").replace("px",""),i=+e(this).css("marginBottom").replace("px",""),a=isNaN(o)?0:o,a+=isNaN(i)?0:i,f+=e(this).outerHeight()+a,(e(this).is("[data-scrollable-content]")||e(this).find("[data-scrollable-content]").length)&&(f-=t)}),n=Math.min(t+f,u),n<t+f?c.attr("data-is-scrollable",""):c.removeAttr("data-is-scrollable"),l.is("[data-modal-full-screen]")||(l.parents(".wants-height").length>0?l.parents(".wants-height").css({height:n+"px"}):l.css({"max-height":n+"px"})),s.adjustPagePosition(),c.css({height:l.outerHeight(!0)-f+"px"}),l.removeClass("invisible"),void s.setFooterPosition())},f.prototype.getScrollableContainer=function(){var e=this;return e.getModalContainer().find("[data-scrollable-content]")},f.prototype.onAfterModalOpened=function(){var t=this;t.getModalContainer().attr("data-scrollable-popup","").addClass("invisible"),setTimeout(function(){t.resizeToViewport(),t.resizeToViewport(),i.prototype.onAfterModalOpened.call(t),t.getModalContainer().find(".mwf-popup-content table").each(function(t,n){var o=e('<div style="display: none">'),i=e(n);i.after(o).detach(),o.replaceWith(i)})},250)},f.prototype.getDefaultOptions=function(){var n=i.prototype.getDefaultOptions.call(self);return e.extend({},n,t)},e.fn[n]=function(e){return this.each(function(){new f(this,e)})},f};"function"==typeof define&&define.amd?define("mwf-plugin-scrollable-popup",["jquery","mwf-plugin-popup","mwf-core-window","mwf-core-keyboard","mwf-core-throttle","mwf-core-unique-id","mwf-lib-modal-support","mwf-core-logger"],i):i(e.jQuery)}(this),function(e){function t(e,t){return e.w('<section class="mwf-popup" id=').f(t.get(["containerId"],!1),t,"h").w(' role="dialog" aria-labelledby=dialogTitle-').f(t.get(["containerId"],!1),t,"h").w(" ><header><h2 id=dialogTitle-").f(t.get(["containerId"],!1),t,"h").w(">").f(t.get(["header"],!1),t,"h").w('</h2><button class="icon close-modal-icon" data-modal-close="data-modal-close"><span class="visuallyhidden">').f(t.getPath(!1,["numbered-footnotes-properties","button-close"]),t,"h").w('</span></button></header><section class="mwf-popup-content" data-scrollable-content="data-scrollable-content">').f(t.get(["message"],!1),t,"h",["s"]).w("</section></section>")}return e.register("mwf-plugin-numbered-footnotes-template",t),t.__dustBody=!0,t}(dust),define("mwf-plugin-numbered-footnotes-template",function(){}),function(e){"use strict";var t=function(e,t,n,o){function i(t,o){var i=this;this.el=t,this.$el=e(t),this.settings=e.extend({},r,o),i.bundle=n.getBundle("numbered-footnotes-properties"),this.$footnotes=i.settings.targetEl.find("[data-cid]"),this.$refs=e(i.settings.for).find("[data-footnote]"),this.i=0,this.$allyContent=e("<span>",{class:"visuallyhidden"}).html(i.bundle.property("Footnote")),this.settings.showPopup&&(this.$contentEl=e("<div>",{class:"dialog-content hidden"})),this.init()}var a="mwfNumberedFootnotes",r={targetEl:e("body"),for:"body",showPopup:!1,numClass:"c20no"};i.prototype={init:function(){var t=this;t.settings.showPopup&&t.$footnotes.length>0&&0===e(".dialog-content").length&&e("body").append(t.$contentEl),this.$footnotes.each(function(){e(this).data("tagId",o.getUniqueId(8)),t.initFootnote(e(this))}),this.$refs.prepend(t.$allyContent),this.checkUnMatched(),e(".footer-popup").mwfBind("tapOrEnter",function(){var n=e(this),o=e.Deferred();e(n.data("modalTarget")).mwfScrollablePopup({removeOnClose:!0,modalClosePromise:o}),o.done(function(){t.handleFocus(n)})},{stopPropagation:!0})},initFootnote:function(n){var o=this,i=n,a=i.data("cid"),r=i.find("."+o.settings.numClass),s=!!i.data("numbered")&&++o.i,l=e("<div>",{class:"mwf-popup mwf-popup-below-masthead"}),d=o.settings.showPopup?e("<span>",{class:"visuallyhidden"}).html(o.bundle.property("a11y-information-text")):"",u=o.$refs.filter(function(){var t=e(this);return t.data("footnote")==a&&(t.data({matched:!0,tagId:i.data("tagId")}),o.settings.showPopup&&t&&t.attr({tabindex:"0",class:"footer-popup",role:"button"}).data("modalTarget","#popup-"+t.data().tagId),!0)});if(s){if(o.settings.showPopup){var c=o.settings.template||"mwf-plugin-numbered-footnotes-template",f={header:o.bundle.property("Footnotes"),containerId:"popup-"+i.data("tagId"),message:i.html()};l.attr("id",a),t.render(c,f,"numbered-footnotes-properties").done(function(e){l.html(e)}),o.$contentEl.append(l)}u.text(s).append(d),r.length||(r=e("<span />").addClass(o.settings.numClass),i.prepend(r)),r.text(s+". ")}},unmatched:function(){var t=this;return t.$refs.filter(function(){return!e(this).data("matched")})},checkUnMatched:function(){if(0!==this.unmatched().length){var t=this.unmatched().map(function(){return e(this).data("footnote")}).get().join(", ");throw"Error: Referenced footnotes not found: "+t}},handleFocus:function(t){t&&(t=e(t),t.is("[tabindex]")?t.focus():t.attr("tabindex","0").focus())}},e.fn[a]=function(t){return this.each(function(){e.data(this,"plugin_"+a)||e.data(this,"plugin_"+a,new i(this,t))})}};return"function"==typeof define&&define.amd?void define("mwf-plugin-numbered-footnotes",["jquery","mwf-core-dust","mwf-core-properties","mwf-core-unique-id","mwf-plugin-scrollable-popup","mwf-plugin-numbered-footnotes-template"],t):t(window.jQuery)}(this),function(e){"use strict";var t=function(e,t,n){function o(t,n){this.el=t,this.$el=e(t),this.settings=e.extend({},r,n),this._defaults=r,this._name=i,this._init()}var i="mwfTabs",a="."+i,r={};o.prototype={_init:function(){var o=this;o.$tabContainer=this.$el,o.$tabLinks=o.$tabContainer.find("ul.tab-list li:not(.help) a");var i=null,r=o.$tabLinks.length-1;o.$tabLinks.each(function(){var t,n,o=this.href;if(o.search(/#[a-z]+/)!==-1&&e(this).attr("data-target",o.match("#[a-z]+")[0]).attr("href","#"),t=e(this).data("target"),void 0===t)throw new Error("Tab target not defined for tab: "+e(this).text());if(n=e(t),0===n.length)throw new Error("Tab Content div ID: "+o+" was not found in the DOM.")}),o.$tabContainer.children("ul:first").attr("role","tablist").children().attr("role","presentation"),o.$tabLinks.each(function(){var s=n.getUniqueId(),l=e(this),d=l.data("target")+s,u=l.parent(),c=u.is(".selected"),f=s,p=l.data("target").slice(1),m=e("#"+p);c&&(o.$selected=l),l.attr({id:f,"data-target":d,role:"tab","aria-controls":p+s,"aria-selected":c,tabindex:c?0:-1}).keydown(function(n){var a=t.which(n);a.right||a.left||a.up||a.down?(null===i&&(i=o.$tabLinks.index(o.$selected)),i<r&&a.right||a.down?++i:(i&&a.left||a.up)&&--i,o.$tabLinks.eq(i).focus(),l.attr("aria-selected",!1),n.preventDefault()):a.space&&(o._updateView(e(this)),n.preventDefault())}).focus(function(){o.$tabLinks.attr("tabindex",-1),l.attr("aria-selected",!0).attr("tabindex",0)}),m.attr({id:p+s,role:"tabpanel","aria-labelledby":f,tabindex:0,"aria-hidden":!0}),o.$tabContainer.find(".tab-content > .selected").attr("aria-hidden",!1),l.mwfBind("tapOrEnter"+a,function(){o._updateView(e(this))},{stopPropagation:!0})}),o.$tabContainer.mwfBind("contentChanged"+a,function(t){t.stopPropagation(),setTimeout(function(){"ios"===window.mwfGlobals.deviceInfo.os.toLowerCase()&&e(window).scrollTop(0)},0)}).on("tabselected"+a,function(){e("<style/>").appendTo(document.body).remove()})},_updateView:function(e){var t=this;t.$tabContainer.find("li.selected").removeClass("selected"),t.$tabContainer.find(".tab-content > .selected").removeClass("selected").attr("aria-hidden",!0),t.$tabLinks.attr({"aria-selected":!1,tabindex:-1}),e.closest("li").addClass("selected"),t.$tabContainer.find(e.attr("data-target")).addClass("selected").attr("aria-hidden",!1),t.$selected=e.attr({"aria-selected":!0,tabindex:0}),t.$tabContainer.trigger("tabselected")}},e.fn[i]=function(t){return this.each(function(){e.data(this,"plugin_"+i)||e.data(this,"plugin_"+i,new o(this,t))})}};return"function"==typeof define&&define.amd?void define("mwf-plugin-tabs",["jquery","mwf-core-keyboard","mwf-core-unique-id","mwf-plugin-event-mediator"],t):t(window.jQuery)}(jQuery),function(e){"use strict";var t=function(e){var t=function(t){var n=e(t),o={};o.sourceElement=n;var i=function(e){for(var t="",n=e.split("-"),o=1;o<n.length;o++)n[o]=n[o].charAt(0).toUpperCase()+n[o].slice(1);return t=n.join("")};return[].forEach.call(n.get(0).attributes,function(e,t,n){var a=e.name,r=e.value,s=/data-/,l="";s.test(a)&&(l=i(a.slice(5)),o[l]=r)}),o};return t};return"function"==typeof define&&define.amd?void define("mwf-core-serialize-data-attributes",["jquery"],t):t(e.jQuery)}(this),function(e){function t(e,t){return e.w('<div class="panel-loading-indicator"><div class="mwf-inline-loader"><span>').f(t.get(["message"],!1),t,"h").w("</span></div></div>")}return e.register("mwf-plugin-panel-loading-indicator-template",t),t.__dustBody=!0,t}(dust),define("mwf-plugin-panel-loading-indicator-template",function(){}),function(e){"use strict";var t="mwfPanelLoadingIndicator",n=function(e,n,o,i){var a=n.getBundle("plugin-panel-loading-indicator"),r={message:a.property("msg-loading")},s=function(t,n){this.element=e(t),this.settings=e.extend({},r,n),this.render()};s.prototype.render=function(){var t=this;o.render("mwf-plugin-panel-loading-indicator-template",t.settings).done(function(n){t.loadingIndicator=e(n),t.element.append(t.loadingIndicator)})},s.prototype.remove=function(){var e=this;e.loadingIndicator.remove()},e.fn[t]=function(n){return this.each(function(){if(e.data(this,t))switch(n){case"remove":e.data(this,t).remove(),e.removeData(this,t)}else e.data(this,t,new s(this,n))})}};"function"==typeof define&&define.amd?define("mwf-plugin-panel-loading-indicator",["jquery","mwf-core-properties","mwf-core-dust","mwf-core-logger","mwf-plugin-panel-loading-indicator-template"],n):n(e.jQuery)}(this),function(e){"use strict";var t=function(e){var t={},n={};return t.getMessageProperties=function(e){return $.extend({},n[(e||"").toLowerCase()])},t.initProperties=function(){var t=e.getBundle("mwf-core-message-properties");n={success:{messageClass:"confirm",accessibilityText:t.property("lbl-confirm")},confirm:{messageClass:"confirm",accessibilityText:t.property("lbl-confirm")},confirmation:{messageClass:"confirmation",accessibilityText:t.property("lbl-confirmation")},urgent:{messageClass:"urgent",accessibilityText:t.property("lbl-urgent")},warning:{messageClass:"alert",accessibilityText:t.property("lbl-warning")},alert:{messageClass:"alert",accessibilityText:t.property("lbl-alert")},inform:{messageClass:"informational",accessibilityText:t.property("lbl-info")},info:{messageClass:"informational",accessibilityText:t.property("lbl-info")},informational:{messageClass:"informational",accessibilityText:t.property("lbl-info")},error:{messageClass:"error",accessibilityText:t.property("lbl-error")},system_error:{messageClass:"error",accessibilityText:t.property("lbl-error")}}},mwfGlobals.combinedFragmentsReady.done(function(){t.initProperties()}),t};return"function"==typeof define&&define.amd?void define("mwf-core-message",["mwf-core-properties"],t):t()}(this),function(e){function t(e,t){return e.w('<div class="message-group">').s(t.get(["messages"],!1),t,{block:n},{}).w("</div>")}function n(e,t){return e.p("mwf-core-ui-message-block-template",t,t,{})}return e.register("mwf-core-ui-message-template",t),t.__dustBody=!0,n.__dustBody=!0,t}(dust),define("mwf-core-ui-message-template",function(){}),function(e){function t(e,t){return e.w('<div class="messaging ').f(t.getPath(!1,["details","messageClass"]),t,"h").w('" data-message-context="').f(t.get(["context"],!1),t,"h").w('"><div class="message-container"><span class="icon-wrapper"><i class="icon" aria-hidden="true"></i></span><div class="message-content"><span class="visuallyhidden">').f(t.get(["typeAllyText"],!1),t,"h").w("</span><p>").f(t.get(["message"],!1),t,"h",["s"]).w("</p>").x(t.get(["button"],!1),t,{block:n},{}).w("</div></div></div>")}function n(e,t){return e.w('<button type="button" class="mwf-button" ').s(t.getPath(!1,["button","attributes"]),t,{block:o},{}).w(">").f(t.getPath(!1,["button","label"]),t,"h").w("</button>")}function o(e,t){return e.f(t.get(["name"],!1),t,"h").w('="').f(t.get(["value"],!1),t,"h").w('" ')}return e.register("mwf-core-ui-message-block-template",t),t.__dustBody=!0,n.__dustBody=!0,o.__dustBody=!0,t}(dust),define("mwf-core-ui-message-block-template",function(){}),function(e){"use strict";var t=function(e,t,n,o,i){var a=".mwfMessage",r={containerName:void 0,messageType:"customer",clearFirst:!0,context:"default",inline:!1,clearFieldErrors:!1,removeDuplicates:!1,setFocus:!1};e(document).on("mwfDisplayMessages"+a,function(i,a,s){var l,d,u=e(i.target),c=e.extend({},r,s),f={},p=c.template||"mwf-core-ui-message-template",m=c.bundle||{},g=[],w=[],h=[],v=[],b=o.getBundle("messaging-properties");c.removeDuplicates?e.each(a,function(t,n){e.inArray(n.message,w)===-1&&(g.push(n),w.push(n.message))}):g=a,c.containerName&&(l=u.find("[data-message-container="+c.containerName+"]")),l&&0!==l.length||(l=u.find("[data-message-container]")),l.attr({lang:e("html").attr("lang")||"en",role:"region","aria-label":b.property("allyLabel")}),c.clearFirst?u.trigger("mwfClearMessages",[s,f]):f=e.Deferred().resolve(),f.done(function(){e.each(g,function(n,o){"undefined"==typeof o.level?o.level="error":o.level=o.level.toLowerCase(),o.details=t.getMessageProperties(o.level),b.allProperties()["messaging-properties"].hasOwnProperty(o.level)&&(o.typeAllyText=b.property(o.level)),d=[],d.push(o.details.messageClass),d.push(c.messageType+"-level"),c.inline&&d.push("inline"),o.details.messageClass=d.join(" "),c.context&&"undefined"==typeof o.context&&(o.context=c.context),e.inArray(o.level,["error","urgent","alert","warning","system_error"])===-1?v.push(o):h.push(o)}),h&&h.length>0&&(l.html('<div class="alertMsgsWrapper" aria-live="assertive" aria-atomic="true"></div>'),n.render(p,{messages:h},m).done(function(e){l.find(".alertMsgsWrapper").append(e),l.show()})),v&&v.length>0&&n.render(p,{messages:v},m).done(function(e){l.append(e).show()}),c.setFocus&&l.mwfFocusFirst()})}),e(document).on("mwfClearMessages"+a,function(t,n,o){var i=e(t.target),a=e.extend({},r,n),s="[data-message-container]";a.containerName&&(s="[data-message-container="+a.containerName+"]");var l=s+" .messaging",d=s+" [data-message-context="+a.context+"]";"all"===a.context&&(d=s+" [data-message-context]");var u=e.Deferred();u.promise(o),a.clearFieldErrors?i.find(d).remove().end().find(".mwf-field-error").removeClass("mwf-field-error").end().find(".mwf-error-accessibility-text").remove():i.find(d).remove(),0===i.find(l).length&&i.find(s).empty().hide().end(),u.resolve()})};return"function"==typeof define&&define.amd?void define("mwf-core-ui-message",["jquery","mwf-core-message","mwf-core-dust","mwf-core-properties","mwf-core-logger","mwf-plugin-focus-first","mwf-core-ui-message-template","mwf-core-ui-message-block-template"],t):t(e.jQuery)}(this),function(e){"use strict";var t=function(e,t,n,o,i){var a="mwfExpandCollapse",r="."+a,s={generateTargetId:!1,tabindex:0,checkError:!1},l=function(t,n){this.el=t,this.$el=e(t),this.settings=e.extend({},s,n),this._init()};return l.prototype={_init:function(){var n,o,i,a,s=this,l=s.$el,d=l.attr("data-target-id"),u=l.closest(s.settings.container),c=s.settings.content;if(s.$contentContainer=u,u.length||(u=l.parent()),!d&&s.settings.generateTargetId&&(d=t.getUniqueId(8),l.attr("data-target-id",d),c instanceof e==!1&&(i=s.settings.content||".expand-collapse-content",c=u.find(i),c.length||(c=l.next().addClass(i.substr(1))))),c instanceof e==!1&&(i=s.settings.content||".expand-collapse-content",c=u.find(i+"[data-target-id="+d+"]")),s.ecObject={link:s.$el,content:c,container:u},a=s.ecObject.content.attr("id")||t.getUniqueId(8),""===d||"undefined"==typeof d)throw new Error("Data-target-id is missing");if(c.length<1)throw new Error("Missing content for this link");l.removeAttr("role aria-controls aria-expanded"),"BUTTON"!==l.prop("tagName")?"A"===l.prop("tagName")?(l.attr("role","button"),o=l):(n=l.html(),o=e("<button>").css({"background-color":"transparent",border:"none","text-align":"left",padding:"0"}).html(n),l.html(o)):o=l,l.attr({id:l.attr("id")||t.getUniqueId(8)}),c.attr({id:a}),c.is("ul,ol")||c.attr({role:s.settings.contentRole||"region"}),o.attr("aria-controls",a),c.attr("aria-labelledby",l.attr("id")),l.hasClass("closed")?c.addClass("closed").removeClass("open"):l.hasClass("open")?c.addClass("open").removeClass("closed"):(l.addClass("closed"),c.addClass("closed").removeClass("open")),c.hasClass("closed")?o.attr("aria-expanded",!1):o.attr("aria-expanded",!0),l.mwfBind("tapOrEnter"+r,function(t){var n=l.hasClass("open"),o=e(this);t.preventDefault(),n?s.collapse():(s.expand(),s._fetchContent(o))},{stopPropagation:!0}),s.buttonTrigger=o,s.$contentContainer.is(".is-open")&&s.expand()},expand:function(){var e=this,t=e.ecObject.link,n=e.ecObject.content,o=e.buttonTrigger;return e.ecObject.container.addClass("open"),!t.is(".open")&&(t.removeClass("closed").addClass("open"),o.attr("aria-expanded",!0),n.removeClass("closed").addClass("open"),t.trigger("mwfExpanded"),void(e.$contentContainer.is(".is-open")&&e.$contentContainer.removeClass("is-open")))},collapse:function(){var e=this,t=e.ecObject.link,n=e.ecObject.content,o=e.buttonTrigger;return e.ecObject.container.removeClass("open"),!t.is(".closed")&&(t.removeClass("open").addClass("closed"),o.attr("aria-expanded",!1),n.removeClass("open").addClass("closed"),void t.trigger("mwfCollapsed"))},_fetchContent:function(t){var n=this,o=i(t),a=e.Deferred(),r=o.contenturl,s=o.cached,l=t.attr("aria-controls");if(r){var d=e("#"+l);r&&!s&&(t.attr("data-cached","true"),d.empty().mwfPanelLoadingIndicator(),a=n._fetchContentOnDemand(r)),a.done(function(e){d.mwfPanelLoadingIndicator("remove").html(e.htmlResponse)}).fail(function(t){if(t&&n.settings.checkError){var o=d.find("[data-message-container]");if(0===o.length){var i=e("<div/>",{class:"globalMessages"}).attr("data-message-container",l);d.append(i)}d.mwfPanelLoadingIndicator("remove"),t.message=t.htmlResponse||t.FailureMessageBean.failureMessage,e(document).trigger("mwfDisplayMessages",[[t],{clearFirst:!1,context:"ephemeral",containerName:0===o.length?l:o.data().messageContainer,messageType:t.FailureMessageBean.level?t.FailureMessageBean.level:"account"}])}}).always(function(){d.trigger("mwfOnDemandLoad")})}},_fetchContentOnDemand:function(t){if(t)try{return o.getHtmlAndJSON(t).promise()}catch(t){return e.Deferred().reject(t).promise()}return e.Deferred().reject("There was a problem retrieving mixed response.").promise()}},e.fn[a]=function(t){return this.each(function(){var n=e.data(this,"plugin_"+a);if(n)switch(t){case"open":n.expand();break;case"close":n.collapse()}else e.data(this,"plugin_"+a,new l(this,t))})},l};return"function"==typeof define&&define.amd?void define("mwf-plugin-expand-collapse",["jquery","mwf-core-unique-id","mwf-core-properties","mwf-core-ajax","mwf-core-serialize-data-attributes","mwf-plugin-panel-loading-indicator","mwf-plugin-event-mediator","mwf-core-ui-message"],t):t(e.jQuery)}(this),function(e){"use strict";var t=function(e,t){var n={top:0,left:0,right:0,bottom:0},o=function(e,t,n,o){this.top=e,this.left=t,this.right=n,this.bottom=o};o.prototype.holds=function(e){var t=this;return e.width<=t.right-t.left&&e.height<=t.bottom-t.top},o.prototype.height=function(){var e=this;return e.bottom-e.top},o.prototype.width=function(){var e=this;return e.right-e.left};var i=function(){};return i.prototype.heightAbove=function(e){return e?e.offset().top:0},i.prototype.heightBelow=function(e){var t=this;return e?t.windowHeight()-(e.offset().top+e.outerHeight(!0)):0},i.prototype.heightAboveWindow=function(e){return e&&e[0]?e[0].getBoundingClientRect().top:0},i.prototype.spaceLeft=function(e){return e&&e[0]?e[0].getBoundingClientRect().left:0},i.prototype.spaceRight=function(t){return t&&t[0]?e(window).width()-t[0].getBoundingClientRect().right:0},i.prototype.heightBelowWindow=function(e){var t=this;return e&&e[0]?t.windowHeight()-e[0].getBoundingClientRect().bottom:0},i.prototype.windowHeight=function(){return window.innerHeight?window.innerHeight:e(window).height()},i.prototype.windowWidth=function(){return window.innerWidth?window.innerWidth:e(window).width()},i.prototype.widthLeft=function(e){return e?e.offset().left:0},i.prototype.widthRight=function(e){var t=this;return e?t.windowWidth()-(e.offset().left+e.outerWidth(!0)):0},i.prototype.areaAbove=function(e,t){var i=this,a=t||n,r=Math.max(0,a.top),s=Math.max(0,a.left),l=i.windowWidth()-a.right,d=0;return e&&e[0]&&(d=e[0].getBoundingClientRect().top),new o(r,s,l,d)},i.prototype.areaBelow=function(e,t){var i=this,a=t||n,r=0;e&&e[0]&&(r=e[0].getBoundingClientRect().top+e.outerHeight(!0));var s=Math.max(0,a.left),l=i.windowWidth()-a.right,d=i.windowHeight()-a.bottom;return new o(r,s,l,d)},i.prototype.areaRight=function(t,i){var a=this,r=i||n,s=Math.max(0,r.top),l=0;t&&t[0]&&(l=t[0].getBoundingClientRect().right);var d=e(window).width()-r.right,u=a.windowHeight()-r.bottom;return new o(s,l,d,u)},i.prototype.areaLeft=function(e,t){var i=this,a=t||n,r=Math.max(0,a.top),s=Math.max(0,a.left),l=0;e&&e[0]&&(l=e[0].getBoundingClientRect().left);var d=i.windowHeight()-a.bottom;return new o(r,s,l,d)},new i};return"function"==typeof define&&define.amd?void define("mwf-core-ui-dimensions",["jquery","mwf-core-logger"],t):t(e.jQuery)}(this),function(e){"use strict";var t="mwfTargetedPopup",n="."+t,o={background:"",mastheadHeight:70,footerHeight:50,modalContainerFragment:"mwf-plugin-targeted-popup-container",modalOverlayClass:"mwf-modal-overlay mwf-modal-overlay-transparent",pointerArrowSize:14,windowPaddingLeft:25,windowPaddingRight:25,allowLeftPlacement:!1,allowRightPlacement:!0,closeOnTapOutsideModal:!0},i={ABOVE:0,BELOW:1,RIGHT:2,LEFT:3},a=function(e,a,r,s,l,d,u){var c=function(t,n){this.element=e(t),this.settings=e.extend({},this.getDefaultOptions(),n),this.init()};return c.prototype=e.extend({},a.prototype),c.prototype.bindEvents=function(){var t=this;a.prototype.bindEvents.call(t),t.getModalWrapper().mwfBind("tapOrEnter"+n,function(n){e(n.target).is(e(this))&&t.settings.closeOnTapOutsideModal&&(n.stopImmediatePropagation(),t.closeUsingHistory())})},c.prototype.getDefaultOptions=function(){var t=this,n=a.prototype.getDefaultOptions.call(t);return e.extend({},n,o)},c.prototype.getHeightOfNonScrollableContent=function(){var t=this,n=0,o=t.getScrollableContainer().outerHeight(!0);return t.getModalContainer().children().each(function(){e(this).is("[data-scrollable-content]")||e(this).find("[data-scrollable-content]").length?n=n+e(this).outerHeight(!0)-o:n+=e(this).outerHeight(!0)}),n},c.prototype.resizeToViewport=function(t){var n,o,i,a=this,d=a.settings,u=d.target,c=e(u),f=a.getModalContainer(),p=a.getScrollableContainer(),m=a.getModalWrapper().height(),g=a.getModalWrapper().width(),w={},h=c;if(m!==a.lastViewportHeight||g!==a.lastViewportWidth||l.isKeyboardOpen()||t){if(a.lastViewportHeight=m,a.lastViewportWidth=g,a.adjustPagePosition(),c.is("[data-use-modal-target-parent]")&&(h=c.closest("[data-modal-target-parent]")),w.spaceAbove=r.heightAboveWindow(c)-d.mastheadHeight,w.spaceBelow=r.heightBelowWindow(c)-d.footerHeight+c.outerHeight(!0),w.spaceLeft=r.spaceLeft(h)-d.windowPaddingLeft,w.spaceRight=r.spaceRight(c)-d.windowPaddingRight,w.contentWidth=f.outerWidth(!0),f.css({"max-height":"auto",left:"0"}),p.css({height:"auto"}),i=a.getHeightOfNonScrollableContent(),n=a.getModalContainer().outerHeight(!0),w.modalHeight=n,l.isKeyboardOpen())return p.css({"overflow-y":"visible"}),void f.css({"max-height":w.modalHeight+"px"});if(p.css({"overflow-y":"auto"}),o=a.getModalPlacement(c,w),f.css({"max-height":o.availableHeight+"px"}),p.css({height:f.height()-i+"px"}),f.attr("class")){var v="invisible "+e.grep(f.attr("class").split(" "),function(e){return e.indexOf("arrow")>=0}).join(" ");f.css({top:o.modalTop+"px",left:o.modalLeft+"px","z-index":s.getHighestIndex("[data-overlay]")+1}).removeClass(v).addClass(o.arrowClass+" "+o.arrowPositionClass+" "+d.background)}a.setFooterPosition()}},c.prototype.getModalPlacement=function(t,n){var o,a,s,l,u,c,f,p=this,m=p.settings,g=p.element.outerWidth(!0),w=p.element.outerHeight(!0),h=d.getWindowHeight(),v={},b={},y=0,x=t,C=0,k={top:m.mastheadHeight,left:m.windowPaddingLeft,right:m.windowPaddingRight,bottom:m.footerHeight};if(o={width:g,height:w},t.is("[data-use-modal-target-parent]")&&(x=t.closest("[data-modal-target-parent]")),
v[i.BELOW]={pos:i.BELOW,rect:r.areaBelow(t,k),arrowClass:"mwf-popup-arrow-top"},v[i.ABOVE]={pos:i.ABOVE,rect:r.areaAbove(t,k),arrowClass:"mwf-popup-arrow-bottom"},v[i.RIGHT]={pos:i.RIGHT,rect:r.areaRight(t,k),arrowClass:"mwf-popup-arrow-left"},v[i.LEFT]={pos:i.LEFT,rect:r.areaLeft(x,k),arrowClass:"mwf-popup-arrow-right"},v[i.BELOW].score=v[i.BELOW].rect.holds(o)?101:0,v[i.ABOVE].score=v[i.ABOVE].rect.holds(o)?100:0,v[i.RIGHT].score=v[i.RIGHT].rect.holds(o)?99:0,v[i.LEFT].score=v[i.LEFT].rect.holds(o)?98:0,v[i.BELOW].score+=10*(n.spaceBelow/n.modalHeight),v[i.ABOVE].score+=10*(n.spaceAbove/n.modalHeight),v[i.RIGHT].score+=4*(n.spaceRight/n.contentWidth),v[i.LEFT].score+=5*(n.spaceLeft/n.contentWidth),m.allowLeftPlacement||(v[i.LEFT].score=0),m.allowRightPlacement||(v[i.RIGHT].score=0),e.each(v,function(e,t){t.score>y&&(y=t.score,b=t)}),b.pos===i.ABOVE){if(n.spaceBelow<0&&(C=n.spaceBelow),b.modalTop=Math.max(b.rect.bottom-n.modalHeight+C,k.top)-m.pointerArrowSize,b.modalLeft=Math.max(t[0].getBoundingClientRect().left+t.outerWidth(!0)/2-g/2,k.left),n.spaceRight<b.modalLeft+g/2&&n.spaceLeft-g/2>k.left){var B=b.modalLeft-Math.abs(n.spaceRight);B>0?b.modalLeft=B:b.modalLeft=b.modalLeft}else n.spaceLeft-g/2<k.left&&(b.modalLeft=+n.spaceLeft+k.left);b.availableHeight=b.rect.height()}else if(b.pos===i.BELOW){if(b.modalTop=b.rect.top+m.pointerArrowSize,b.modalLeft=Math.max(t[0].getBoundingClientRect().left+t.outerWidth(!0)/2-g/2,k.left),n.spaceRight<b.modalLeft+g/2&&n.spaceLeft-g/2>k.left){var B=b.modalLeft-Math.abs(n.spaceRight);B>0?b.modalLeft=B:b.modalLeft=b.modalLeft}else n.spaceLeft-g/2<k.left&&(b.modalLeft=+n.spaceLeft+k.left);b.availableHeight=b.rect.height()}else b.pos===i.RIGHT?(b.modalTop=Math.max(t[0].getBoundingClientRect().top+t.outerHeight(!0)/2-w/2,k.top),b.modalLeft=b.rect.left+m.pointerArrowSize,b.availableHeight=b.rect.height()):b.pos===i.LEFT&&(b.modalTop=t.offset().top+t.outerHeight(!0)/2-w/2,t.is("[data-use-modal-target-parent]")?b.modalLeft=t.closest("[data-modal-target-parent]")[0].getBoundingClientRect().left-m.pointerArrowSize-n.contentWidth:b.modalLeft=t[0].getBoundingClientRect().left-m.pointerArrowSize-n.contentWidth,b.availableHeight=n.spaceBelow+n.spaceAbove);if(b.pos===i.LEFT||b.pos===i.RIGHT){for(b.modalTop+w>h-k.bottom&&(b.modalTop=b.modalTop-(b.modalTop+w-(h-k.bottom))),b.modalTop=Math.max(k.top,b.modalTop),a=t[0].getBoundingClientRect().top+t.outerHeight(!0)/2,s=Math.min(90,Math.max(10,10*Math.round(10*((a-b.modalTop)/w)))),l=Number.MAX_VALUE,u=10;u<=90;u+=10)c=b.modalTop+Math.min(w,b.availableHeight)*(u/100),f=c-a,f<Math.abs(l)&&(l=f,s=u);s=Math.max(Math.min(s,90),10),b.arrowPositionClass="arrow-vertical-"+s,b.modalTop=b.modalTop-l}if(b.pos===i.ABOVE||b.pos===i.BELOW){for(a=t[0].getBoundingClientRect().left+t.outerWidth(!0)/2,s=Math.min(90,Math.max(10,10*Math.round(10*((a-b.modalLeft)/g)))),l=Number.MAX_VALUE,u=10;u<=90;u+=10)c=b.modalLeft+g*(u/100),f=c-a,f<Math.abs(l)&&(l=f,s=u);s=Math.max(Math.min(s,90),10),b.arrowPositionClass="arrow-horizontal-"+s,b.modalLeft=b.modalLeft-l}return b},e.fn[t]=function(e){return this.each(function(){new c(this,e)})},c};"function"==typeof define&&define.amd?define("mwf-plugin-targeted-popup",["jquery","mwf-plugin-scrollable-popup","mwf-core-ui-dimensions","mwf-core-zindex-util","mwf-core-keyboard","mwf-core-window","mwf-core-logger"],a):a(e.jQuery)}(this),function(e){"use strict";var t="mwfCmsDialog",n="."+t,o={bundleName:"cms-dialog-properties",popupFragmentName:"mwf-cms-dialog-popup",modalFragmentName:"mwf-cms-dialog-modal"},i=function(e,i,a,r,s,l){var d=function(t,n){this.element=t,this.$element=e(t),this.settings=e.extend({},o,n),this.settings.target=this.element,this._contentCache=null,this._init()};return d.prototype._bindEvents=function(){var e=this;e.$element.mwfBind("tapOrEnter"+n,function(){null===e._contentCache?e._loadContent().done(function(){e.$element.trigger("mwfCmsDialogShown"),e._makePopup()}).fail(function(t){l.error("cannot find cms content at "+e._contentUrl),e.$element.trigger("mwfCmsDialogCallFail",[t]),e._showMessage(t).done(function(){e.$element.focus()})}):e._makePopup()},{stopPropagation:!0})},d.prototype._getPlatform=function(){var e=this;window.mwfGlobals.deviceInfo.deviceType&&"PHONE"===window.mwfGlobals.deviceInfo.deviceType||window.mwfGlobals.devicePlatform&&"7M"===window.mwfGlobals.devicePlatform||window.mwfGlobals.deviceExperience&&"SEVENMINUS"===window.mwfGlobals.deviceExperience?e._platform="7M":e._platform="7P"},d.prototype._init=function(){var e=this;e._contentUrl=e.$element.data("url"),e._bundle=s.getBundle(e.settings.bundleName),e.$element.a11yText(e._bundle.property("a11y-text")),e.contentHeader=e.$element.data("contentHeader"),e.contentHeaderKey=e.$element.data("contentHeaderKey"),e.contentHeaderKey&&(e.contentHeader=e._bundle.property(e.contentHeaderKey)),e._getPlatform(),e._bindEvents()},d.prototype._loadContent=function(){var t=this,n=e.Deferred();return i.getHtmlAndJSON(t._contentUrl,"").done(function(e){t._contentCache=e.htmlResponse,n.resolve()}).fail(function(e){n.reject(e)}),n},d.prototype._makePopup=function(){var t=this;"7P"===t._platform?a.load(t.settings.popupFragmentName).done(function(n){t.contentHeader&&e(n).find(".mwf-popup").append(e("<h2>",{text:t.contentHeader})),e(n).find(".mwf-cms-dialog-content").append(t._contentCache).end().mwfTargetedPopup({target:t.settings.target,returnFocusTo:t.settings.target})}):a.load(t.settings.modalFragmentName).done(function(n){t.contentHeader&&e(n).find("header").append(e("<h2>",{text:t.contentHeader})),e(n).find(".mwf-cms-dialog-content").append(t._contentCache).end().mwfScrollablePopup({returnFocusTo:t.settings.target})})},d.prototype._showMessage=function(e){var t=this;try{return e.FailureMessageBean?r.displayMessage({header:t.contentHeader?t.contentHeader:t._bundle.property("msg-system-unavailable-title"),body:e.FailureMessageBean.failureMessage?e.FailureMessageBean.failureMessage:t._bundle.property("msg-system-unavailable")}):r.displayMessage({header:t._bundle.property("msg-system-unavailable-title"),body:t._bundle.property("msg-system-unavailable")})}catch(e){l.error("bad failureMessageBean payload "+t._contentUrl)}},e.fn[t]=function(n){return this.each(function(){var o=e.data(this,"plugin_"+t);o||e.data(this,"plugin_"+t,new d(this,n))})},d};"function"==typeof define&&define.amd?define("mwf-plugin-cms-dialog",["jquery","mwf-core-ajax","mwf-core-fragment-loader","mwf-core-stop-message","mwf-core-properties","mwf-core-logger","mwf-plugin-event-mediator","mwf-plugin-a11y-text","mwf-plugin-targeted-popup","mwf-plugin-scrollable-popup"],i):i(e.jQuery)}(this),function(e){"use strict";function t(e){var t=".mwf-cms",n=function(t){var n=e(t),i=n.closest(".mwf-popup"),a=window.mwfGlobals.showFootnotePopup?window.mwfGlobals.showFootnotePopup:"false";if(n=0!==i.length?i:n,n.mwfNumberedFootnotes({targetEl:n,showPopup:"true"===a}),0!==e(".c60").length&&e(".c60").mwfMultiColumn(),0!==e(".expander-label").length&&n.find(".expander-label").mwfExpandCollapse({generateTargetId:!0,container:".expander",checkError:!0}),0!==e(".tabs").length){var r=n.find(".tabs");r.mwfTabs(),r.mwfBind("tabselected",function(){e(this).find(".c60").mwfMultiColumn("resetColumn")})}e("a[data-cms-rendered][data-display-type=popup]").mwfCmsDialog(),o()},o=function(){e(document).mwfBindOnce("mwfModalOpened"+t,function(){0!==e(".c60").length&&e(".c60").mwfMultiColumn("resetColumn")})};return n}return"function"==typeof define&&define.amd?void define("mwf-core-ui-cms",["jquery","mwf-plugin-cms-multi-column","mwf-plugin-numbered-footnotes","mwf-plugin-tabs","mwf-plugin-expand-collapse","mwf-plugin-cms-dialog"],t):t(e.jQuery)}(this),function(e){"use strict";var t=function(e,t,n,o){var i,a,r=".mwfInterdictionNavigation",s={removeIntOverlay:!0},l={},d={},u=function(t){var o=t.interdictionViewBean.authenticationModalURL;n.getHTML(o).done(function(e){p(e)}).fail(function(n,o,i){f(),n&&(e.extend(!0,t,n),e(document).trigger("mwfNavigationError",t))})},c=function(){return a.resolve(l)},f=function(){return l.removeIntOverlay&&e("body").removeAttr("data-int-navigation-ongoing").mwfOverlay("remove",{overlayName:"interdiction"}),a.reject()},p=function(t){t.indexOf("interdiction-result")>-1&&(e("body").append(t),i=o.push("interdictionModal",function(){e(".mwf-int-modal").filter(":visible").length>0&&e(document).trigger("mwfIntBackPressModalClose")}),setTimeout(function(){e("body").removeAttr("data-int-navigation-ongoing").mwfOverlay("remove",{overlayName:"interdiction"})},600),void 0!==window.interdictionGlobals&&(window.interdictionGlobals.successHandler="interdictionSuccessHandler",window.interdictionGlobals.closeModalHandler="interdictionCloseHandler",window.interdictionGlobals.refreshRequired=!1))},m=function(t){var n=e("body").is("[data-int-navigation-ongoing]"),o=t.interdictionViewBean;return!n&&o.authenticationModalURL&&"#"!==o.authenticationModalURL&&"undefined"!=typeof o.authenticationModalURL||!1},g=function(t){var n=e("body").is("[data-int-navigation-ongoing]");return!n&&t.htmlResponse&&"undefined"!=typeof t.htmlResponse||!1},w=function(n){l=e.extend({},s,n),g(l)?(e("body").attr("data-int-navigation-ongoing","").mwfOverlay({overlayClass:"mwf-interdiction-overlay",overlayName:"interdiction",showWorkingIndicator:!0}),p(l.htmlResponse)):m(l)?(e("body").attr("data-int-navigation-ongoing","").mwfOverlay({overlayClass:"mwf-interdiction-overlay",overlayName:"interdiction",showWorkingIndicator:!0}),u(l)):(f(),t.debug("Interdiction Navigation is blocked or ignored by settings"))};return e(document).on("interdictionSuccessHandler"+r,function(){o.rewindTo(i),c()}),e(document).on("interdictionCloseHandler"+r,function(){o.rewindTo(i),l.removeIntOverlay=!1,f(),void 0!==l.sourceElement&&l.sourceElement.focus()}),d.interdict=function(t){var n=t.additionalData;n&&n.interdictionViewBean&&(t.interdictionViewBean=n.interdictionViewBean,delete n.interdictionViewBean);var o=t.interdictionViewBean;return!(!o||!o.showInterdictionContent)&&(a=e.Deferred(),t.auth=a.promise().then(function(){return delete t.interdictionViewBean,t}),w(t),!0)},d};return"function"==typeof define&&define.amd?void define("mwf-core-interdiction",["jquery","mwf-core-logger","mwf-core-ajax","mwf-core-history","mwf-plugin-overlay"],t):t(e.jQuery)}(this),function(e){function t(e,t){return e.w('<section class="mwf-popup mwf-popup-confirm ').f(t.get(["classes"],!1),t,"h").w('" role="dialog" aria-labelledby="confirmHeader"><div class="visuallyhidden">').f(t.getPath(!1,["dictionary","start-pop-content"]),t,"h").w('</div><header><h2 id="confirmHeader" class="mwf-popup-header" data-focus-first tabindex="-1">').f(t.get(["title"],!1),t,"h",["s"]).w("</h2>").x(t.get(["showCloseButton"],!1),t,{block:n},{}).w('</header><div data-scrollable-content><div class="mwf-popup-content mwf-confirm-body">').f(t.get(["message"],!1),t,"h",["s"]).w('</div><footer class="mwf-confirm-footer"><div class="mwf-button-container ').f(t.get(["buttonContainerClass"],!1),t,"h").w('">').s(t.get(["buttons"],!1),t,{block:o},{}).w('</div></footer></div><div class="visuallyhidden">').f(t.getPath(!1,["dictionary","end-pop-content"]),t,"h").w("</div></section>")}function n(e,t){return e.w('<button class="mwf-popup-button-close" data-modal-close><i class="mwf-icon"></i><span class="visuallyhidden">').f(t.getPath(!1,["dictionary","close-button"]),t,"h").w("</span></button>")}function o(e,t){return e.w('<span><button type="button" class="mwf-button ').f(t.get(["classes"],!1),t,"h").w('" data-modal-close ').x(t.get(["confirms"],!1),t,{block:i},{}).w(">").f(t.get(["label"],!1),t,"h").w("</button></span>")}function i(e,t){return e.w("data-confirms")}return e.register("mwf-core-confirm-default-template",t),t.__dustBody=!0,n.__dustBody=!0,o.__dustBody=!0,i.__dustBody=!0,t}(dust),define("mwf-core-confirm-default-template",function(){}),function(e){"use strict";var t=function(e,t,n,o){var i=".mwfConfirm",a="mwf-core-confirm-default-template",r={templateData:{sideBySide:!0}};e(document).on("mwfConfirm"+i,function(o,s){var l=e.extend(!0,{},r,s),d=l.deferred||e.Deferred(),u=l.modalOpenPromise||e.Deferred(),c=l.returnFocusTo;l.templateData&&l.templateData.buttons&&(l.templateData.buttonContainerClass=2===l.templateData.buttons.length&&l.templateData.sideBySide?"buttons-side-by-side":"");var f=n.getBundle("confirm-popup").allProperties()["confirm-popup"];l.templateData.dictionary=l.templateData.dictionary?e.extend({},l.templateData.dictionary,f):f,t.render(l.templateName||a,e.extend({},l.templateData),l.bundle||{}).done(function(t){var n=e(t),o=e.Deferred(),a=!1;o.done(function(){a?d.resolve():d.reject(),c&&setTimeout(function(){var t="string"==typeof c?e(c):c;t.focus()},750)}),n.on("confirm"+i,function(){a=!0,l.templateData.callback&&l.templateData.callback(),n.mwfUnbind(i).trigger("mwfModalClose")}),n.mwfBind("tapOrEnter"+i,"button",function(){a=e(this).is("[data-confirms]"),a&&l.templateData.callback?l.templateData.callback():!a&&c&&e(c).filter(":visible").length>0&&setTimeout(function(){e(c).focus()},150),n.mwfUnbind(i)}),n.mwfScrollablePopup({modalClosePromise:o,modalOpened:u,closeOnEscape:!1})})})};return"function"==typeof define&&define.amd?void define("mwf-core-ui-confirm",["jquery","mwf-core-dust","mwf-core-properties","mwf-core-logger","mwf-plugin-scrollable-popup","mwf-core-confirm-default-template"],t):t(e.jQuery)}(this),function(e){function t(e,t){return e.w('<section class="mwf-popup mwf-popup-confirm" role="alertdialog" aria-labelledby="leavingHeader"><header><h2 id="leavingHeader" class="mwf-popup-header" tabindex="-1">').f(t.getPath(!1,["confirm-navigation","msg-leave-page"]),t,"h").w('</h2></header><div data-scrollable-content><div class="mwf-popup-content mwf-confirm-body">').f(t.getPath(!1,["confirm-navigation","msg-confirm"]),t,"h").w('</div><footer><div class="mwf-button-container buttons-side-by-side">').s(t.get(["buttons"],!1),t,{block:n},{}).w("</div></footer></div></section>")}function n(e,t){return e.w('<span><button class="mwf-button ').f(t.get(["classes"],!1),t,"h").w('" data-modal-close ').x(t.get(["confirms"],!1),t,{block:o},{}).w(">").f(t.get(["label"],!1),t,"h").w("</button></span>")}function o(e,t){return e.w("data-confirms")}return e.register("mwf-core-ui-confirm-navigation-template",t),t.__dustBody=!0,n.__dustBody=!0,o.__dustBody=!0,t}(dust),define("mwf-core-ui-confirm-navigation-template",function(){}),function(e){"use strict";var t=function(e,t,n){var o=t.getBundle("confirm-navigation"),i={templateName:"mwf-core-ui-confirm-navigation-template",bundle:"confirm-navigation",templateData:{buttons:[{label:o.property("label-no"),classes:"secondary"},{label:o.property("label-yes"),classes:"primary",confirms:!0}]}},a=function(){this.init()};return a.prototype.init=function(){var t=this;e("body").on("change propertychange keyup input paste mwfCheckBoxChange","input[data-monitor]",function(){e(this).closest("form").attr("data-modified","true")}),t.navigationStack=[]},a.prototype.confirmNavigation=function(n){var o,a,r,s=this,l=e.Deferred();return 0===s.navigationStack.length?l.resolve():(a=e.extend({},i,s.navigationStack[s.navigationStack.length-1].properties),r="string"==typeof a.bundle?t.getBundle(a.bundle):a.bundle,a.confirmationNeededFn.apply(this,[n])?(o={templateName:a.templateName,bundle:r,templateData:a.templateData,deferred:l,returnFocusTo:a.returnFocusTo?a.returnFocusTo:""},e(document).trigger("mwfConfirm",[o])):l.resolve()),l},a.prototype.pushNavigationCheck=function(e,t){var n=this;n.navigationStack.push({name:t,properties:e})},a.prototype.popNavigationCheck=function(e){var t=this;e&&e!==t.navigationStack[t.navigationStack.length-1].name||t.navigationStack.pop()},new a};return"function"==typeof define&&define.amd?void define("mwf-core-ui-confirm-navigation",["jquery","mwf-core-properties","mwf-core-ui-confirm","mwf-core-logger","mwf-core-ui-confirm-navigation-template"],t):t(e.jQuery)}(this),function(e){"use strict";function t(e,t,n,o,i,a,r,s,l,d){function u(e,t){d.debug("mwf-core-dispatch-nav: "+e),t&&mwfGlobals.development&&d.debug(t)}function c(o){if(e.isFunction(N.beforeLocationChange)&&N.beforeLocationChange(o),o.interdiction&&"true"===o.interdiction){var i=o.url;t.getJSON(i).done(function(t){var o=e.extend(!0,i,t);n.interdict(o)?(e("body").mwfOverlay("remove"),o.auth.done(function(e,t){N.windowLocationAssign(i)})):N.windowLocationAssign(i)})}else N.windowLocationAssign(o.url)}function f(t){var n=e.extend({},{url:t.url,type:t.nativeNavigationType,navigationType:t.nativeNavigationType,keepAliveUrl:window.location.origin+(mwfGlobals.rootContextPath||"")+t.keepAliveUrl,onCloseExecute:t.onCloseExecute||'javascript:$(document).trigger("mwfKeepAlive");'});"atm"===t.displayType?e(document).trigger("mwfNativeExecute",["atm",n]):"modal"===t.displayType?e(document).trigger("mwfNativeExecute",["openUrl",n]):e(document).trigger("mwfNativeNavigation",n),e(document).trigger("mwfAfterNativeAction",n)}function p(t){return function(n){if(!n.blockTimeout)return t(n);var o=n.url+n.displayType,i=O[o],a=e.now();return i&&a<i+n.blockTimeout?void u("blocked by previous request"):(O[o]=a,setTimeout(function(){delete O[o]},n.blockTimeout),t(n))}}function m(t,n,o){return e.when(t(n)).then(function(){return o&&o.resolve(n),n})}function g(n){return function(o){var i,r,s,l=e.Deferred();return o.url?(i=[o.url].concat(o.requestParams),e("body").trigger("mwfBeforeNavigation",[o]),t[o.ajaxCaller].apply(null,i).then(function(t){return e("body").trigger("mwfAfterNavigation",[o]),e.extend(!0,o,t),m(n,o,l)}).fail(function(t){e("body").trigger("mwfNavigationFail",[o]),e.extend(!0,o,t),l.reject(o),o.auth&&"rejected"===o.auth.state()||(o.force?delete o.force:e(document).trigger("mwfNavigationError",o))})):o.fragment?a.load(o.fragment).done(function(t){e.extend(o,{htmlResponse:t}),m(n,o,l)}):o.contentId?(s=k(o.contentId),s.length&&(r=s.html()),r||(r=e(document).data(o.contentId+"-content")),r||l.reject(o),e.extend(o,{htmlResponse:r}),m(n,o,l)):l.reject(o),l.promise()}}function w(t){return function(n){return n.showOverlayOn&&e(n.showOverlayOn).attr("data-navigation-ongoing","").mwfOverlay({overlayName:"navigation",showWorkingIndicator:!0}),m(t,n).always(function(){n.showOverlayOn&&e(n.showOverlayOn).removeAttr("data-navigation-ongoing").mwfOverlay("remove",{overlayName:"navigation"})})}}function h(n){return function(o){var i=e.Deferred();return o.testNetwork?t.getJSON(o.keepAliveUrl).done(function(){m(n,o,i)}).fail(function(t){e(document).trigger("mwfNoNetworkConnection"),i.reject(t)}):m(n,o,i),i.promise()}}function v(t){mwfGlobals.locatorSwitch?(e.extend(t,{displaySize:"extralarge",displayType:"modal"}),D.saml(t)):$&&f(t)}function b(e){$?(e.nativeNavigationType=mwfGlobals.defaultExternalType||"externalnoconfirm",f(e)):N.openWindow(e)}function y(e){var t="displaySize"in e?e.displaySize:"";e.displayType="modal",$?(e.nativeNavigationType="inmodal"+t,f(e)):c(e)}function x(t){if(n.interdict(t))return t.force=!0,t.auth.then(_);var o;return o=t.template?i.render(t.template,t):e.Deferred().resolve(t.htmlResponse),o.then(function(n){var o=t.replaceTarget?"replaceWith":"html";return e("body").trigger("mwfBeforePageLoad",t),e(t.targetElement)[o](n),e("body").trigger("mwfAfterPageLoad",t),delete t.htmlResponse,t})}function C(t){if(n.interdict(t))return t.force=!0,t.auth.then(_);if(t.samlTransferViewBean&&t.samlTransferViewBean.samlOutInfo){u("samlTransferView",t);var o=t.samlTransferViewBean.samlOutInfo;if(o.displayMessageText){var i=e.Deferred().done(function(){delete o.displayMessageText,C(t)}),a=function(t){var n=[];return e.each(t,function(e,t){n.push({label:t.label,classes:t.type,confirms:t.navigate})}),n},r={title:o.displayMessageTitle,message:o.displayMessageText,buttons:a(o.displayMessageButtons)};e(document).trigger("mwfConfirm",{deferred:i,templateData:r})}else{if(o.dispatch)o.dispatch.url=o.destinationUrl,o.dispatch.force=!0,_(o.dispatch);else switch(t.url=o.destinationUrl,o.browserMode){case"external":t.url.indexOf("depositCheck.action")>-1?mwfGlobals.legacyIpadApp?(t.onCloseExecute="javascript:window.onCheckDepositModalClose()",y(t)):c(t):y(t);break;case"externalBrowser":b(t);break;case"externalLarge":t.displaySize="large",y(t);break;case"internal":c(t);break;default:e(document).trigger("mwfUnknownSamlBrowserMode",t)}"true"===o.signOffRequired&&e(document).trigger("mwfSignoff")}}return t}function k(t){return e('[class$=-content][data-content-id="'+t+'"]')}function B(t){var n=!1;return!!t&&(t.force||(n=e(t.showOverlayOn).is("[data-navigation-ongoing]")),!n&&t.displayType&&"ignore"!==t.displayType&&(t.contentId||t.fragment||t.url&&"#"!==t.url)||!1)}function _(t,n){var o,i,a,s,l;if($="true"===mwfGlobals.appEntryFlag||"true"===mwfGlobals.wfAppEntry,Object.keys(E).forEach(function(e){e in t||(t[e]=E[e])}),n&&e.extend(t,{requestParams:n}),"signoff"in t||"signOff"in t)e(document).trigger("mwfSignoff",{signOffUrl:t.signOffUrl}),t.navigationPromise=e.Deferred().resolve(t);else if("confirmRequired"in t||t.confirmId)l=e.Deferred().done(function(){delete t.confirmId,delete t.confirmRequired,N.triggerNav(t)}),o=r.getBundle(t.confirmRequired||"confirm-dispatch"),i=o.property("msg-confirm-title"),a=o.property("msg-confirm-content"),s=k(t.confirmId).children(),s.length&&(i=s.eq(0).html(),a=s.eq(1).html()),e(document).trigger("mwfConfirm",{deferred:l,templateData:{title:i,message:a,buttons:[{label:o.property("label-cancel"),classes:"secondary",confirms:!1},{label:o.property("label-continue"),classes:"primary",confirms:!0}]},returnFocusTo:t.returnFocusTo||document.activeElement}),t.navigationPromise=e.Deferred().reject(t);else if(t.authUrl)t.auth=e.Deferred().done(function(){delete t.auth,delete t.authUrl,e(document).trigger("mwfNavigationAuthSuccess",t)}).fail(function(){e(document).trigger("mwfNavigationAuthFailure",t)}),e(document).trigger("mwfNavigationAuth",t),t.navigationPromise=e.Deferred().reject(t);else if(t.url&&"#"===t.url.charAt(0)&&t.url.length>1)"#skip"===t.url?e("h1:not([aria-hidden=true]").attr("tabindex","-1").focus():e(t.url).focus(),t.navigationPromise=e.Deferred().reject(t);else if(B(t)){if(!D[t.displayType])return u("could not determine display type"),!1;t.navigationPromise=e.when(D[t.displayType](t))}else u("dispatch blocked or ignored by settings",t),t.navigationPromise=e.Deferred().reject(t);return t.navigationPromise}function T(t){l.confirmNavigation(e(t)).done(function(){_(s(t))})}var $,P=".mwfDispatchNav",O={},E={ajaxCaller:"getGenericJSON",blockTimeout:1e3,displaySize:"fullscreen",keepAliveUrl:mwfGlobals.keepAlivePath||"keepAlive?F=J",showOverlayOn:"body",testNetwork:!0},D={atm:v,browser:b,location:w(h(c)),modal:p(y),page:w(g(x)),saml:w(g(C))},N={beforeLocationChange:e.noop,handleExternalNavigation:function(){T(this)},openWindow:function(e){d.debug("window.open call for "+e.url),window.open(e.url)},windowLocationAssign:function(e){d.debug("window.location.assign call for "+e),window.location.assign(e)},triggerNav:_};return window.onCheckDepositModalClose=function(){e.isFunction(window.resetSessionTimer)&&window.resetSessionTimer()},e(document).on("mwfNavigation"+P,function(e,t,n){_(t,n)}),e(document).mwfBind("tapOrEnter"+P,"[data-external-navigation]",N.handleExternalNavigation),e(document).on("tappedMastheadLogo"+P,function(e,t){T(t)}),e(document).on("mwfATMLocator"+P,function(e,t){v(t)}),{config:N,flow:D,fetch:g,samlTransferViewBean:function(e){return o.getEmbeddedJson(e).then(function(e){return C({samlTransferViewBean:e})})}}}return"function"==typeof define&&define.amd?void define("mwf-core-dispatch-nav",["jquery","mwf-core-ajax","mwf-core-interdiction","mwf-core-json","mwf-core-dust","mwf-core-fragment-loader","mwf-core-properties","mwf-core-serialize-data-attributes","mwf-core-ui-confirm-navigation","mwf-core-logger","mwf-core-nativeapp-bridge","mwf-core-ui-confirm","mwf-plugin-overlay"],t):t(e.jQuery)}(this),function(e){"use strict";function t(e,t){function n(n){return function(o,i,a){var r=e(".mwf-drawer");return r.length?void a(r):void t.load(n).done(function(t){function n(){t.remove(),o&&e(o).attr("aria-disabled","false").removeAttr("tabindex").focus()}t.mwfCycleFocus(),i(t,n),mwfGlobals.searchControlBar?t.insertAfter(".control-bar").css({top:e(".masthead").height()+e(".control-bar").height()-2,"z-index":12}).mwfBind("tapOrEnter","[data-drawer-close]",n,{stopPropagation:!0}):t.insertAfter("#mwf-masthead").css("top",e(".masthead").find("#mwf-masthead").height()).mwfBind("tapOrEnter","[data-drawer-close]",n,{stopPropagation:!0})})}}return{drawer:n}}return"function"==typeof define&&define.amd?void define("mwf-core-ui-drawer",["jquery","mwf-core-fragment-loader","mwf-plugin-event-mediator","mwf-plugin-cycle-focus"],t):t(e.jQuery)}(this),function(e){function t(e,t){return e.w('<form name="').f(t.get(["formName"],!1),t,"h").w('" class="search-wrapper"><span class="visuallyhidden" id="suggestionInstructions">').f(t.getPath(!1,["plugin-search-field-properties","accessibility-suggestion-instruction"]),t,"h").w('</span><input class="search-wrapper-input" placeholder="').f(t.get(["placeholder"],!1),t,"h").w('" aria-label="').f(t.get(["placeholder"],!1),t,"h").w('" aria-describedby="suggestionInstructions ').f(t.get(["accessibilityErrorLabelId"],!1),t,"h").w('" type="text" maxlength="').f(t.get(["maxLength"],!1),t,"h").w('" autocomplete="off" data-disable-on-modal/><span id="').f(t.get(["accessibilityErrorLabelId"],!1),t,"h").w('" class="accessibilityLabel" data-accessibility-error></span><div class="clear-field-button" role="button" aria-label="').f(t.getPath(!1,["plugin-search-field-properties","accessibility-label-clear"]),t,"h").w('" tabindex="0"></div></form>')}return e.register("mwf-plugin-search-field-template",t),t.__dustBody=!0,t}(dust),define("mwf-plugin-search-field-template",function(){}),function(e){"use strict";var t={formName:"searchFieldForm",placeholder:"Search...",removeOnClose:!1,maxLength:32,templateName:"mwf-plugin-search-field-template"},n="mwfSearchField",o="."+n,i=function(e,i,a,r){var s=function(o,i){this.element=e(o),this.element.data(n,this),this.settings=e.extend({},t,i),this.init()};return s.prototype.init=function(){var t=this,n={accessibilityLabelId:a.getUniqueId(),accessibilityErrorLabelId:a.getUniqueId()};i.render(t.settings.templateName,e.extend({},t.settings,n),"plugin-search-field-properties").done(function(e){t.element.append(e),t.inputField=t.element.find("input"),t.searchWrapper=t.element.find(".search-wrapper"),t.bindEvents(),setTimeout(function(){t.element.trigger("mwfPluginReady")},0)})},s.prototype.bindEvents=function(){var t=this;t.element.mwfBind("tapOrEnter"+o,".clear-field-button",function(e){t.clear(),t.inputField.blur(),setTimeout(function(){t.inputField.focus()},300)},{stopPropagation:!0}),t.element.on("submit"+o,"form",function(e){return t.inputField.blur(),t.element.trigger("filterFormSubmit",[t.inputField.val()]),e.stopPropagation(),!1}),t.inputField.on("input"+o,function(){var n=e(this).val();n.length>0?(t.searchWrapper.addClass("clearable"),t.element.trigger("filterValueChanged",[n])):t.clear()}),t.inputField.on("tap"+o,function(){e(this).trigger("focusin"),t.element.trigger("searchStarted")}),t.element.on("clear"+o,function(e,n){t.clear()})},s.prototype.clear=function(){var e=this;e.inputField.val(""),e.element.trigger("filterValueChanged",[""]),e.searchWrapper.removeClass("clearable")},s.prototype.renderAccessibilityError=function(e){var t=this;t.element.find("[data-accessibility-error]").text(e).end(),t.inputField.attr("aria-invalid","true")},s.prototype.clearAccessibilityError=function(){var e=this;e.element.find("[data-accessibility-error]").text(""),e.inputField.attr("aria-invalid","false")},e.fn[n]=function(t){return this.each(function(){if("string"===e.type(t))switch(t){case"clear":e.data(this,n)&&e.data(this,n).clear()}else e.data(this,n,new s(this,t))})},s};"function"==typeof define&&define.amd?define("mwf-plugin-search-field",["jquery","mwf-core-dust","mwf-core-unique-id","mwf-core-logger","mwf-plugin-search-field-template"],i):i(e.jQuery)}(this),function(e){function t(e,t){return t=t.shiftBlocks(r),e.x(t.get(["init"],!1),t,{else:n,block:o},{})}function n(e,t){return t=t.shiftBlocks(r),e.b(t.getBlock("li"),t,{},{})}function o(e,t){return t=t.shiftBlocks(r),e.w('<div class="mwf-suggest" id="').f(t.get(["id"],!1),t,"h").w('-suggest"><ul role="listbox" tabindex="-1" class="mwf-suggest-list">').b(t.getBlock("li"),t,{},{}).w("</ul></div>")}function i(e,t){return t=t.shiftBlocks(r),e.s(t.get(["items"],!1),t,{block:a},{id:t.get(["id"],!1)})}function a(e,t){return t=t.shiftBlocks(r),e.w('<li role="option" id="').f(t.get(["id"],!1),t,"h").w("-").f(t.get(["$idx"],!1),t,"h").w('" tabindex="-1"><span>').f(t.getPath(!0,[]),t,"h",["s"]).w("</span></li>")}e.register("mwf-plugin-suggest-template",t);var r={li:i};return t.__dustBody=!0,n.__dustBody=!0,o.__dustBody=!0,i.__dustBody=!0,a.__dustBody=!0,t}(dust),define("mwf-plugin-suggest-template",function(){}),function(e){"use strict";function t(e,t,n,o,i){function a(t,n){var i=this;this.$el=t,this.$input=t.is("input")?t:t.find("input"),this.id=this.$input.attr("id"),this.id||(this.id=o.getUniqueId(),this.$input.attr("id",this.id)),this.$input.attr("autocomplete","off"),this.namespace=".mwfSuggest"+this.id,this.settings=e.extend({},l,n),this.settings.container||(this.settings.container=t.parent()),this.settings.status||(this.settings.status=e("[role=status]",this.settings.$container)),this.$status=e(this.settings.status),this.$status.length||(this.$status=e('<div class="visuallyhidden">').insertBefore(this.$input)),this.$status.attr("role","status"),e.isArray(this.settings.source)&&(this.settings.source=s(this.settings.source)),this.settings.autobind&&this.$input.on("input",function(){i.query(this.value)}),this.inflight=[]}function r(e,t){e.scrollTop(0),e.scrollTop(t.position().top-5)}function s(t){return function(n,o){var i=new RegExp("("+n+")","i"),a=t.filter(e.proxy(/./.test,i));o(a.map(function(e){return{name:e.replace(i,"<strong>$1</strong>")}}),"name")}}var l={autobind:!0,container:null,width:"auto"},d=i.getBundle("plugin-suggest");return a.prototype.query=function(e){var t=this;return e?(this.inflight.push(e),void t.settings.source(e,function(n,o){t.inflight.indexOf(e)>-1&&t.render(n,o)})):(this.inflight=[],this.remove())},a.prototype.render=function(o,i){var a=this;if(!o||!o.length)return a.remove();a.$popup=e("#"+a.id+"-suggest");var s=n.render("mwf-plugin-suggest-template",{id:a.id,init:!a.$popup.length,items:e.map(o,function(e){return e[i]})});return a.$popup.length?s.done(function(t){var n=e("[role=listbox]",a.$popup),i=e("[aria-selected=true]",a.$popup).index();a.$status.html(d.property("label-num-results",o.length)),n.html(t),i>-1&&e("li",n).eq(i).attr("aria-selected",!0)}):void s.done(function(n){function i(t){var n=e(this);s.val(n.text()).trigger("mwfSuggestSelected",o[n.index()]),a.remove()}a.$popup=e(n).appendTo(a.settings.container).width(a.settings.width),a.$status.html(d.property("label-num-results",o.length));var s=a.$input,l="",u=e("[role=listbox]",a.$popup),c=a.namespace;e(window).on("resize"+c,function(){a.$popup.width(a.settings.width)}),a.$input.on("blur"+c,function(){setTimeout(function(){document.activeElement!==u[0]&&a.remove()},0)}),s.on("keydown"+c,function(n){var o=t.which(n),i=e("[role=option]:first-child",u);o.down?(n.preventDefault(),u.attr("tabindex",0).focus(),u.attr("aria-activedescendant",i.attr("id")),r(a.$popup,i),l=i.attr("aria-selected",!0).text()):o.tab&&a.remove()}),u.on("keydown"+c,function(n){var i,d=t.which(n),c=e("[aria-selected=true]",u),f=d.enter||d.space||d.tab;f||d.escape?(n.preventDefault(),n.stopPropagation(),f&&s.val(l).trigger("mwfSuggestSelected",o[c.index()]),l="",e('<span id="mwf-search-loading" class="visuallyhidden" tabindex="-1">Loading results</span>').insertAfter(s).focus()):d.down||d.right?(n.preventDefault(),i=c.next()):(d.up||d.left)&&(n.preventDefault(),i=c.prev()),i&&i.length&&(c.removeAttr("aria-selected"),
r(a.$popup,i.attr("aria-selected",!0)),u.attr("aria-activedescendant",i.attr("id")),l=i.text())}),u.on("blur"+c,function(){a.remove()}),u.mwfBind("tap"+c,"[role=option]",i),u.on("mousedown"+c,"[role=option]",i)})},a.prototype.remove=function(){this.$status.empty(),this.$popup&&this.$popup.length&&this.$popup.remove(),e(window).add(this.$input).off(this.namespace),this.$input.off(this.namespace)},e.fn.mwfSuggest=function(t){return this.each(function(){var n=e(this);n.data("mwfSuggest")||e.isPlainObject(t)&&n.data("mwfSuggest",new a(n,t))})},{arraySource:s}}"function"==typeof define&&define.amd?define("mwf-plugin-suggest",["jquery","mwf-core-keyboard","mwf-core-dust","mwf-core-unique-id","mwf-core-properties","mwf-plugin-suggest-template"],t):t(e.jQuery)}(this),function(e){"use strict";function t(e,t,n,o,i,a,r){function s(r,s){function c(r,d){var c,p=a.getBundle("core-ui-search"),m=e(".mwf-search-drawer-field",r),g=e(".mwf-search-drawer-submit button",r),w=e(".mwf-search-drawer-results",r).hide();r.on("mwfSearchCancel"+u,d).on("keydown"+u,function(t){var o=e(t.target),i=n.which(t);i.escape?(t.preventDefault(),c&&c.query(!1),d()):i.enter&&o.is("input")&&f(r,o.val())}),m.mwfSearchField({placeholder:p.property("label-search"),maxLength:75}).on("mwfPluginReady"+u,function(){s&&(c=m.mwfSuggest({autobind:!1,container:e("form",m),placeholder:!0,source:s,width:function(){return m.outerWidth()+l}}).on("mwfSuggestSelected",function(t,n){c&&c.query(!1),f(r,e("input",m).val())}).data("mwfSuggest"),c.query=i(c.query,250)),e("input",m).focus().on("keydown"+u,function(e){var t=n.which(e);t.enter&&(e.preventDefault(),c.query(!1))})}).on("filterValueChanged"+u,function(e,t){g.attr("disabled",!t).prop("disabled",!t),c&&c.query(t)}),g.attr("disabled",!0).prop("disabled",!0).mwfBind("tapOrEnter"+u,function(){c&&c.query(!1),f(r,e("input",m).val())},{stopPropagation:!0}),"sp"===mwfGlobals.language.toLowerCase()&&g.find("span").removeClass("hidden").attr("aria-hidden","false"),w.mwfBind("tapOrEnter"+u,"[data-url]",function(){var n=o(this);if(void 0!==n.displayType||void 0===n.identifier&&void 0===n.wwwurl)mwfGlobals.searchTrackingUrl&&"location"===n.displayType?(t.fireAndForget(mwfGlobals.searchTrackingUrl,{q:e("input",m).val(),site:mwfGlobals.searchSite,r:1,url:n.ghostUrl}),e(document).trigger("mwfNavigation",n)):e(document).trigger("mwfNavigation",n);else{var i={identifier:n.identifier||"",wwwUrl:n.www||""};t.postGenericJSON(n.url,i).done(function(t){e(document).trigger("mwfNavigation",[{ajaxCaller:"getHtmlAndJSON",url:t.linkNavigationViewBean.url,displayType:t.linkNavigationViewBean.displayType,targetElement:".page"}])}).fail(function(t){e(document).trigger("mwfNavigationError",t)})}},{stopPropagation:!0})}function f(t,n,o){var i=e(".mwf-search-drawer-field input",t),a=e(".mwf-search-drawer-submit button",t),s=e(".mwf-search-drawer-results",t).hide();return i.val(n),a.attr("disabled",!n).prop("disabled",!n),!(!n||"suggest"===o)&&void r.call(t,n,o,function(n){n?(s.html(n).show(),e("h2:first",s).attr("tabindex",-1).focus(),e(document).trigger("mwfFillVertical")):n===!1&&t.trigger("mwfSearchCancel")})}return function(e,t,n){d(n,c,function(n){f(n,e,t)})}}var l=-89,d=r.drawer("mwf-core-ui-search-drawer-fragment"),u=".mwfSearchDrawer";return{searchDrawer:s}}return"function"==typeof define&&define.amd?void define("mwf-core-ui-search-drawer",["jquery","mwf-core-ajax","mwf-core-keyboard","mwf-core-serialize-data-attributes","mwf-core-debounce","mwf-core-properties","mwf-core-ui-drawer","mwf-plugin-search-field","mwf-plugin-suggest"],t):t(e.jQuery)}(this),function(e){function t(e,t){return e.w("<h2>").f(t.getPath(!1,["core-ui-search","label-search-heading"]),t,"h").w("</h2>").s(t.get(["spelling"],!1),t,{block:n},{}).x(t.get(["searchResultsTOsList"],!1),t,{else:o,block:r},{})}function n(e,t){return e.w("<p>").f(t.getPath(!1,["core-ui-search","label-including-results"]),t,"h").w(' <a role="link" tabindex="0" data-search="').f(t.get(["spelling"],!1),t,"h").w('">').f(t.get(["spelling"],!1),t,"h").w("</a></p><p>").f(t.getPath(!1,["core-ui-search","label-best-bets"]),t,"h").w(' <a role="link" tabindex="0" data-search="').f(t.get(["searchString"],!1),t,"h").w('" data-search-mode="best-bet">').f(t.get(["searchString"],!1),t,"h").w("</a></p>")}function o(e,t){return e.w("<p>").f(t.getPath(!1,["core-ui-search","label-no-results"]),t,"h").w(" <strong>").f(t.get(["searchString"],!1),t,"h").w("</strong>.</p>").x(t.get(["showFooter"],!1),t,{block:i},{}).x(t.get(["showTips"],!1),t,{block:a},{})}function i(e,t){return e.w("<p>").f(t.getPath(!1,["core-ui-search","label-www-search-prefix-no-results"]),t,"h").w(' <a role="link" tabindex="0" data-url="').f(t.get(["wwwUrl"],!1),t,"h").w('" data-display-type="browser">').f(t.getPath(!1,["core-ui-search","label-www-search-link"]),t,"h").w("</a> ").f(t.getPath(!1,["core-ui-search","label-www-search-suffix"]),t,"h").w("</p>")}function a(e,t){return e.f(t.getPath(!1,["core-ui-search","label-search-tips"]),t,"h",["s"])}function r(e,t){return e.w('<ul class="results">').h("eq",t,{else:s,block:d},{key:t.get(["searchRulesLink"],!1),value:"false",type:"boolean"},"h").w("</ul>").x(t.get(["showFooter"],!1),t,{block:c},{})}function s(e,t){return e.s(t.get(["searchResultsTOsList"],!1),t,{block:l},{})}function l(e,t){return e.w('<li><a role="link" tabindex="0" data-url="').f(t.get(["ctaUrl"],!1),t,"h").w('" data-identifier="').f(t.get(["identifier"],!1),t,"h").w('" data-www="').f(t.get(["wwwUrl"],!1),t,"h").w('">').f(t.get(["title"],!1),t,"h",["s"]).w("</a><p>").f(t.get(["searchDescription"],!1),t,"h",["s"]).w("</p></li>")}function d(e,t){return e.s(t.get(["searchResultsTOsList"],!1),t,{block:u},{})}function u(e,t){return e.w('<li><a role="link" tabindex="0" data-url="').f(t.get(["actionUrl"],!1),t,"h").w('" data-ghost-url="').f(t.get(["ghostURL"],!1),t,"h").w('" data-display-type="').f(t.get(["displayType"],!1),t,"h").w('">').f(t.get(["displayNameForUrl"],!1),t,"h",["s"]).w("</a><p>").f(t.get(["searchDescription"],!1),t,"h",["s"]).w("</p></li>")}function c(e,t){return e.w('<div class="divider"></div><p>').f(t.getPath(!1,["core-ui-search","label-www-search-prefix"]),t,"h").w(' <a role="link" tabindex="0" data-url="').f(t.get(["wwwUrl"],!1),t,"h").w('" data-display-type="browser">').f(t.getPath(!1,["core-ui-search","label-www-search-link"]),t,"h").w("</a> ").f(t.getPath(!1,["core-ui-search","label-www-search-suffix"]),t,"h").w("</p>")}return e.register("mwf-core-ui-search-template",t),t.__dustBody=!0,n.__dustBody=!0,o.__dustBody=!0,i.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,u.__dustBody=!0,c.__dustBody=!0,t}(dust),define("mwf-core-ui-search-template",function(){}),function(e){"use strict";function t(e,t,n,o,i){function a(e){return e.appHost===mwfGlobals.currentApp?"location":"saml"}function r(i,r,s){var l=o.getBundle("core-ui-search");e(document).trigger("mwfSearchGlobal",i);var d={};t.getJSON(mwfGlobals.searchUrl,{input:i,mode:r}).fail(function(t){e(document).trigger("mwfNavigationError",t)}).done(function(o){if(d=o.searchResultsBean||o,d.searchRulesLink=mwfGlobals.searchRulesLink,2===d.status)e(document).trigger("mwfNavigationError");else{if(d.directNavigation)return d.searchRulesLink===!1?e(document).trigger("mwfNavigation",{url:d.searchResultsTOsList[0].actionUrl,displayType:a(d.searchResultsTOsList[0])}):t.postGenericJSON(d.ctaUrl,{identifier:d.searchResultsTOsList[0].identifier||"",wwwUrl:d.searchResultsTOsList[0].wwwUrl||""}).done(function(t){e(document).trigger("mwfNavigation",[t.linkNavigationViewBean])}).fail(function(t){e(document).trigger("mwfNavigationError")}),!1;d.searchString||(d.searchString=i),d.searchResultsTOsList&&d.searchResultsTOsList.forEach(function(t){t.displayType=a(t),t.searchDescription=e("<textarea />").html(t.searchDescription).text()}),d.wwwUrl=mwfGlobals.searchPublicUrl+"q="+d.searchString,d.showFooter=["PCG","TPB"].indexOf(mwfGlobals.customerType)<0,d.showTips=!d.showFooter,n.render("mwf-core-ui-search-template",d,l).done(function(t){s(t),e("#mwf-search-loading").remove()})}})}function s(e,n){t.getExternalJSON(mwfGlobals.searchSuggestUrl,{q:e,site:mwfGlobals.searchSite,client:"www_frontend"}).done(function(t){t.results&&n(t.results.map(function(t){return t.name=t.name.replace(e,"<strong>"+e+"</strong>"),t}),"name")})}var l=i.searchDrawer(r,s);return mwfGlobals.searchUrl&&(e(document).on("mwfSearch",function(e,t,n){l(t,n,e.target)}),e(document).mwfBind("tapOrEnter","[data-search]",function(){if("true"===e(this).attr("aria-disabled"))return!1;var t=e(this).data();e(this).attr({"aria-disabled":"true",tabindex:"-1"}),l(t.search,t.searchMode,this)},{stopPropagation:!0})),r}return"function"==typeof define&&define.amd?void define("mwf-core-ui-search",["jquery","mwf-core-ajax","mwf-core-dust","mwf-core-properties","mwf-core-ui-search-drawer","mwf-core-ui-search-template"],t):t(e.jQuery)}(this),function(e){"use strict";var t=function(e){var t={},n=function(e){var t=e.split("/");return new Date(parseInt(t[2],10),parseInt(t[0],10)-1,parseInt(t[1],10))};return t.days=[],t.isHoliday=function(n){return e.inArray(n.truncate().valueOf(),t.days)>=0},"undefined"!=typeof mwfGlobals&&mwfGlobals.mwfDocumentReady.done(function(){e("#mwfHolidays").children().each(function(){t.days.push(n(e(this).text()).valueOf())}).end().remove()}),t};return"function"==typeof define&&define.amd?void define("mwf-core-holidays",["jquery"],t):t(e.jQuery)}(this),function(e){"use strict";var t=function(e,t,n){var o={};return o.initProperties=function(){var t=e.getBundle("core-date-properties");o.days_abbreviated=[t.property("label-sunday").substring(0,3),t.property("label-monday").substring(0,3),t.property("label-tuesday").substring(0,3),t.property("label-wednesday").substring(0,3),t.property("label-thursday").substring(0,3),t.property("label-friday").substring(0,3),t.property("label-saturday").substring(0,3)],o.days=[t.property("label-sunday"),t.property("label-monday"),t.property("label-tuesday"),t.property("label-wednesday"),t.property("label-thursday"),t.property("label-friday"),t.property("label-saturday")],o.months_abbreviated=[t.property("label-january").substring(0,3),t.property("label-february").substring(0,3),t.property("label-march").substring(0,3),t.property("label-april").substring(0,3),t.property("label-may").substring(0,3),t.property("label-june").substring(0,3),t.property("label-july").substring(0,3),t.property("label-august").substring(0,3),t.property("label-september").substring(0,3),t.property("label-october").substring(0,3),t.property("label-november").substring(0,3),t.property("label-december").substring(0,3)],o.months=[t.property("label-january"),t.property("label-february"),t.property("label-march"),t.property("label-april"),t.property("label-may"),t.property("label-june"),t.property("label-july"),t.property("label-august"),t.property("label-september"),t.property("label-october"),t.property("label-november"),t.property("label-december")]},mwfGlobals.combinedFragmentsReady.done(function(){o.initProperties()}),Date.prototype.mmddyyyy=function(e){e=e||"/";var t=this.getFullYear().toString(),n=(this.getMonth()+1).toString(),o=this.getDate().toString();return(n[1]?n:"0"+n[0])+e+(o[1]?o:"0"+o[0])+e+t},Date.prototype.mmddyy=function(e){e=e||"/";var t=this.getFullYear().toString().substr(2,2),n=(this.getMonth()+1).toString(),o=this.getDate().toString();return(n[1]?n:"0"+n[0])+e+(o[1]?o:"0"+o[0])+e+t},Date.prototype.mdyy=function(e){e=e||"/";var t=this.getFullYear().toString().substr(2,2),n=(this.getMonth()+1).toString(),o=this.getDate().toString();return n+e+o+e+t},Date.prototype.yyyymmdd=function(){var e=this.getFullYear().toString(),t=(this.getMonth()+1).toString(),n=this.getDate().toString();return e+(t[1]?t:"0"+t[0])+(n[1]?n:"0"+n[0])},Date.prototype.yyyymm=function(e){e=e||"/";var t=this.getUTCFullYear().toString(),n=(this.getUTCMonth()+1).toString();return t+e+(n[1]?n:"0"+n[0])},Date.prototype.utcmmddyy=function(e){e=e||"/";var t=this.getUTCFullYear().toString().substr(2,2),n=(this.getUTCMonth()+1).toString(),o=this.getUTCDate().toString();return(n[1]?n:"0"+n[0])+e+(o[1]?o:"0"+o[0])+e+t},Date.prototype.truncate=function(){return this.setHours(0),this.setMinutes(0),this.setSeconds(0),this.setMilliseconds(0),this},Date.prototype.addYears=function(e){return e=e||0,this.setFullYear(this.getFullYear()+e),this},Date.prototype.addDays=function(e){e=e||0;var t=new Date(this);return t.setDate(this.getDate()+e),t},o.parseDate=function(e){var t,n;return"string"!=typeof e?new Date(e).truncate():""!==e?(t=e.split("/"),n=4===t[2].length?t[2]:"20"+t[2],new Date(parseInt(n,10),parseInt(t[0],10)-1,parseInt(t[1],10))):void 0},o.isDateValid=function(e,t){var n,o,i,a,r,s;if(n=void 0===t||""===t?"mm/dd/yyyy":t,r=n.split("/"),o=r[0].length,i=r[1].length,a=r[2].length,s=new RegExp("^\\d{1,"+o+"}/\\d{1,"+i+"}/\\d{"+a+"}$"),!s.test(e))return!1;var l=e.split("/"),d=parseInt(l[1],10),u=parseInt(l[0],10),c=parseInt(4===l[2].length?l[2]:"20"+l[2],10);if(c<1e3||c>3e3||0==u||u>12)return!1;var f=[31,28,31,30,31,30,31,31,30,31,30,31];return(c%400==0||c%100!=0&&c%4==0)&&(f[1]=29),d>0&&d<=f[u-1]},o.getDayName=function(e){return"undefined"!=typeof e&&o.days[e.getDay()]},o.getAbbreviatedDayName=function(e){return"undefined"!=typeof e&&o.days_abbreviated[e.getDay()]},o.getMonthName=function(e){return"undefined"!=typeof e&&o.months[e.getMonth()]},o.getAbbreviatedMonthName=function(e){return"undefined"!=typeof e&&o.months_abbreviated[e.getMonth()]},o.isBusinessDay=function(e){return"undefined"!=typeof e&&(!o.isWeekendDay(e)&&!o.isHoliday(e))},o.isWeekendDay=function(e){return"undefined"!=typeof e&&(0===e.getDay()||6===e.getDay())},o.isHoliday=function(e){return"undefined"!=typeof e&&t.isHoliday(e)},o.isToday=function(e){return"undefined"!=typeof e&&(new Date).toDateString()===e.toDateString()},o.getDateOrdinal=function(e){if("undefined"==typeof e)return!1;var t=e.getDate();return""+t+(t>10&&t<20?"th":{1:"st",2:"nd",3:"rd"}[t%10]||"th")},o.getFirstDateOfMonth=function(e){return"undefined"!=typeof e&&new Date(e.getFullYear(),e.getMonth(),1)},o.getLastDateOfMonth=function(e){return"undefined"!=typeof e&&new Date(e.getFullYear(),e.getMonth()+1,0)},o.getTime=function(e,t){return"undefined"!=typeof e&&e.toLocaleString("en-US",t).toLowerCase()},o.getTimezone=function(e,t){if("undefined"==typeof e)return!1;var o="";try{o="long"===t.timeZoneName?e.toLocaleTimeString("en-us",t).split([" "]).slice(2,8).join(" "):e.toLocaleTimeString("en-us",t).split([" "])[2],("undefined"==typeof o||""===o||/GMT/.test(o.toString()))&&(o=e.toTimeString().match(new RegExp("[A-Z](?!.*[(])","g")),o=null===o||"undefined"==typeof o?"":o.join(""))}catch(e){n.error("mwf-core-date: "+e)}return o},o.getSpanishTimezone=function(e){var t={C:"central",E:"este",M:"montaa",P:"Pacfico"},n=Object.keys(t).filter(function(t){return e[0]===t&&["T","DT","ST"].indexOf(e.slice(1))>-1}).pop();return n?"hora "+t[n]:e},o.offsetYear=function(e,t){if("undefined"==typeof e||"undefined"==typeof t)return!1;var n=new Date;return n.setFullYear(e.getFullYear()+t,e.getMonth(),e.getDate()),n},o};return"function"==typeof define&&define.amd?void define("mwf-core-date",["mwf-core-properties","mwf-core-holidays","mwf-core-logger"],t):t()}(this),function(e){function t(e,t){return e.w('<span class="time-stamp">').x(t.get(["isSpanish"],!1),t,{else:n,block:o},{}).w("</span>")}function n(e,t){return e.w('<span class="timestamp">Your last sign on was</span><br><span class="timestamp"> ').f(t.get(["month"],!1),t,"h").w(" ").f(t.get(["date"],!1),t,"h").w(", ").f(t.get(["year"],!1),t,"h").w(' at</span><br><span class="timestamp">').f(t.get(["time"],!1),t,"h").w(" ").f(t.get(["timezone"],!1),t,"h").w("</span>")}function o(e,t){return e.w('<span class="timestamp">La ltima vez que inici sesin fue el</span><br><span class="timestamp"> ').f(t.get(["date"],!1),t,"h").w(" de ").f(t.get(["month"],!1),t,"h").w(" de ").f(t.get(["year"],!1),t,"h").w(' a la(s)</span><br><span class="timestamp">').f(t.get(["time"],!1),t,"h").w(", ").f(t.get(["timezone"],!1),t,"h").w("</span>")}return e.register("mwf-core-ui-time-stamp-template",t),t.__dustBody=!0,n.__dustBody=!0,o.__dustBody=!0,t}(dust),define("mwf-core-ui-time-stamp-template",function(){}),function(e){"use strict";var t=function(e,t,n,o){var i="sp"===window.mwfGlobals.language&&"es"===e("html").attr("lang"),a=(window.mwfGlobals.lastLogonTimeStamp||"").trim(),r=a?new Date(a):new Date,s=t.getMonthName(r),l=t.getTimezone(r,{timeZoneName:"short"}),d={isSpanish:i,month:i?s.toLowerCase():s,date:r.getDate(),year:r.getFullYear(),time:t.getTime(r,{hour:"numeric",minute:"numeric",hour12:!0}),timezone:i?t.getSpanishTimezone(l):l},u=function(){var t=e(".last-signon");t.length&&n.render("mwf-core-ui-time-stamp-template",d).done(function(e){t.empty().append(e)})};return mwfGlobals.mwfDocumentReady.done(u),u};return"function"==typeof define&&define.amd?void define("mwf-core-ui-time-stamp",["jquery","mwf-core-date","mwf-core-dust","mwf-core-logger","mwf-core-ui-time-stamp-template"],t):t(e.jQuery)}(this),function(e){"use strict";function t(e,t,n,o){function i(t,n){this.el=t,this.$el=e(t),this.settings=e.extend({},l,n),this._init()}function a(t,n,o){var i="keydown.mwfNavTabCycle";return e(document).on(i,function(i){if(9===i.keyCode){var a=e(document.activeElement);a.is(t)?(i.preventDefault(),(i.shiftKey?o:n).focus()):i.shiftKey&&a.is(n)?(i.preventDefault(),t.focus()):!i.shiftKey&&a.is(o)&&(i.preventDefault(),t.focus())}}),function(){e(document).off(i)}}var r="mwfNav",s="."+r,l={navigate:null,$opener:null,requestClose:null};return i.prototype={_init:function(){var n=this;n.bundle=o.getBundle("core-nav-plugin-bundle"),this.$opener=this.settings.$opener,this.$items=this.$el.find("a"),this.$items.not(".m2-nav-expander-label").mwfBind("tapOrEnter"+s,function(o){var i=this;t.confirmNavigation(e(i)).done(function(){n.settings.requestClose(),n.settings.navigate.call(i,o)}).fail(function(){n.settings.requestClose()})},{stopPropagation:!0}),n._applyA11y("init");var i=this.$list=e(".m2-nav-expander-label",this.el).mwfExpandCollapse({container:".m2-nav-expander",generateTargetId:!0}).on("mwfExpanded"+s,function(){i.not(this).mwfExpandCollapse("close")})},open:function(){var t=this;e("body").is("[data-keyboard-open]")&&t.$opener.trigger("mwfCloseKeyboard"),t.$el.show(),t.$opener.parent().addClass("flag-nav-opener"),t._applyA11y("open")},close:function(){var e=this;e.$el.scrollTop(0).hide(),e.$list.mwfExpandCollapse("close"),e.$opener.parent().removeClass("flag-nav-opener"),e._applyA11y("close")},_applyA11y:function(t){var o=this,i=n.getUniqueId(),r=o.bundle.property("a11y-information-text");switch(t){case"init":o.$opener.a11yText(r).children("span").last().attr("id",i),o.$opener.attr("aria-pressed",!1).attr("aria-describedby",i),o.$items.not(".m2-nav-expander-label").attr("role","link").attr("tabindex",0);break;case"open":o.$items.first().focus(),o.$opener.attr("aria-pressed",!0),o.$el.parent().on("keydown",function(t){27===t.keyCode?o.$opener.trigger("toggle"):32===t.keyCode&&(e(document.activeElement).mwfExpandCollapse("open"),t.preventDefault())}),o._clearTabCycle=a(o.$opener,o.$items.first(),o.$items.last());break;case"close":o.$opener.attr("aria-pressed",!1),o.$opener.focus(),o._clearTabCycle(),o.$el.parent().off("keydown")}}},e.fn[r]=function(t){return this.each(function(){var n=e.data(this,"plugin_"+r);if(n)switch(t){case"open":n.open();break;case"close":n.close()}else e.data(this,"plugin_"+r,new i(this,t))})},i}return"function"==typeof define&&define.amd?void define("mwf-plugin-nav",["jquery","mwf-core-ui-confirm-navigation","mwf-core-unique-id","mwf-core-properties","mwf-plugin-expand-collapse","mwf-plugin-a11y-text","mwf-plugin-event-mediator","mwf-plugin-global-nav"],t):t(e.jQuery)}(this),function(e){"use strict";function t(e,t,n){function o(t,n){this.el=t,this.$el=e(t),this.settings=e.extend({},r,n),this._init()}var i="mwfGlobalNav",a="."+i,r={navigate:null,open:!1,close:!1,windowResize:!1};return o.prototype={_init:function(){function o(){l.$el.addClass("is-open"),d.open&&d.open(),s=n.push("nav",i)}function i(){l.$el.removeClass("is-open"),d.close&&d.close(),r()}function r(){l.$opened.mwfNav("close"),l.$opened=null,l.$opener=null}var s,l=this,d=this.settings,u=this.$el.find("a");this.$opener=null,this.$opened=null,d.open&&(d.open=e.proxy(d.open,this)),d.close&&(d.close=e.proxy(d.close,this)),d.windowResize&&(d.windowResize=e.proxy(d.windowResize,this),e(window).on("resize",t(d.windowResize,250))),u.each(function(){var t,i=e(this),u=i.data("nav-id");i.attr("tabindex",0),i.find("i").removeAttr("tabindex"),u?(t=e("#"+u).mwfNav({navigate:d.navigate,$opener:i,requestClose:e.proxy(l.close,l)}),i.on("toggle"+a,function(){var e=l.$opener===i,a=l.$opened&&!e;e?n.rewindTo(s):a&&r(),e||(t.mwfNav("open"),l.$opened=t,l.$opener=i,a||o(),d.windowResize&&d.windowResize())})):i.attr("role","link")}),l._bindEvents()},_bindEvents:function(){var t=this;t.$el.mwfBind("tapOrEnter"+a,function(t){var n=e(t.target);(n.data("nav-id")||n.parent().data("nav-id"))&&(n.trigger("toggle"),t.stopPropagation())})},close:function(){this.$opener&&this.$opener.trigger("toggle").focus()}},e.fn[i]=function(t){return this.each(function(){var n=e.data(this,"plugin_"+i);if(n)switch(t){case"close":n.close()}else e.data(this,"plugin_"+i,new o(this,t))})},o}return"function"==typeof define&&define.amd?void define("mwf-plugin-global-nav",["jquery","mwf-core-throttle","mwf-core-history","mwf-plugin-event-mediator","mwf-plugin-nav"],t):t(e.jQuery)}(this),function(e){"use strict";var t="mwfAccordion",n=function(e,n,o,i){var a={headingLevel:2},r=function(t,n){this.$el=e(t),this.settings=e.extend({},a,n),this._init()};return r.prototype={_init:function(){var e=this,t=this.$el.find("> li > :first-child");e.$el.attr("role","presentation"),t.each(function(o){var i=n.getUniqueId(),a=n.getUniqueId();t.eq(o).attr({role:"heading","aria-level":e.settings.headingLevel}).children().attr({id:i,"aria-controls":a,"aria-expanded":!1}).end().next().attr({id:a,"aria-labelledby":i,role:"region"}).find("a").attr({tabindex:0,role:"link"})}),t.mwfBind("tapOrEnter",function(){e.toggle(t.index(this))},{stopPropagation:!0}),t.on("keyup",function(e){var n=o.which(e),i=t.index(this),a=t.length;return n.down?(t.eq(i+1===a?0:i+1).children().focus(),!1):n.up?(t.eq(0===i?a-1:i-1).children().focus(),!1):n.home?(t.eq(0).children().focus(),!1):n.end?(t.eq(a-1).children().focus(),!1):void 0})},toggle:function(t){var n=this.$el.find("> li > :first-child"),o=n.eq(t),i=n.children(),a=i.eq(t),r=!1;o.is(".open")||(r=!0),n.removeClass("open"),i.attr("aria-expanded",!1),r&&(o.addClass("open"),a.attr("aria-expanded",!0),e("dd[id="+a.attr("aria-controls")+"] a").first().focus())},close:function(e){var t=this.$el.find("> li > :first-child"),n=void 0!==e?t.eq(e):t,o=n.children();n.removeClass("open"),o.attr("aria-expanded",!1)},remove:function(){e.data(this.$el[0],"plugin_"+t,null)}},e.fn[t]=function(n){var o=[].slice.call(arguments,0),i=o.shift();return this.each(function(){var a=e.data(this,"plugin_"+t);a?"string"==typeof i&&a[i]&&a[i].apply(a,o):e.data(this,"plugin_"+t,new r(this,n))})},r};"function"==typeof define&&define.amd?define("mwf-plugin-accordion",["jquery","mwf-core-unique-id","mwf-core-keyboard","mwf-core-logger","mwf-plugin-event-mediator"],n):n(e.jQuery)}(this),function(e){"use strict";function t(e,t,o,i,a,r,s,l){function d(o){g=e.extend(!0,{autoFillVertical:!1,pageUrls:mwfGlobals.pageUrls||{},triggerNav:function(t){t&&e(document).trigger("mwfNavigation",t)},$el:{masthead:e(".masthead"),globalNav:e(".masthead-links"),footer:e(".footer"),page:e(".page")},openDelay:500},o);var d,u,h,v,b,y,x,C,k,B,_,T=g.$el.masthead,$=T.next(".desktop-margin"),P=g.$el.globalNav,O=e("body"),E=g.$el.footer,D="Navigation",N=e("#mwf-banner");if(g.handler||(g.navRules||(g.navRules=n),g.handler=function(n){var o=f(this);if(o){if("anchor"!==o.displayType)return t.confirmNavigation(e(this)).done(function(){g.triggerNav(o)});g.triggerNav(o)}},("undefined"!=typeof window.mwfGlobals.customerType&&"TPB"===window.mwfGlobals.customerType||"undefined"!=typeof window.mwfGlobals.customerBrand&&"TPB"===window.mwfGlobals.customerBrand&&e("#mwf-banner").is(".submasthead-collapsible"))&&p()),c(E,!0),N.length){if(d=e("#mwf-banner .mwf-accordion").mwfAccordion(),w=e("#mwf-banner li > button:not([data-search],[data-sign-off])"),u=[".mwf-app-nav-col",".mwf-app-nav-4col",".mwf-app-nav-2col",".mwf-app-nav-1col",":not(.mwf-app-nav-tile) > h2","div > p","div > p span",".mwf-search-drawer *"].join(","),h=[".mwf-app-nav-col li > a",".mwf-app-nav-tile h2","#mwf-customer-nav-profile div a","#mwf-customer-nav-profile div button"].join(","),_=s.getBundle("core-ui-global-nav-properties"),w.each(function(e){var t=i.getUniqueId(),n=i.getUniqueId();w.eq(e).attr({id:t,"aria-controls":n,"aria-expanded":!1}).next().attr({id:n,"aria-label":_.property("a11y-region-label"),"aria-hidden":!0,role:"navigation"})}),e(".mwf-app-nav-col").each(function(){return e("a",this).length?(e("li",this).each(function(){var t=e(this);e.trim(t.text()).length||t.remove()}),void e("ul",this).each(function(){var t=e(this);e.trim(t.text()).length||(t.prev().remove(),t.remove())})):e(this).remove()}),e("#mwf-app-nav li > button + div").each(function(){var t=e(this),n=e(".mwf-app-nav-col",this).length;n?1===n&&t.parent().css("position","relative"):t.prev().attr("disabled",!0).prop("disabled",!0),t.removeClass("mwf-app-nav-1col mwf-app-nav-2col mwf-app-nav-4col").addClass("mwf-app-nav-"+n+"col")}),v=function(){B=!0,d.mwfAccordion("close"),w.filter(".open").next().attr("aria-hidden",!0).removeClass("is-scrollable").css("max-height","").scrollTop(0),w.removeClass("open").attr("aria-expanded",!1),e("#mwf-app-nav").removeClass("sticky"),N.attr("data-modal-visually-hide",!0),e("body").removeClass("mwf-nav-open"),e(".page").mwfOverlay("remove",{overlayName:"banner"})},b=function(){return e("#mwf-app-nav").is(".sticky")},y=function(e){return e.parent().is("#mwf-customer-nav-profile")},x=function(t){return t.css("max-height",r.getWindowHeight()-(t.offset().top-e(window).scrollTop()))},C=function(t){var n=e(t),o=n.is(".open");return!(!o||b())||(v(),!o&&(x(n.next().show()),n.next().removeAttr("aria-hidden"),n.addClass("open").attr("aria-expanded",!0),e("body").addClass("mwf-nav-open"),N.removeAttr("data-modal-visually-hide"),e(".page").mwfOverlay({overlayClass:"mwf-overlay mwf-banner-overlay",overlayName:"banner"}),e(".mwf-banner-overlay").mwfBind("tap",v),e(".mwf-search-drawer").trigger("mwfSearchCancel"),!0))},w.on("mouseenter",function(t){var n=e(this);return!(n.is(".open")||b()||y(n))&&void(k=setTimeout(function(){C(n)},B?0:g.openDelay))}).on("mouseleave",function(t){return!b()&&e(t.relatedTarget).closest(".mwf-nav-panel").prev()[0]!==this&&(clearTimeout(k),void v())}).mwfBind("tapOrEnter",function(t){clearTimeout(k),e("#mwf-app-nav").toggleClass("sticky",C(this)),(e(this).is(".open")||b()&&y(e(this)))&&e(".mwf-nav-panel .last-signon").attr("tabindex",-1).focus()},{stopPropagation:!0}),w.next().addClass("mwf-nav-panel").hide().on("transitionend webkitTransitionEnd oTransitionEnd",function(t){var n=e(this);"0px"===n.css("max-height")?(n.hide(),B=!1):"max-height"===t.originalEvent.propertyName&&n.addClass("is-scrollable")}).on("mouseleave",function(t){return!b()&&t.relatedTarget!==e(this).prev()[0]&&void v()}).keyup(function(e){var t=a.which(e);t.escape&&v()}),mwfGlobals.bankerAssistedView)try{e("#mwf-banner a").mwfBind("tapOrEnter",function(t){return!e(t.target).is(u)&&void(m(t)&&(v(),e(".mwf-search-drawer").trigger("mwfSearchCancel")))})}catch(e){l.error(e)}e("#mwf-banner").mwfBind("tap",function(t){if(e(t.target).is(u))return!1;try{if(mwfGlobals.bankerAssistedView&&!m(t))return!1}catch(e){l.error(e)}v(),e(".mwf-search-drawer").trigger("mwfSearchCancel")}),e(".page").mwfBind("tap",function(t){e(".mwf-search-drawer").trigger("mwfSearchCancel")}),c("#mwf-banner",!0,v),e("#mwf-customer-nav > li > button, #mwf-app-nav > li > button, #mwf-app-nav > li > a").keyup(function(t){9==t.keyCode&&(t.shiftKey&&e(this).is(".open")||v())}),e(window).resize(function(){var e=w.filter(".open");e.length&&x(e.next())}),e(h).each(function(){var t=e(this).text();e(this).append(e('<span aria-hidden="true">').html("<span>"+t+"</span>"))})}else $.attr("role","region").attr("aria-label",D).attr("tabindex",0),e(".m2-nav").addClass("fill-vertical"),c(T,!0),P.mwfGlobalNav({navigate:function(e){return g.triggerNav(f(this))},open:function(){O.mwfOverlay().addClass("flag-nav-open"),$.attr("aria-hidden",!1).focus(),e(g.overlayClass||".mwf-overlay").mwfBindOnce("tap",function(){P.mwfGlobalNav("close")},{stopPropagation:!0})},close:function(){this.$opened.height("auto"),$.css("top",0),$.attr("aria-hidden",!0),O.mwfOverlay("remove").removeClass("flag-nav-open")},windowResize:function(){this.$opened&&($.css("top",e(window).scrollTop()),e(document).trigger("mwfFillVertical"))}});return g}function u(t){var n=e.grep(g.navRules,function(e,t){return!(1&t)});return t?n:n.map(function(e,t){return{selector:e,navOptions:g.navRules[2*t+1]}})}function c(t,n,o){var i=e(t),a=".mwfGlobalNav"+h++,r=u(!0).join(",");return n||(i.is(r)||(i=i.find(r)),r=null),i.mwfBind("tapOrEnter"+a,r,function(e){o&&o.apply(this,arguments),g.handler.apply(this,arguments)},{stopPropagation:!0}),function(){i.off(a)}}function f(t){var n=null,i=e(t),a=o(i),r=g.pageUrls[a.pageId]||a.url||i.attr("href");return i.is("[aria-disabled=true]")?null:(e.each(u(),function(t,o){if(i.is(o.selector))return n=e.extend({},v,e.isFunction(o.navOptions)?o.navOptions(i):o.navOptions,a,{url:r}),!1}),n)}function p(){var t=!1;e(window).scroll(function(){t===!1&&(t=!0,setTimeout(function(){var n=document.body.scrollTop||document.documentElement.scrollTop;e("#mwf-banner").toggleClass("submasthead-collapsed",n>100),t=!1},200))})}function m(t){return!(t&&e(t.target).closest("a")&&e(t.target).closest("a").attr("aria-disabled")&&"true"===e(t.target).closest("a").attr("aria-disabled").toLowerCase()&&w.filter(".open").length&&w.filter(".open").closest("li").find(e(t.target)).length)||(t.stopPropagation(),!1)}var g,w,h=0,v={showFormErrors:!0,showMessages:!0};return e(document).on("mwfNavigation",function(){e(".mwf-search-drawer").trigger("mwfSearchCancel")}),{init:d,bindHandler:c,optionsFromElement:f}}var n=["[data-sign-off], [data-signoff], .signoff-link",{signoff:!0},".samloutbound",{displayType:"saml"},".nativeAtmLink",{displayType:"atm"},".nativeLargeModalLink",{displayType:"modal",displaySize:"large"},".nativeModalLink",{displayType:"modal",displaySize:""},".nativeExternalBrowser",{displayType:"browser"},"[data-page-id]",{displayType:"location"},"[data-template]",{ajaxCaller:"getGenericJSON",displayType:"page"},"[data-url]",{displayType:"page"},'[href]:not([href*=void]):not([href^="#"])',{displayType:"location"},'[href^="#"]',{displayType:"anchor"}];return"function"==typeof define&&define.amd?void define("mwf-core-ui-global-nav",["jquery","mwf-core-ui-confirm-navigation","mwf-core-serialize-data-attributes","mwf-core-unique-id","mwf-core-keyboard","mwf-core-window","mwf-core-properties","mwf-core-logger","mwf-core-ui-search","mwf-core-ui-time-stamp","mwf-plugin-global-nav","mwf-plugin-overlay","mwf-plugin-event-mediator","mwf-plugin-accordion"],t):t(e.jQuery)}(this),function(e){"use strict";function t(e,t){var n=function(t){t&&(t=e(t),t.is("[tabindex]")?t.focus():t.attr("tabindex","0").focus())},o=function(e,t,n){if("undefined"==typeof e||"undefined"==typeof t)return null;n="undefined"==typeof n?1:n;var o=[],i=e instanceof Date?e:new Date(e);i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0);var a=t instanceof Date?t:new Date(t);for(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),i.getDate()===n?o.push(new Date(i.getTime())):i.setDate(n),i.setMonth(i.getMonth()+1);i.getTime()<a.getTime();)o.push(new Date(i.getTime())),i.setMonth(i.getMonth()+1);return o},i=function(e,n,o){
if(!e)return void t.error("Attempt to rename property on non-existent object");try{if(n===o)return e;e.hasOwnProperty(n)&&(e[o]=e[n],delete e[n])}catch(e){t.error("Received undefined response object: "+e.message)}finally{return e}},a=function(e,t){return isFinite(e=e.valueOf())&&isFinite(t=t.valueOf())?(e>t)-(e<t):NaN};return{handleFocus:n,getDateList:o,renameProperty:i,compareDates:a}}return"function"==typeof define&&define.amd?void define("mwf-servicing-ui-common-util",["jquery","mwf-core-logger"],t):t(e.jQuery)}(this),function(e){"use strict";var t=function(e,t){var n=".mwfNetworkConnectionError",o=t.getBundle("network-connection-error");mwfGlobals.mwfDocumentReady.done(function(){e(document).on("mwfNoNetworkConnection"+n,function(t,n){0===e(".mwf-popup-stop-message").length?e(document).trigger("mwfStopMessage",[o.property("msg-network-connection-error"),n]):"undefined"!=typeof n&&n.reject()})})};return"function"==typeof define&&define.amd?void define("mwf-core-ui-network-connection-error",["jquery","mwf-core-properties","mwf-core-stop-message"],t):t(e.jQuery)}(this),function(e){"use strict";var t=function(e,t,n,o,i){var a=".mwfSignoff",r={},s={prompt:!0,signOffUrl:window.mwfGlobals.signOffUrl||"/logoff",useAjax:!1};return r.signoff=function(n){var o,i=n.signOffUrl;n.prompt?(o=n.confirmPromise||e.Deferred(),setTimeout(function(){e(document).trigger("mwfConfirmSignoff",[o])},300),o.done(function(){e(document).trigger("mwfSignoffNoPrompt",{signOffUrl:i})})):(n.isSessionTimeout&&(i=i+(-1===i.indexOf("?")?"?":"&")+"timeout=true"),n.useAjax?t.fireAndForget(i):setTimeout(function(){window.Inq&&"function"==typeof window.Inq.closeChat&&window.Inq.closeChat(),e("body").mwfOverlay({overlayName:"navigation",showWorkingIndicator:!0,showWorkingIndicatorInNativeApp:!1}),r.windowLocation(i)},250))},r.windowLocation=function(e){i.debug("window.location call for "+e),window.location=e},mwfGlobals.mwfDocumentReady.done(function(){e(document).mwfBind("tapOrEnter"+a,"[data-sign-off]",function(){e(document).trigger("mwfNavigation",o(this))},{stopPropagation:!0}),e(document).on("mwfSessionTimeout"+a,function(t,n){r.signoff(e.extend({},s,n,{isSessionTimeout:!0,prompt:!1}))}),e(document).on("mwfSignoff"+a,n(function(t,n){r.signoff(e.extend({},s,n))})),e(document).on("mwfSignoffNoPrompt"+a,n(function(t,n){r.signoff(e.extend({},s,n,{prompt:!1}))})),e("button[data-failsafe-signoff]").removeAttr("onclick").removeAttr("ontouchstart").removeAttr("data-failsafe-signoff"),window.mwfFailSafeSignoff=function(){}}),r};return"function"==typeof define&&define.amd?void define("mwf-core-signoff",["jquery","mwf-core-ajax","mwf-core-throttle","mwf-core-serialize-data-attributes","mwf-core-logger","mwf-plugin-event-mediator","mwf-plugin-overlay"],t):t(e.jQuery)}(this),function(e){"use strict";var t=function(e,t,n){var o=".mwfTimeoutWarning",i=t.getBundle("timeout-warning");e(document).on("mwfSessionTimeoutWarning"+o,function(t,n){var o=document.activeElement;o&&"IFRAME"===o.tagName&&(o=o.contentDocument.activeElement);var a={templateName:"mwf-core-confirm-default-template",bundle:i,templateData:{title:i.property("msg-continue-session"),message:i.property("msg-timeout-warning",n),buttons:[{label:i.property("label-continue"),classes:"primary",confirms:!0}]},returnFocusTo:o};e(document).trigger("mwfConfirm",[a])})};return"function"==typeof define&&define.amd?void define("mwf-core-ui-timeout-warning",["jquery","mwf-core-properties","mwf-core-logger","mwf-core-ui-confirm"],t):t(e.jQuery)}(this),function(e){"use strict";var t=function(e,t,n){var o=".mwfSignoffConfirm",i=t.getBundle("confirm-signoff");e(document).on("mwfConfirmSignoff"+o,function(t,n){var o={templateName:"mwf-core-confirm-default-template",bundle:"confirm-signoff",templateData:{title:i.property("msg-signoff"),message:i.property("msg-signoff-confirmation"),buttons:[{label:i.property("label-no"),classes:"secondary"},{label:i.property("label-yes"),classes:"primary",confirms:!0}]},deferred:n};e(document).trigger("mwfConfirm",[o])})};return"function"==typeof define&&define.amd?void define("mwf-core-ui-confirm-signoff",["jquery","mwf-core-properties","mwf-core-logger","mwf-core-ui-confirm"],t):t(e.jQuery)}(this),function(e){"use strict";var t=function(e,t,n){var o,i="mwfOffScreenNav",a="."+i,r={overlayParent:e("main.page"),toggleEvent:"tappedMastheadMoreMenu",returnFocusTo:".more-menu"},s=function(t,n){this.el=t,this.$el=e(t),this.settings=e.extend({},r,n),this._init()};return s.prototype={_init:function(){var t=this,o=t.$el,i=o.find(".expand-collapse-link"),r=o.find("a").not(".expand-collapse-link").not("[data-disabled]");o.insertAfter(this.settings.returnFocusTo),o.find(".navfooter").first().addClass("first"),r.each(function(){e(this).removeAttr("href")}),i.mwfExpandCollapse({container:"li",hasTapHighlighted:!0}),i.mwfBind("mwfExpanded"+a,function(t){var n=o.data("currentExpandedMenu");e("#"+e(this).attr("aria-controls")+" a").first().focus(),n!==t.target&&(e(n).mwfExpandCollapse("close"),o.data("currentExpandedMenu",t.target)),o.trigger("mwfNavigationOpened")}),i.mwfBind("mwfCollapsed"+a,function(){o.trigger("mwfNavigationClosed")}),r.mwfBind("tapOrEnter"+a,function(){var o,i=e(this);o=n(i),o.testNetwork=!0,t.closeNavUsingHistory(),e(document).trigger("mwfNavigation",o),e("body").mwfUnbind("tap"+a).off("tap"+a)},{stopPropagation:!0,hasTapHighlighted:!0}),e(document).mwfBind(t.settings.toggleEvent,function(){t.$el.hasClass("navigation-open")?t.closeNavUsingHistory():t.openNav()},{stopPropagation:!0})},openNav:function(){var n,i=this,r=i.$el,s=r.find(".nav-container"),l=i.settings.overlayParent.length?i.settings.overlayParent[0].getBoundingClientRect().top:0;i.scrollTopBeforeOpen=e(window).scrollTop(),o=i,n=e(".mwf-offscreen-nav.navigation-open").mwfOffScreenNav("switch").data("eventId"),r.removeClass("navigation-closed").addClass("navigation-open").attr({"aria-hidden":!1}),r.find("a").attr("tabindex",0).end().find("a:not(.expand-collapse-link)").attr("role","link"),s.scrollTop(25),setTimeout(function(){s.scrollTop(0)},100),r.one("webkitAnimationEnd",function(){e("[data-accessibility-focus]").focus(),r.find("a:eq(0)").focus()}),i.settings.overlayParent.mwfOverlay({workingIndicator:!1}),i.settings.overlayParent.attr("aria-hidden","true"),e("body").css("cursor","pointer"),e("body").mwfBindOnce("tapOrEnter"+a,function(){r.filter(".navigation-open").mwfOffScreenNav("close")},{stopPropagation:!0}).attr("data-modal-open",""),i.settings.overlayParent.css({top:l+"px"}),n||(n=t.push("navMenu",function(){o.closeNav(),e(".mwf-offscreen-nav.navigation-open").removeClass("navigation-open").attr({"aria-hidden":!0})})),i.$el.attr("data-event-id",n),r.trigger("mwfOffScreenNavigationOpen"),i.$el.is(".left")||e(document).trigger("mwfBevElementClick","mobile_navigation_menu")},closeNavUsingHistory:function(){var e=this;t.rewindTo(e.$el.attr("data-event-id"))},closeNav:function(t){var n=this,o=n.$el,i=o.data("currentExpandedMenu"),r=o.find(".tapped");n.settings.overlayParent.mwfOverlay("remove"),n.settings.overlayParent.attr("aria-hidden","false"),o.removeClass("navigation-open").addClass("navigation-closed").attr({"aria-hidden":!0}).one("webkitAnimationEnd",function(){r.trigger("transitionend")}),o.find("a").attr("tabindex",-1),void 0!==i&&(e(i).mwfExpandCollapse("close"),o.removeData("currentExpandedMenu")),e("body").css("cursor","auto"),e("body, html").removeAttr("data-modal-open").mwfUnbind("tap"+a).off(a),n.settings.overlayParent.css({top:"0"}),e(window).scrollTop(n.scrollTopBeforeOpen),o.trigger("mwfOffScreenNavigationClose"),t||setTimeout(function(){e("[data-accessibility-focus]").focus(),e(n.settings.returnFocusTo).focus()},600)}},e.fn[i]=function(t){return this.each(function(){var n=e.data(this,"plugin_"+i);if(n)switch(t){case"open":n.openNav();break;case"close":n.closeNavUsingHistory();break;case"switch":n.closeNav(!0)}else e.data(this,"plugin_"+i,new s(this,t))})},s};return"function"==typeof define&&define.amd?void define("mwf-plugin-offscreen-nav",["jquery","mwf-core-history","mwf-core-serialize-data-attributes","mwf-core-unique-id","mwf-plugin-event-mediator","mwf-plugin-expand-collapse","mwf-plugin-overlay"],t):t(window.jQuery)}(this),function(e){"use strict";var t=function(e,t){function n(){var t=!1;e(window).scroll(function(){t===!1&&(t=!0,setTimeout(function(){var n=document.body.scrollTop||document.documentElement.scrollTop;e(".masthead").toggleClass("submasthead-collapsed",n>100),t=!1},200))})}var o=".mwfUIMasthead",i=t.getBundle("core-masthead"),a=e(".masthead"),r=a.find(".back-button"),s=a.find(".profile-button"),l=a.find(".more-menu"),d=a.find(".logo");a.mwfBind("tapOrEnter"+o,function(){e(document).trigger("tappedMasthead")}),d.mwfBind("tapOrEnter"+o,function(){var t=e(".mwf-offscreen-nav.navigation-open"),n="tappedMastheadLogo";t.length?(n=t.is(".left")?"tappedMastheadProfileButton":"tappedMastheadMoreMenu",e(document).trigger(n)):e(document).trigger(n,[e(this)])},{stopPropagation:!0}),r.mwfBind("tapOrEnter"+o,function(){var t=e(".mwf-offscreen-nav.navigation-open"),n="tappedMastheadBackButton";t.length&&(n=t.is(".left")?"tappedMastheadProfileButton":"tappedMastheadMoreMenu"),e(document).trigger(n)},{stopPropagation:!0}),s.mwfBind("tapOrEnter"+o,function(){e(document).trigger("tappedMastheadProfileButton")},{stopPropagation:!0}),l.mwfBind("tapOrEnter"+o,function(){e(document).trigger("tappedMastheadMoreMenu")},{stopPropagation:!0});var u={more:l.find("span.visuallyhidden"),profile:s.find("span.visuallyhidden")},c=function(e,t){var n=t?"close":"open",o=e?"profile":"more",a=e?"more":"profile",r=i.property("msg-"+n+"-"+o+"-menu");u[o].text(r),t?u[a].append(i.property("msg-close-other")):u[a].text(i.property("msg-open-"+a+"-menu"))};e("nav.mwf-offscreen-nav").each(function(){var t=e(this);t.is(".left")?t.mwfOffScreenNav({toggleEvent:"tappedMastheadProfileButton",returnFocusTo:".profile-button"}).attr("aria-label",i.property("label-profile-menu")):(c(!1),t.mwfOffScreenNav().attr("aria-label",i.property("label-more-menu")))}),e(document).mwfBind("mwfOffScreenNavigationClose"+o,function(t){c(e(t.target).is(".left"))}).mwfBind("mwfOffScreenNavigationOpen"+o,function(t){c(e(t.target).is(".left"),!0),a.removeAttr("aria-hidden")}),("undefined"!=typeof window.mwfGlobals.customerType&&"TPB"===window.mwfGlobals.customerType||"undefined"!=typeof window.mwfGlobals.customerBrand&&"TPB"===window.mwfGlobals.customerBrand&&e(".masthead").is(".submasthead-collapsible"))&&n()};return"function"==typeof define&&define.amd?void define("mwf-core-ui-masthead",["jquery","mwf-core-properties","mwf-plugin-event-mediator","mwf-plugin-offscreen-nav"],t):t(window.jQuery)}(window.jQuery),function(e){"use strict";var t=function(e,t,n){var o=".mwfFillVertical",i=function(){this.init()};return i.prototype.init=function(){var t=this;mwfGlobals.mwfDocumentReady.done(function(){e(window).on("resize"+o,function(){t.fillVertical()}),e(window).on("orientationchange"+o,function(){t.fillVertical()}),e(document).on("mwfFillVertical"+o,function(){t.fillVertical()})})},i.prototype.fillVertical=function(){var n,o=t.getWindowHeight(),i=e(".footer").outerHeight(!0)||0,a=e(window).scrollTop();e(".fill-vertical").filter(":visible").each(function(){n=e(this).offset().top,e(this).css({"min-height":o-n-i+1+"px"})}),e(".limit-vertical").filter(":visible").each(function(){n=e(this).offset().top-a;var t=e(".footer-limit");e.each(t,function(t,n){i+=e(n).outerHeight(!0)}),e(this).css({"max-height":o-n-i+1+"px"})})},new i};return"function"==typeof define&&define.amd?void define("mwf-core-ui-fill-vertical",["jquery","mwf-core-window","mwf-core-logger"],t):t(e.jQuery)}(this),function(e){"use strict";var t=function(e){var t={};return t.getSendBevEventUrl=function(e,t){return t?mwfGlobals.bevUrl+"&"+t+"="+e:mwfGlobals.bevUrl+"&_eid="+e},t.getFastLookUrl=function(){return e('[data-display-type="ignore"][data-target-view="fastlook"]').attr("data-url")},t.getQuickGuideUrl=function(){return mwfGlobals.quickGuideUrl},t.getCSRFToken=function(e){for(var t=mwfGlobals.csrfPostUrls||[],n="",o=t.length-1;o>=0;o--)if(t[o].url===e){n=t[o].token;break}return n},t};return"function"==typeof define&&define.amd?void define("mwf-common-lib-url-provider",["jquery"],t):t(e.jQuery)}(this),function(e){"use strict";var t=function(e,t,n,o){var i={};return i.sendBevEvent=function(e,o){return t.fireAndForget(n.getSendBevEventUrl(e,o))},i};return"function"==typeof define&&define.amd?void define("mwf-common-dao",["jquery","mwf-core-ajax","mwf-common-lib-url-provider","mwf-core-logger"],t):t(e.jQuery)}(this),function(e){"use strict";var t=function(e,t,n){var o=".bevutils";return mwfGlobals.mwfDocumentReady.done(function(){e(document).on("mwfBevElementClick"+o,function(e,n,o,i){n&&t.sendBevEvent(n,i)}),e(document).on("mwfBevElementClickGeneral"+o,function(e,t){t&&n.fireAndForget(t)})}),{}};return"function"==typeof define&&define.amd?void define("mwf-core-lib-bev",["jquery","mwf-common-dao","mwf-core-ajax"],t):t()}(this),function(e){"use strict";var t=function(e,t,n){var o="mwf-device-feature",i={},a=t.createModule(o),r=a.data,s={device:{hasFeature:"hasCamera",checkPermissionForFeature:"checkPermission",requestPermissionForFeature:"requestPermission",enableFeature:"goAppSettings"},deviceFeaturePromise:null,deviceFeatureDetectionPromise:null,requestedFeature:"MRDC",messageEventName:"mwfDeviceFeatureConfirm",message:{featureUnavailable:"featureUnavailable",featureDisabledByPolicy:"featureDisabledByPolicy",permissionUnavailable:"permissionUnavailable",enablingFailure:"enablingFailure"}},l=function(e){return"object"==typeof e?e:JSON.parse(e)},d=function(){r=e.extend(r,s),r.isAppVersionToCheck=mwfGlobals.deviceInfo&&"windowsphoneos"!==mwfGlobals.deviceInfo.os.toLowerCase()&&"true"===mwfGlobals.appEntryFlag,mwfGlobals.deviceInfo&&"android"===mwfGlobals.deviceInfo.os.toLowerCase()&&(r.device.checkPermissionForFeature=r.device.requestPermissionForFeature)};return a.impl=new d,d.prototype.detect=function(t){return r=e.extend(r,t),r.deviceFeaturePromise=e.Deferred(),e.when(a.impl.detectFeature()).done(function(){r.deviceFeaturePromise.resolve()}).fail(function(t,n,o){e(document).trigger(r.messageEventName,[{message:t,deferred:o,dictated:n}])}),r.deviceFeaturePromise},d.prototype.detectFeature=function(){return!r.isAppVersionToCheck||(r.deviceFeatureDetectionPromise=e.Deferred(),e(document).trigger("mwfNativeExecute",[r.device.hasFeature,{},"mwfDeviceFeature.callbackFunctions.hasFeature"]),r.deviceFeatureDetectionPromise)},d.prototype.hasFeature=function(t){var n=l(t),o=n.rearFacing||n.frontFacing,i=!n.isCameraDisabledByPolicy;o?i?e(document).trigger("mwfNativeExecute",[r.device.checkPermissionForFeature,{requestedFeature:r.requestedFeature},"mwfDeviceFeature.callbackFunctions.checkPermissionForFeature"]):r.deviceFeatureDetectionPromise.rejectWith(null,[r.message.featureDisabledByPolicy]):r.deviceFeatureDetectionPromise.rejectWith(null,[r.message.featureUnavailable])},d.prototype.checkPermissionForFeature=function(t){var n=l(t),o=n.status.toLowerCase();switch(o){case"not_determined":case"granted":r.deviceFeatureDetectionPromise.resolve();break;case"denied":case"denied_show_rationale":var i=e.Deferred();i.done(function(){a.impl.enableFeature()}),r.deviceFeatureDetectionPromise.rejectWith(null,[r.message.permissionUnavailable,!1,i]);break;case"denied_dont_ask_again":r.deviceFeatureDetectionPromise.rejectWith(null,[r.message.permissionUnavailable,!0]);break;case"invalid_feature":default:r.deviceFeatureDetectionPromise.rejectWith(null,[r.message.permissionUnavailable])}},d.prototype.enableFeature=function(){e(document).trigger("mwfNativeExecute",[r.device.enableFeature,{}])},i.detect=function(e){return a.impl.detect(e)},i.detectFeature=function(){return a.impl.detectFeature()},i.hasFeature=function(e){return a.impl.hasFeature(e)},i.checkPermissionForFeature=function(e){return a.impl.checkPermissionForFeature(e)},i.enableFeature=function(){return a.impl.enableFeature()},window.mwfDeviceFeature=window.mwfDeviceFeature||{},window.mwfDeviceFeature.callbackFunctions={hasFeature:a.impl.hasFeature,checkPermissionForFeature:a.impl.checkPermissionForFeature},i};return"function"==typeof define&&define.amd?void define("mwf-core-device-feature",["jquery","mwf-core-modules","mwf-core-logger","mwf-core-nativeapp-bridge"],t):t(e.jQuery)}(this),function(e){function t(e,t){return e.w('<section class="mwf-popup mwf-popup-confirm mwf-device-feature-message" role="dialog" aria-label="Confirmation"><header><button data-modal-close="" class="mwf-popup-button-close"><i class="mwf-icon"></i><span class="visuallyhidden">').f(t.get(["closeA11yLabel"],!1),t,"h").w('</span></button></header><div data-scrollable-content><div class="mwf-popup-content mwf-confirm-body">').f(t.get(["messageText"],!1),t,"h",["s"]).x(t.get(["showLink"],!1),t,{block:n},{}).w('</div><footer><div class="mwf-button-container"><span><button class="mwf-button primary" data-modal-close data-confirms>').f(t.get(["btnLabel"],!1),t,"h").w("</button></span></div></footer></div></section>")}function n(e,t){return e.w('<br /><a role="link" class="inline-link navigation" data-url="').f(t.get(["getQuickGuideUrl"],!1),t,"h").w('" data-display-type="browser">').f(t.get(["quickGuideLabel"],!1),t,"h").w("</a>")}return e.register("mwf-core-ui-device-feature-message-template",t),t.__dustBody=!0,n.__dustBody=!0,t}(dust),define("mwf-core-ui-device-feature-message-template",function(){}),function(e){"use strict";var t=function(e,t,n,o,i,a,r){var s="mwf-ui-device-feature-message",l="."+s,d=function(){return Number(mwfGlobals.deviceInfo.osVersion.substring(0,1))},u=function(t){var n=e.Deferred();n.done(function(){e(".mwf-modal .mwf-device-feature-message").mwfBind("tapOrEnter"+l,"a.navigation",function(t){e(document).trigger("mwfNavigation",[i(t.currentTarget)])})}),e(document).trigger("mwfConfirm",[{templateName:"mwf-core-ui-device-feature-message-template",templateData:t.templateData,modalOpenPromise:n,deferred:t.deferred||e.Deferred()}])},c=function(){e(document).mwfBind("mwfDeviceFeatureConfirm"+l,function(t,i){var a,r=n.getBundle("core-device-feature-bundle-properties");switch(i.message){case"featureUnavailable":a={messageText:r.property("msg-no-camera-support")};break;case"featureDisabledByPolicy":a={messageText:r.property("msg-camera-access"),getQuickGuideUrl:o.getQuickGuideUrl(),showLink:!0};break;case"permissionUnavailable":a=mwfGlobals.deviceInfo&&("android"===mwfGlobals.deviceInfo.os.toLowerCase()&&d()<6||"ios"===mwfGlobals.deviceInfo.os.toLowerCase()&&7===d())?{messageText:r.property("msg-camera-access"),getQuickGuideUrl:o.getQuickGuideUrl(),showLink:!0}:mwfGlobals.deviceInfo&&"android"===mwfGlobals.deviceInfo.os.toLowerCase()&&d()>=6?i.dictated?{messageText:r.property("msg-camera-access"),getQuickGuideUrl:o.getQuickGuideUrl(),showLink:!0}:{messageText:r.property("msg-camera-enable-android"),showLink:!1}:{messageText:r.property("msg-camera-enable"),showLink:!1}}i.templateData=e.extend({},a,{btnLabel:r.property("label-ok"),quickGuideLabel:r.property("label-quick-guide"),closeA11yLabel:r.property("label-close-a11y"),headerLabel:r.property("label-header")}),u(i)})};mwfGlobals.mwfDocumentReady.done(function(){c()})};return"function"==typeof define&&define.amd?void define("mwf-core-ui-device-feature-message",["jquery","mwf-core-dust","mwf-core-properties","mwf-common-lib-url-provider","mwf-core-serialize-data-attributes","mwf-core-device-feature","mwf-core-logger","mwf-plugin-scrollable-popup","mwf-core-ui-device-feature-message-template","mwf-plugin-event-mediator"],t):t(e.jQuery)}(this),function(e){"use strict";var t=function(e,t,n){var o="mwf-core-ui-camera",i="."+o,a={navigation:{displayType:"saml"}};mwfGlobals.mwfDocumentReady.done(function(){e(document).mwfBind("mwfNavigation"+i,function(n,o){if("ignore"===o.displayType&&"camera"===o.deviceFeature){var i=e.extend({},o,a.navigation);"true"===mwfGlobals.appEntryFlag?t.detect().done(function(){e(document).trigger("mwfNavigation",i)}):e(document).trigger("mwfNavigation",i)}})})};return"function"==typeof define&&define.amd?void define("mwf-core-ui-camera",["jquery","mwf-core-device-feature","mwf-core-logger","mwf-core-ui-device-feature-message"],t):t(e.jQuery)}(this),function(e){function t(e,t){return e.w('<div class="mwf-cobrowse-banner ').f(t.get(["type"],!1),t,"h").w('"><span>').f(t.get(["message"],!1),t,"h").w("</span>").h("eq",t,{else:n,block:o},{key:t.get(["type"],!1),value:"active"},"h").w("</div>")}function n(e,t){return e.w("<button ").f(t.getPath(!1,["button","attr"]),t,"h").w('><span class="mwf-icon"><span class="visuallyhidden">').f(t.getPath(!1,["button","label"]),t,"h").w("</span></span></button>")}function o(e,t){return e.w("<button ").f(t.getPath(!1,["button","attr"]),t,"h").w("><span>").f(t.getPath(!1,["button","label"]),t,"h").w("</span></button>")}return e.register("mwf-core-ui-cobrowse-banner-template",t),t.__dustBody=!0,n.__dustBody=!0,o.__dustBody=!0,t}(dust),define("mwf-core-ui-cobrowse-banner-template",function(){}),function(e){"use strict";function t(e,t,n,o,i,a){function r(){function o(t){return n.render("mwf-core-ui-cobrowse-banner-template",{type:t,message:d.property("banner-message-"+t),button:{attr:"data-cobrowse-"+("active"===t?"end":"close"),label:d.property("banner-button-"+t)}}).done(function(t){var n=e(".mwf-cobrowse-banner");n.length?n.replaceWith(t):e(".masthead").after(t),e("body").addClass("flag-cobrowse-banner")})}function a(){e("body").removeClass("flag-cobrowse-banner")}function r(){AssistSDK.endSupport(),sessionStorage.removeItem("allowCobrowseForAgent")}var c;e(document).mwfBind("tapOrEnter","[data-cobrowse-start]",i(function(){e(document).trigger("mwfCobrowseShortCodeRequest")},100,!0)).mwfBind("tapOrEnter","[data-cobrowse-end]",r).mwfBind("tapOrEnter","[data-cobrowse-close]",a).on("mwfSignoffNoPrompt",r).on("mwfSessionTimeout",r),e(document).on("mwfCobrowseShortCodeRequest",function(){e("body").mwfOverlay({overlayName:"cobrowse",showWorkingIndicator:!0}),t.putExternalJSON(s.endpoint+"shortcode/create").done(function(n){t.getExternalJSON(s.endpoint+"shortcode/consumer",{appkey:n.shortCode}).done(function(t){e("body").mwfOverlay("remove",{overlayName:"cobrowse"}),e(document).trigger("mwfCobrowseShortCodeResponse",[n.shortCode,t])})})}),e(document).on("mwfCobrowseShortCodeResponse",function(t,n,o){AssistSDK.endSupport(),AssistSDK.startSupport({cobrowseOnly:!0,correlationId:o.cid,scaleFactor:o.scaleFactor,sessionToken:o["session-token"],sdkPath:l}),c=e.Deferred().fail(r),e(document).trigger("mwfConfirm",{deferred:c,templateData:{classes:"mwf-popup-collab",title:d.property("shortcode-modal-title"),message:d.property("shortcode-modal-message",n),showCloseButton:!0}})}),e.extend(AssistSDK,{onCobrowseActive:function(){var t=+sessionStorage.getItem("allowCobrowseForAgent");t<2&&(sessionStorage.setItem("allowCobrowseForAgent",2),e(document).trigger("mwfBevElementClick","SessionOfferEvent"))},onCobrowseInactive:function(){o("ended"),setTimeout(a,u)},onError:function(){},onInSupport:function(){},onAgentRequestedCobrowse:function(t){return+sessionStorage.getItem("allowCobrowseForAgent")?(o("active"),void AssistSDK.allowCobrowseForAgent(t)):(c.done(function(){e(document).trigger("mwfConfirm",{deferred:e.Deferred().done(function(){o("active"),sessionStorage.setItem("allowCobrowseForAgent",1),AssistSDK.allowCobrowseForAgent(t),e(document).trigger("mwfBevElementClick","SessionOfferResultEvent")}).fail(function(){AssistSDK.disallowCobrowseForAgent(t),r()}),templateData:{classes:"mwf-popup-collab",title:d.property("agent-request-modal-title"),message:d.property("agent-request-modal-message"),showCloseButton:!0,buttons:[{classes:"secondary",label:d.property("agent-request-deny")},{classes:"primary",confirms:!0,label:d.property("agent-request-allow")}]}})}),void e(".mwf-popup-confirm").trigger("confirm"))}})}var s=mwfGlobals.cobrowse;if(s){var l=s.endpoint+"sdk/web/consumer",d=o.getBundle("cobrowse"),u=s.bannerTimeout||1e4;s.test?r():require([l+"/assist.js"],r)}}return"function"==typeof define&&define.amd?void define("mwf-core-ui-cobrowse",["jquery","mwf-core-ajax","mwf-core-dust","mwf-core-properties","mwf-core-debounce","mwf-core-logger","mwf-plugin-event-mediator","mwf-plugin-overlay","mwf-core-ui-cobrowse-banner-template"],t):t(e.jQuery)}(this),function(e){function t(e,t){return e.w('<div class="popover hidden" role="region" id="').f(t.get(["popoverId"],!1),t,"h").w('"><span class="visuallyhidden">').f(t.getPath(!1,["popover-properties","begin-content"]),t,"h").w('</span><a tabindex="0" role="button" class="popover-close" data-focus-first="true"><span class="visuallyhidden a11y-text label">').f(t.getPath(!1,["popover-properties","close-popover"]),t,"h").w("</span></a>").s(t.get(["header"],!1),t,{block:n},{}).w('<div class="popover-content-wrapper"><div class="popover-content"><p>').f(t.get(["bodyContent"],!1),t,"h",["s"]).w('</p></div></div><span class="visuallyhidden">').f(t.getPath(!1,["popover-properties","end-content"]),t,"h").w("</span></div>")}function n(e,t){return e.w('<div class="popover-header"><h2>').f(t.get(["header"],!1),t,"h",["s"]).w("</h2></div>")}return e.register("mwf-plugin-popover-template",t),t.__dustBody=!0,n.__dustBody=!0,t}(dust),define("mwf-plugin-popover-template",function(){}),function(e){"use strict";var t="mwfPopover",n="."+t,o={parent:"page-content",width:300,height:300,header:null,bodyContent:null},i=function(e,i,a){var r=function(t,n){var i=this;i.settings=e.extend({},o,n),i.element=t,i.window=window,i.$window=e(window),i.$document=e(document),i.$el=e(t),i.$parent=e("."+i.settings.parent),i.linkText=i.$el.text(),i.linkOrientation="",i.settings.popoverId=i.$el.data("popoverId")||i.settings.popoverId,i.settings.header=i.$el.data("popoverHeader")||i.settings.header,i.settings.bodyContent=i.$el.data("popoverBodyContent")||i.settings.bodyContent,i.settings.closeLink="popover-close",i.settings.popoverAriaLabel=i.$el.data("popoverAriaLabel"),i.settings.popoverLinkIsTooltip=i.$el.data("popoverLinkIsTooltip")||null,i.settings.arrowLong=28,i.settings.arrowShort=14,i.settings.popoverRightSpacing=32,i.settings.popoverLeftSpacing=10,i.settings.arrowSpacing=3,i.init()};return r.prototype={init:function(){var t=this,n=a.getBundle(["popover-properties"]);t.settings.popoverLinkIsTooltip||t.setArrowStyles(),0===e(".visuallyhidden",this.$el).length&&this.$el.html(this.$el.html()+'<span class="visuallyhidden">'+n.property("ada-text")+"  </span>"),t.create()},setArrowStyles:function(){var t=this,n="[data-popover-id="+t.settings.popoverId+"]",o=n+".popover-link.mwf-popover-arrow-",i=["up","down"],a=o+"left:after{margin-left:3px}",r=t.$el.outerHeight(),s=Number(t.$el.css("border-bottom-width").replace("px",""))||0,l=r+s,d={center:"margin-left:-"+(t.$el.width()/2+t.settings.arrowLong/2),right:"margin-left:-"+t.settings.arrowLong,left:"margin-left:-"+t.$el.width()};i.forEach(function(e){"down"===e&&(l*=-1);for(var t in d)a+=o+e+"-"+t+":after{"+d[t]+"px;margin-top:"+l+"px;}"}),e("head").append(e("<style>").html(a))},create:function(){var t=this;i.render("mwf-plugin-popover-template",this.settings,"popover-properties").done(function(n){t.$el.after(n),t.$popover=e("#"+t.settings.popoverId),t.$closeButton=t.$popover.find("."+t.settings.closeLink),t.$popover.css({width:t.settings.width+"px","max-height":t.settings.height+"px"}),t.settings.header||t.$popover.find(".popover-content-wrapper").addClass("no-header"),t.bindEvents()})},bindEvents:function(){var t=this;t.$el.mwfBind("tapOrEnter",function(e){t.$popover.hasClass("open")?t.close():t.open()},{stopPropagation:!0}),t.$closeButton.mwfBind("tapOrEnter swipe"+n,function(e){t.close()},{stopPropagation:!0}),e(document).keydown(function(e){t.$popover.hasClass("open")&&27==e.keyCode&&t.close()}),e(document).mwfBind("tapOrEnter",function(n){!e(n.target).closest(t.$popover).length&&t.$popover.hasClass("open")&&t.close()}),t.$window.resize(function(){t.$popover.hasClass("open")&&t.setPosition()})},open:function(){var e=this;e.clearPopovers(),e.$popover.removeClass("hidden").addClass("open").show(),e.setPosition(),e.$closeButton.focus();var t=e.$popover.find(".popover-content").get(0).scrollHeight,n=e.$popover.find(".popover-content-wrapper").get(0).scrollHeight;t>n&&e.$popover.find(".popover-content").attr("tabindex",0),e.$popover.mwfCycleFocus()},close:function(){var t=this,n=e("[data-popover-id="+t.settings.popoverId+"]");t.clearPopovers(),n.focus()},clearPopovers:function(){var t=e(".popover-link"),n=e(".popover");n.addClass("hidden").removeClass("open").css({top:"",left:""}),this.clearArrowClass(t)},setPosition:function(){var t,n,o,i=this,a=i.$el.position().left,r=i.$el.position().top,s=i.$el.outerHeight(),l=i.$el.outerWidth(),d=i.$parent.outerWidth(),u=i.$popover.outerHeight(),c=i.$popover.outerWidth(),f=i.window.innerHeight-(r-i.$window.scrollTop()),p=e("main").length>0?Number(e("main").css("padding-top").replace("px","")):0,m=r-p,g=Number(i.$el.css("border-bottom-width").replace("px",""))||0,w=Number(i.$popover.css("border-left-width").replace("px",""))||0,h=function(){return f>u||r-i.$window.scrollTop()<u?r-i.settings.arrowLong:f>.75*u?r-u/2+i.settings.arrowLong/2:r-u+s+i.settings.arrowLong},v=function(){var e,t=a-c+i.settings.popoverRightSpacing+i.settings.arrowLong,n=a+l-i.settings.arrowLong-i.settings.popoverLeftSpacing,o=a+l/2-c/2;return e=d-n>c?{"-right":n}:d-o>i.settings.width?{"-center":o}:{"-left":t},i.linkOrientation.match(/(up|down|^$)/g)&&d<=414&&(e={"-center":(d-c)/2}),e};d-a-l>i.settings.width+i.settings.arrowShort?(i.linkOrientation="left",t=h(),n=a+l+i.settings.arrowShort+i.settings.arrowSpacing-2*w):d-a-l<=i.settings.popoverRightSpacing+i.settings.arrowLong&&a>c?(i.linkOrientation="right",t=h(),n=a-c-i.settings.arrowShort-i.settings.arrowSpacing):f<u&&m>u?(i.linkOrientation="down",t=r-u-i.settings.arrowShort-2*w,o=v(),i.linkOrientation+=Object.keys(o)[0],n=o[Object.keys(o)[0]]):(t=r+s+i.settings.arrowShort-g,i.linkOrientation="up",o=v(),i.linkOrientation+=Object.keys(o)[0],n=o[Object.keys(o)[0]]),i.$popover.hasClass("open")&&(i.clearArrowClass(),i.$el.addClass("mwf-popover-arrow-"+i.linkOrientation),i.$popover.css({top:t+"px",left:n+"px"}))},clearArrowClass:function(e){var t=e?e:this.$el;t.removeClass(function(e,t){return(t.match(/mwf-popover-arrow-[a-z-]*/g)||[]).join(" ")})}},e.fn[t]=function(n){var o;return"string"==typeof n&&(o=n,n=arguments[1]),this.each(function(){e.data(this,t)||e.data(this,t,new r(this,n)),"close"===o&&e.data(this,t).close()})},r};"function"==typeof define&&define.amd?define("mwf-plugin-popover",["jquery","mwf-core-dust","mwf-core-properties","mwf-plugin-popover-template","mwf-plugin-cycle-focus"],i):i(e.jQuery)}(this),function(e){"use strict";var t=function(e,t){function n(){try{window.mwfGlobals.menuContext=JSON.parse(e.extractData(window.mwfGlobals.menuContext,"JSON"))}catch(e){t.error(e)}}function o(e,n,o){var i,a="",r=[];try{r=e.split(n)}catch(e){t.error(e)}var s=r.length;try{for(i=0;i<s;i++)a=a+o+r[i];o.length>0&&(a=a.replace(o,""))}catch(e){t.error(e)}return a}function i(e){var n,i=JSON.stringify(e),a=[["{",""],["}",""],[":","="],['"',""]],r=a.length;try{for(n=0;n<r;n++)i=o(i,a[n][0],a[n][1])}catch(e){t.error(e)}return i}function a(e){var n,o=e.length;try{for(n=0;n<o;n++)e[n].dataAttributes&&(e[n].dataAttributes=i(e[n].dataAttributes)),s(e[n])}catch(e){t.error(e)}}function r(e){var t,n;for(n=e.length,t=0;t<n;t++)s(e[t]),e[t].links?a(e[t].links):e[t].sections&&r(e[t].sections)}function s(e){e.description?e.ariaLabel=l(e.description):e.label&&(e.ariaLabel=l(e.label))}function l(e){var n,o,i="";try{e.indexOf("<")!==-1&&(n=e.substring(0,e.indexOf("<")),o=e.substring(e.indexOf(">")+1),i=n+o,i=l(i))}catch(e){t.error(e)}return i.length>0?i:e}var d={};return d.getSection=function(e){var t,n,o,i,a,r=[];for(r=window.mwfGlobals.menuContext.menuConfig.containers,t=r.length,i=0;i<t;i++)if("NAVBAR"===r[i].name){n=r[i];break}for(o=n.sections.length,i=0;i<o;i++)if(n.sections[i].type===e){
a=n.sections[i];break}return a},d.assembleNavBarObject=function(){var e,t,o={};return"string"==typeof window.mwfGlobals.menuContext&&(n(),e=d.getSection("LINKS"),t=d.getSection("PARENT"),a(e.links),o={iconLinks:e.links,menu:t},o.noOfItems=o.iconLinks.length+1),o},d.assembleMenuData=function(){var e={};e=d.getSection("PARENT");try{r(e.sections)}catch(e){t.error(e)}return e},d.updateProfileLabel=function(e,n){var o,i=e.length;try{for(o=0;o<i;o++)if(e[o].id&&"S_PROFILE_SETTINGS"===e[o].id){e[o].newLabel=n;break}}catch(e){t.error(e)}},d};return"function"==typeof define&&define.amd?void define("mwf-lib-bottom-nav-bar-util",["mwf-core-json","mwf-core-logger"],t):t()}(this),function(e){function t(e,t){return e.w('<footer><nav id="nav-bar" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('" class="hidden"><ul>').s(t.get(["iconLinks"],!1),t,{block:n},{}).w('<li><button id="nav-bar-menu"  aria-label="').f(t.getPath(!1,["menu","label"]),t,"h").w(" ").f(t.get(["noOfItems"],!1),t,"h").w(" of ").f(t.get(["noOfItems"],!1),t,"h").w('""><i class="icon"></i>').f(t.getPath(!1,["menu","label"]),t,"h").w("</button></li></ul></nav></footer>")}function n(e,t){return e.s(t.getPath(!0,[]),t,{block:o},{})}function o(e,t){return e.w('<li><a tabindex="0" role="link" class="').f(t.get(["icon"],!1),t,"h").w('" data-url="').f(t.get(["url"],!1),t,"h").w('" ').f(t.get(["dataAttributes"],!1),t,"h").w(' data-display-type="').f(t.get(["type"],!1),t,"h").w('" data-home-id="').f(t.get(["pageId"],!1),t,"h").w('" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w(". ").h("math",t,{},{key:i,method:"add",operand:"1"},"h").w(" of ").f(t.get(["noOfItems"],!1),t,"h").w('"><i class="icon"></i>').f(t.get(["label"],!1),t,"h",["s"]).w("</a></li>")}function i(e,t){return e.f(t.get(["$idx"],!1),t,"h")}return e.register("mwf-core-ui-bottom-nav-bar-template",t),t.__dustBody=!0,n.__dustBody=!0,o.__dustBody=!0,i.__dustBody=!0,t}(dust),define("mwf-core-ui-bottom-nav-bar-template",function(){}),function(e){function t(e,t){return e.w('<div id="nav-menu" class="hidden"><button id="menu-back-button" aria-label="').f(t.get(["backLabel"],!1),t,"h").w('" class="hidden"></button><h1 id="menu-header">').f(t.get(["label"],!1),t,"h").w('</h1><button id="menu-close-button" aria-label="').f(t.get(["closeLabel"],!1),t,"h").w('"></button><div id="menu-level-1"><div id="menu-sign-off-container">').s(t.get(["sections"],!1),t,{block:n},{}).w("</div>").s(t.get(["sections"],!1),t,{block:d},{}).s(t.get(["sections"],!1),t,{block:g},{}).w('</div><div id="menu-level-2"></div></div>')}function n(e,t){return e.h("eq",t,{block:o},{key:t.get(["$idx"],!1),value:0},"h")}function o(e,t){return e.h("eq",t,{block:i},{key:t.get(["type"],!1),value:"LINKS"},"h")}function i(e,t){return e.s(t.get(["links"],!1),t,{block:a},{})}function a(e,t){return e.w('<a tabindex="0" role="button" id="menu-sign-off" aria-label="').f(t.get(["label"],!1),t,"h").w('" ').x(t.get(["dataAttributes"],!1),t,{block:r},{}).w(" ").x(t.get(["url"],!1),t,{block:s},{}).w(" ").x(t.get(["type"],!1),t,{block:l},{}).w(' data-link-id="').f(t.get(["id"],!1),t,"h").w('">').f(t.get(["label"],!1),t,"h",["s"]).w("</a>")}function r(e,t){return e.w(" ").f(t.get(["dataAttributes"],!1),t,"h")}function s(e,t){return e.w('data-url="').f(t.get(["url"],!1),t,"h").w('"')}function l(e,t){return e.w('data-display-type="').f(t.get(["type"],!1),t,"h").w('"')}function d(e,t){return e.h("eq",t,{block:u},{key:t.get(["$idx"],!1),value:1},"h")}function u(e,t){return e.s(t.get(["sections"],!1),t,{block:c},{})}function c(e,t){return e.h("eq",t,{block:f},{key:t.get(["$idx"],!1),value:0},"h")}function f(e,t){return e.w('<button type="button" id="menu-profile-button" aria-label="').f(t.get(["newLabel"],!1),t,"h").w(". ").f(t.get(["ariaLabel"],!1),t,"h").w('" data-section-index="').h("math",t,{},{key:p,method:"add",operand:"1"},"h").w('">').f(t.get(["newLabel"],!1),t,"h").w(" ").x(t.get(["description"],!1),t,{block:m},{}).w("</button>")}function p(e,t){return e.f(t.get(["$idx"],!1),t,"h")}function m(e,t){return e.w("<span>").f(t.get(["description"],!1),t,"h",["s"]).w("</span>")}function g(e,t){return e.h("gt",t,{block:w},{key:t.get(["$idx"],!1),value:1},"h")}function w(e,t){return e.s(t.getPath(!0,[]),t,{block:h},{})}function h(e,t){return e.x(t.get(["type"],!1),t,{block:v},{})}function v(e,t){return e.h("eq",t,{block:b},{key:t.get(["type"],!1),value:"LINKS"},"h").h("eq",t,{block:T},{key:t.get(["type"],!1),value:"PARENT"},"h")}function b(e,t){return e.s(t.get(["links"],!1),t,{block:y},{})}function y(e,t){return e.s(t.getPath(!0,[]),t,{block:x},{})}function x(e,t){return e.w('<div class="navItem"><a tabindex="0" role="link" aria-label="').f(t.get(["label"],!1),t,"h").w(". ").f(t.get(["ariaLabel"],!1),t,"h").w('" ').x(t.get(["dataAttributes"],!1),t,{block:C},{}).x(t.get(["url"],!1),t,{block:k},{}).w(" ").x(t.get(["type"],!1),t,{block:B},{}).w(">").f(t.get(["label"],!1),t,"h",["s"]).w(" ").x(t.get(["description"],!1),t,{block:_},{}).w('<i aria-hidden="true"></i></a></div>')}function C(e,t){return e.w(" ").f(t.get(["dataAttributes"],!1),t,"h")}function k(e,t){return e.w('data-url="').f(t.get(["url"],!1),t,"h").w('"')}function B(e,t){return e.w('data-display-type="').f(t.get(["type"],!1),t,"h").w('"')}function _(e,t){return e.w("<span>").f(t.get(["description"],!1),t,"h",["s"]).w("</span>")}function T(e,t){return e.w('<div class="navItem"><button type="button"  aria-controls="menu-level-2" aria-label="').f(t.get(["label"],!1),t,"h").w(". ").f(t.get(["ariaLabel"],!1),t,"h").w('" data-section-index="').f(t.get(["$idx"],!1),t,"h").w('">').f(t.get(["label"],!1),t,"h",["s"]).w(" ").x(t.get(["description"],!1),t,{block:$},{}).w('<i aria-hidden="true"></i></button></div>')}function $(e,t){return e.w("<span>").f(t.get(["description"],!1),t,"h",["s"]).w("</span>")}return e.register("mwf-plugin-bottom-nav-bar-menu-template",t),t.__dustBody=!0,n.__dustBody=!0,o.__dustBody=!0,i.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,u.__dustBody=!0,c.__dustBody=!0,f.__dustBody=!0,p.__dustBody=!0,m.__dustBody=!0,g.__dustBody=!0,w.__dustBody=!0,h.__dustBody=!0,v.__dustBody=!0,b.__dustBody=!0,y.__dustBody=!0,x.__dustBody=!0,C.__dustBody=!0,k.__dustBody=!0,B.__dustBody=!0,_.__dustBody=!0,T.__dustBody=!0,$.__dustBody=!0,t}(dust),define("mwf-plugin-bottom-nav-bar-menu-template",function(){}),function(e){function t(e,t){return e.s(t.get(["sections"],!1),t,{block:n},{}).x(t.get(["links"],!1),t,{block:u},{})}function n(e,t){return e.x(t.get(["label"],!1),t,{block:o},{}).h("eq",t,{block:i},{key:t.get(["type"],!1),value:"LINKS"},"h")}function o(e,t){return e.w("<h2>").f(t.get(["label"],!1),t,"h").w("</h2>")}function i(e,t){return e.s(t.get(["links"],!1),t,{block:a},{})}function a(e,t){return e.s(t.getPath(!0,[]),t,{block:r},{})}function r(e,t){return e.w('<div class="navItem"><a tabindex="0" role="link" ').x(t.get(["dataAttributes"],!1),t,{block:s},{}).w(" ").x(t.get(["url"],!1),t,{block:l},{}).w(" ").x(t.get(["type"],!1),t,{block:d},{}).w(">").f(t.get(["label"],!1),t,"h",["s"]).w('<i aria-hidden="true"></i></a></div>')}function s(e,t){return e.w(" ").f(t.get(["dataAttributes"],!1),t,"h")}function l(e,t){return e.w('data-url="').f(t.get(["url"],!1),t,"h").w('"')}function d(e,t){return e.w('data-display-type="').f(t.get(["type"],!1),t,"h").w('"')}function u(e,t){return e.s(t.get(["links"],!1),t,{block:c},{})}function c(e,t){return e.s(t.getPath(!0,[]),t,{block:f},{})}function f(e,t){return e.w('<div class="navItem"><a tabindex="0" role="link" ').x(t.get(["dataAttributes"],!1),t,{block:p},{}).w(" ").x(t.get(["url"],!1),t,{block:m},{}).w(" ").x(t.get(["type"],!1),t,{block:g},{}).w(">").f(t.get(["label"],!1),t,"h",["s"]).w('<i aria-hidden="true"></i></a></div>')}function p(e,t){return e.w(" ").f(t.get(["dataAttributes"],!1),t,"h")}function m(e,t){return e.w('data-url="').f(t.get(["url"],!1),t,"h").w('"')}function g(e,t){return e.w('data-display-type="').f(t.get(["type"],!1),t,"h").w('"')}return e.register("mwf-plugin-bottom-nav-bar-menu-link-template",t),t.__dustBody=!0,n.__dustBody=!0,o.__dustBody=!0,i.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,u.__dustBody=!0,c.__dustBody=!0,f.__dustBody=!0,p.__dustBody=!0,m.__dustBody=!0,g.__dustBody=!0,t}(dust),define("mwf-plugin-bottom-nav-bar-menu-link-template",function(){}),function(e){"use strict";var t=function(e,t,n,o,i,a,r){var s="mwfBottomNavBarMenu",l="."+s,d=function(t){this.el=t,this.$menuButton=e(t),this.state={expanded:!1,display:"L1"},this.menuData={},this.$navBar=e("#nav-bar"),this.focusDelay=100,this._init()};return d.prototype={_addA11y:function(){var e=this;e.$menuButton.attr("aria-controls",e.$menu.attr("id")),e.$menuCloseButton.attr("aria-controls",e.$menu.attr("id")),e.$menu.attr("role","dialog").attr("aria-labelledby","menu-header"),e.$menuHeader.attr("tabindex",-1)},_a11yHidePage:function(){try{e('body > *:not(script, footer , [aria-hidden="true"])').attr("aria-hidden",!0).attr("data-content-hidden-for-menu","true")}catch(e){n.error(e)}},_a11yShowPage:function(){try{e("[data-content-hidden-for-menu]").removeAttr("aria-hidden").removeAttr("data-content-hidden-for-menu")}catch(e){n.error(e)}},_animateUp:function(){var t=this;t.$menu.addClass("slide-up"),t.$menu.on("webkitAnimationEnd animationend",function(t){"content-slide-up"===t.originalEvent.animationName&&e(this).removeClass("slide-up")})},_animateDown:function(){var t=this;t.$menu.addClass("slide-down"),t.$menu.on("webkitAnimationEnd animationend",function(n){"content-slide-down"===n.originalEvent.animationName&&(e(this).removeClass("slide-down"),e(this).css("top","100%"),e(this).addClass("hidden"),"L2"===t.state.display&&t._hideLevel2Menu())})},_animateLeft:function(){var t=this;t.$menuLevel2Panel.addClass("slide-left"),t.$menuLevel2Panel.on("webkitAnimationEnd animationend",function(t){"content-slide-left"===t.originalEvent.animationName&&e(this).removeClass("slide-left")})},_animateRight:function(){var t=this;t.$menuLevel2Panel.addClass("slide-right"),t.$menuLevel2Panel.on("webkitAnimationEnd animationend",function(n){"content-slide-right"===n.originalEvent.animationName&&(t._showLevel1Menu(),e(this).removeClass("slide-right").addClass("hidden").empty())})},_bindEvents:function(){var t=this;t.$menuButton.mwfBind("tapOrEnter"+l,function(){t.state.expanded===!1?t.showMenu():t.hideMenu()}),t.$menuCloseButton.mwfBind("tapOrEnter"+l,function(){t.hideMenu()}),t.$menuBackButton.mwfBind("tapOrEnter"+l,function(){t._hideLevel2Menu()}),e(document).mwfBind("mwfNavigation mwfSignoff",function(){t.state.expanded===!0&&t.hideMenu()}),e(window).on("resize",function(){t.state.expanded===!0&&window.matchMedia(t.orientation).matches===!1&&(t._setMenuDimensions(),t.orientation=window.matchMedia("orientation: portrait").media?"orientation: portrait":"orientation: landscape")}),t.$menu.mwfBind("tapOrEnter"+l,"button:not(#menu-close-button):not(#menu-back-button)",function(){t._showLevel2Menu(e(this).attr("data-section-index"))}),t.$menu.mwfBind("tapOrEnter"+l,"a:not([data-sign-off])",function(t){var n=i(this);e(document).trigger("mwfNavigation",n)},{preventDefault:!0})},hideMenu:function(){var t=this;t.state.expanded=!1,t.$menuButton.removeClass("selected"),t._animateDown(),e("body").removeAttr("data-menu-displaying"),window.scrollTo(0,parseInt(t.windowPosition)),t._updateA11y(),e(document).trigger("mwfNavBarMenuHidden")},_hideLevel2Menu:function(){var t=this;t.state.display="L1",e("#menu-back-button",t.$menu).addClass("hidden"),t.$menuHeader.empty().append(t.menuData.label),t.state.expanded?(setTimeout(function(){t.$menuHeader.focus()},t.focusDelay),t._animateRight()):(e("#menu-level-1",t.$menu).removeClass("hidden"),e("#menu-sign-off",t.$menu).removeClass("hidden"),t.$menuLevel2Panel.addClass("hidden").empty())},_hideLevel1Menu:function(){var t=this;t.state.display="L2",e("#menu-level-1",t.$menu).addClass("hidden")},_identifyKeyElements:function(){var t=this;t.$menu=e("#nav-menu"),t.$menuBackButton=e("#menu-back-button",t.$menu),t.$menuCloseButton=e("#menu-close-button",t.$menu),t.$menuLevel1Panel=e("#menu-level-1",t.$menu),t.$menuLevel2Panel=e("#menu-level-2",t.$menu),t.$menuHeader=e("h1",t.$menu)},_init:function(){var e=this,t="";e.bundle=r.getBundle("bottom-nav-bar-menu"),e.menuData=o.assembleMenuData(),"undefined"!=typeof mwfGlobals.firstName&&(t=mwfGlobals.firstName),"undefined"!=typeof mwfGlobals.customerType&&"TPB"!==mwfGlobals.customerType&&(t=e.bundle.property("profile-intro")+" "+t),o.updateProfileLabel(e.menuData.sections,t),e.orientation=window.matchMedia("orientation: portrait").media?"orientation: portrait":"orientation: landscape",e._renderMenu()},_setMenuDimensions:function(){var e=this,t=a.getWindowHeight()-e.navBarHeight+1,n=a.getWindowWidth();e.$menu.css("width",n+"px"),e.$menu.css("height",t+"px"),e._setPanelHeight()},_setPanelHeight:function(){var e=this,t=e.$menu.height(),n=t+e.$menuCloseButton.height()+e.$menuBackButton.height()+e.$menuHeader.height()-10;e.$menuLevel1Panel.css("height",n+"px"),e.$menuLevel2Panel.css("height",n+"px")},showMenu:function(){var t=this;t.state.expanded=!0,t.navBarHeight=t.$navBar.outerHeight(!0),t._updateMenu(),t.$menuButton.addClass("selected"),t.$menu.removeClass("hidden"),t._animateUp(),t._updateA11y(),e(document).trigger("mwfNavBarMenuShown")},_showLevel1Menu:function(){var e=this;e.$menuLevel1Panel.removeClass("hidden"),e.$menuHeader.empty().append(e.menuData.label),e.$menuBackButton.addClass("hidden")},_showLevel2Menu:function(e){var o=this,i=o.menuData.sections[e];try{t.render("mwf-plugin-bottom-nav-bar-menu-link-template",i).done(function(e){o.$menuLevel2Panel.empty().append(e),o._hideLevel1Menu(),o.$menuBackButton.removeClass("hidden"),o.$menuLevel2Panel.removeClass("hidden"),o.$menuHeader.empty().append(i.label),setTimeout(function(){o.$menuHeader.focus()},o.focusDelay),o._animateLeft()})}catch(e){n.error(e)}},_renderMenu:function(){var o=this;o.menuData.closeLabel=o.bundle.property("a11y-close-label"),o.menuData.backLabel=o.bundle.property("a11y-back-label");try{t.render("mwf-plugin-bottom-nav-bar-menu-template",o.menuData).done(function(t){o.$navBar.after(t),o._identifyKeyElements(),o._updateFooterLinks(),o._addA11y(),o._bindEvents(),e(document).trigger("mwfNavBarMenuRendered")})}catch(e){n.error(e)}},_updateMenu:function(){var t=this;t.windowPosition=window.scrollY,e("body").attr("data-menu-displaying",!0),t._setMenuDimensions(),t.$menu.css({zIndex:Math.abs(t.$navBar.css("z-index"))-1,top:0})},_updateFooterLinks:function(){var t,n=this,o=n.$menu.find("li"),i=o.length;for(t=1;t<4;t++)e(o[i-t]).addClass("footer-item")},_updateA11y:function(){var e=this;e.state.expanded===!1?(e.$menu.attr("aria-hidden",!0),e.$menuButton.attr("aria-expanded","false"),e._a11yShowPage(),setTimeout(function(){e.$menuButton.focus()},e.focusDelay)):(e.$menu.removeAttr("aria-hidden"),e.$menuButton.attr("aria-expanded","true"),e._a11yHidePage(),setTimeout(function(){e.$menuHeader.focus()},e.focusDelay))}},e.fn[s]=function(t){return this.each(function(){var n=e.data(this,"plugin_"+s);if(n)switch(t){case"open":n.openMenu();break;case"close":n.closeMenu()}else e.data(this,"plugin_"+s,new d(this,t))})},d};return"function"==typeof define&&define.amd?void define("mwf-plugin-bottom-nav-bar-menu",["jquery","mwf-core-dust","mwf-core-logger","mwf-lib-bottom-nav-bar-util","mwf-core-serialize-data-attributes","mwf-core-window","mwf-core-properties","mwf-plugin-bottom-nav-bar-menu-template","mwf-plugin-bottom-nav-bar-menu-link-template","mwf-plugin-event-mediator"],t):t(window.jQuery)}(this),function(e){"use strict";var t=function(e,t,n,o,i,a,r){var s,l="mwf-core-ui-bottom-nav-bar",d="."+l,u=!1,c=!1,f=null,p=function(){if("undefined"!=typeof mwfGlobals.useMobileStickyFooter&&mwfGlobals.useMobileStickyFooter===!0&&"undefined"!=typeof window.mwfGlobals.menuContext&&window.mwfGlobals.menuContext.length>0)try{s=n.getBundle("bottom-nav-bar"),g()}catch(e){i.error(e)}},m=function(){var t=e("#nav-bar a");t.mwfBind("tapOrEnter"+d,function(){var t=o(this);e(this).is("[data-selected-link]")&&e(this).attr("data-home-id")===mwfGlobals.pageId||e(document).trigger("mwfNavigation",t)},{preventDefault:!0}),e("body").mwfBind("mwfPageIdChanged",function(){u||w(),c&&(f=e("#nav-bar [data-selected-link]"),f.attr("data-home-id")===mwfGlobals.pageId?f.attr("aria-disabled","true"):f.removeAttr("aria-disabled"))}),e(document).mwfBind("mwfHideNavBar",function(){e("#nav-bar").addClass("hidden")}),e(document).mwfBind("mwfShowNavBar",function(){e("#nav-bar").removeClass("hidden"),e("#nav-bar").css("bottom","-1px"),e(".page-content").css("padding-bottom",e("#nav-bar").height()-1+"px")}),e(document).mwfBind("mwfNavBarMenuShown",function(){c&&null!==f&&f.removeClass("selected")}),e(document).mwfBind("mwfNavBarMenuHidden",function(){c&&null!==f&&f.addClass("selected")})},g=function(){try{var n=a.assembleNavBarObject();n.ariaLabel=s.property("a11y-label"),"object"==typeof n?t.render("mwf-core-ui-bottom-nav-bar-template",n).done(function(t){e("body").append(t),e("#nav-bar").css("z-index",Math.abs(e(".masthead").css("z-index"))+2),m(),e("#nav-bar-menu").mwfBottomNavBarMenu(),e(document).trigger("mwfNavBarRendered")}):i.error("The navBar object was not assembled.")}catch(e){i.error(e)}},w=function(){var t,n;if("undefined"!=typeof mwfGlobals.pageId&&(n=mwfGlobals.pageId.indexOf("summary")!==-1?"summary":mwfGlobals.pageId,t=e("#nav-bar a[data-home-id="+n+"]").addClass("selected").attr("data-selected-link","true")),t.length>0){if(c=!0,"summary"===t.attr("data-home-id"))try{t.attr({"data-display-type":"page","data-target-view":"summary","data-target-element":".account-detail"})}catch(e){i.error(e)}t.attr("aria-label",t.attr("aria-label")+" "+s.property("a11y-selected"))}u=!0};p()};return"function"==typeof define&&define.amd?void define("mwf-core-ui-bottom-nav-bar",["jquery","mwf-core-dust","mwf-core-properties","mwf-core-serialize-data-attributes","mwf-core-logger","mwf-lib-bottom-nav-bar-util","mwf-core-zindex-util","mwf-plugin-event-mediator","mwf-core-ui-bottom-nav-bar-template","mwf-plugin-bottom-nav-bar-menu"],t):t(e.jQuery)}(this),function(e){"use strict";var t=function(e,t,n,o,i,a,r,s,l){var d=".mwfServicingCommon",u=mwfGlobals.devicePlatform;("undefined"!=typeof mwfGlobals.deviceInfo.deviceType&&"PHONE"===mwfGlobals.deviceInfo.deviceType||"undefined"!=typeof mwfGlobals.devicePlatform&&"7M"===mwfGlobals.devicePlatform)&&e(document).trigger("mwfShowNavBar"),e.extend(r.config,{openWindow:function(t){var n=e(t.sourceElement);n.is("[data-force-window]")?window.open(t.url):window.location.assign(t.url)}}),mwfGlobals.mwfDocumentReady.done(function(){"7P"===u&&(n.init(),require(["mwf-core-ui-cobrowse"])),e(window).trigger("resize"),e(document).on("tappedMastheadBackButton",function(){window.onDeviceBackPressed()}),e("footer").removeClass("hidden"),e(".expand-collapse-link").mwfExpandCollapse({addScreenReaderHints:!0}),e(document).mwfBind("tapOrEnter"+d,".modalLink",function(t){var n,i,a=e(this),r=".faq-modal-content",s=e.Deferred();s.done(function(){o.handleFocus(a)}),i=e(t.currentTarget).data("modal-target"),n=e(document).find("#"+i),n.mwfScrollablePopup({modalClosePromise:s}),e(r).find("h3").hasClass("expand-collapse-link")||e(r).find("h3").addClass("expand-collapse-link"),e(".mwf-modal").find(".expand-collapse-link").mwfExpandCollapse({addScreenReaderHints:!0})}),e(document).mwfBind("tapOrEnter"+d,".targetPopup",function(t){var n=e(t.currentTarget).data("popup-target");a.load(n).done(function(n){e(n).mwfTargetedPopup({target:t.currentTarget})})}),e("*[data-display-type]").mwfBind("tapOrEnter"+d,function(t){var n,o=e(this);n=i(o),e(document).trigger("mwfNavigation",n)},{stopPropagation:!0}),e(".samlOutbound").mwfBind("tapOrEnter"+d,function(t){var n;n=e(t.currentTarget).data("url"),e(document).trigger("mwfNavigation",[{displayType:"saml",ajaxCaller:"getJSON",url:n}])}),e(document).mwfBind("tapOrEnter","[data-bev-url]",function(n){var o=e(n.target).attr("data-bev-url");t.fireAndForget(o)}),window.mwfGlobals.enableTealeafSupport===!0&&require(["wf-tracking-servicing"])})};return"function"==typeof define&&define.amd?void define("mwf-servicing-ui-common",["jquery","mwf-core-ajax","mwf-core-ui-global-nav","mwf-servicing-ui-common-util","mwf-core-serialize-data-attributes","mwf-core-fragment-loader","mwf-core-dispatch-nav","mwf-core-logger","mwf-core-history","mwf-plugin-expand-collapse","mwf-core-dispatch-nav","mwf-core-ui-network-connection-error","mwf-core-signoff","mwf-core-ui-timeout-warning","mwf-core-ui-confirm-signoff","mwf-core-ui-message","mwf-core-ui-masthead","mwf-core-ui-fill-vertical","mwf-core-keyboard","mwf-core-lib-bev","mwf-core-ui-camera","mwf-plugin-event-mediator","mwf-plugin-overlay","mwf-core-ui-cobrowse","mwf-plugin-popover","mwf-core-ui-bottom-nav-bar","mwf-plugin-scrollable-popup","mwf-plugin-targeted-popup"],t):t(e.jQuery)}(this),function(e){"use strict";var t=function(e,t,n,o,i,a){var r=function(){var t=e(".page").find(".screen-content"),o=e(".page").find(".disclosures-content-wrapper");n(".page"),e(".mwf-overlay").remove(),e(".c60").find('[data-display-type="location"]').each(function(){var t=e(this).data().url;t.toLowerCase().indexOf("destinationurl=")>-1?t=s(t).destinationURL:e(this).mwfBind("tapOrEnter",function(){e("body").mwfOverlay({overlayName:"navigation",showWorkingIndicator:!0})},{stopPropagation:!1}),e(this).attr({"data-url":decodeURIComponent(t),"data-display-type":"browser"})}),t.length>0&&t.is(":empty")&&l(t,"bodyContent"),o.length>0&&o.is(":empty")&&l(o,"disclosureContent"),e("body").trigger("mwfAfterPageLoad")},s=function(e){var t=!!e&&e.split("?")[1],n={};if(t)for(var o=t.split("&"),i=o.length,a=0;a<i;a++){var r=o[a].split("="),s=void 0,l=r[0].replace(/\[\d*\]/,function(e){return s=e.slice(1,-1),""}),d="undefined"==typeof r[1]||r[1];n[l]?("string"==typeof n[l]&&(n[l]=[n[l]]),"undefined"==typeof s?n[l].push(d):n[l][s]=d):n[l]=d}return n},l=function(t,n){var o=t.find("[data-message-container]"),i=a.getBundle(["brokerage-xsell-properties"]),r={message:i.property("error-message")};if(0===o.length){var s=e("<div/>",{class:"globalMessages"}).attr("data-message-container",n);t.append(s)}e(document).trigger("mwfDisplayMessages",[[r],{clearFirst:!0,context:"ephemeral",containerName:n,messageType:"customer"}])};r()};return"function"==typeof define&&define.amd?void define("mwf-servicing-ui-brokerage-xsell-bootstrap",["jquery","mwf-core-logger","mwf-core-ui-cms","mwf-core-dispatch-nav","mwf-core-ui-message","mwf-core-properties","mwf-servicing-ui-common","mwf-plugin-overlay"],t):t(e.jQuery)}(this);
//# sourceMappingURL=mwf-servicing-ui-brokerage-xsell-bootstrap.js.map